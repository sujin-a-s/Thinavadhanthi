"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@cloudinary-util";
exports.ids = ["vendor-chunks/@cloudinary-util"];
exports.modules = {

/***/ "(ssr)/./node_modules/@cloudinary-util/url-loader/dist/chunk-5DLOH2LF.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@cloudinary-util/url-loader/dist/chunk-5DLOH2LF.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assetOptionsSchema: () => (/* binding */ assetOptionsSchema),\n/* harmony export */   constructCloudinaryUrl: () => (/* binding */ constructCloudinaryUrl),\n/* harmony export */   constructUrlPropsSchema: () => (/* binding */ constructUrlPropsSchema),\n/* harmony export */   effects: () => (/* binding */ effects),\n/* harmony export */   imageOptionsSchema: () => (/* binding */ imageOptionsSchema),\n/* harmony export */   position: () => (/* binding */ position),\n/* harmony export */   primary: () => (/* binding */ primary),\n/* harmony export */   text: () => (/* binding */ text),\n/* harmony export */   transformationPlugins: () => (/* binding */ transformationPlugins),\n/* harmony export */   videoOptionsSchema: () => (/* binding */ videoOptionsSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @cloudinary-util/util */ \"(ssr)/./node_modules/@cloudinary-util/util/dist/index.mjs\");\n/* harmony import */ var _cloudinary_url_gen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @cloudinary/url-gen */ \"(ssr)/./node_modules/@cloudinary/url-gen/instance/Cloudinary.js\");\nvar __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/constants/qualifiers.ts\n\n\n\n// src/constants/parameters.ts\nvar parameters_exports = {};\n__export(parameters_exports, {\n  angle: () => angle,\n  aspectRatio: () => aspectRatio,\n  aspectRatioModesEnum: () => aspectRatioModesEnum,\n  crop: () => crop,\n  cropModesEnum: () => cropModesEnum,\n  flags: () => flags,\n  flagsEnum: () => flagsEnum,\n  format: () => format,\n  gravity: () => gravity,\n  height: () => height,\n  width: () => width,\n  x: () => x,\n  y: () => y,\n  zoom: () => zoom\n});\n\nvar cropModesEnum = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n  \"auto\",\n  \"fill\",\n  \"lfill\",\n  \"fill_pad\",\n  \"crop\",\n  \"thumb\",\n  \"scale\",\n  \"fit\",\n  \"limit\",\n  \"mfit\",\n  \"pad\",\n  \"lpad\",\n  \"mpad\",\n  \"imagga_scale\",\n  \"imagga_crop\"\n]);\nvar flagsEnum = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n  \"animated\",\n  \"any_format\",\n  \"apng\",\n  \"attachment\",\n  \"awebp\",\n  \"clip\",\n  \"clip_evenodd\",\n  \"cutter\",\n  \"force_icc\",\n  \"force_strip\",\n  \"getinfo\",\n  \"group4\",\n  \"hlsv3\",\n  \"ignore_aspect_ratio\",\n  \"ignore_mask_channels\",\n  \"immutable_cache\",\n  \"keep_attribution\",\n  \"keep_dar\",\n  \"keep_iptc\",\n  \"layer_apply\",\n  \"lossy\",\n  \"mono\",\n  \"no_overflow\",\n  \"no_stream\",\n  \"png8_fl_png24_fl_png32\",\n  \"preserve_transparency\",\n  \"progressive\",\n  \"rasterize\",\n  \"region_relative\",\n  \"relative\",\n  \"replace_image\",\n  \"sanitize\",\n  \"splice\",\n  \"streaming_attachment\",\n  \"strip_profile\",\n  \"text_disallow_overflow\",\n  \"text_no_trim\",\n  \"tiff8_lzw\",\n  \"tiled\",\n  \"truncate_ts\",\n  \"waveform\"\n]);\nvar angle = {\n  qualifier: \"a\",\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.number()\n  ]).describe(JSON.stringify({\n    text: \"Rotates or flips an asset by the specified number of degrees or automatically according to its orientation or available metadata.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#a_angle\"\n  }))\n};\nvar aspectRatioModesEnum = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n  \"vflip\",\n  \"hflip\",\n  \"ignore\",\n  \"auto_right\",\n  \"auto_left\"\n]);\nvar aspectRatioSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.number(),\n  aspectRatioModesEnum,\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n]);\nvar aspectRatio = {\n  qualifier: \"ar\",\n  schema: aspectRatioSchema.describe(JSON.stringify({\n    text: \"Crops or resizes the asset to a new aspect ratio.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#ar_aspect_ratio\"\n  }))\n};\nvar cropSchema = cropModesEnum;\nvar crop = {\n  qualifier: \"c\",\n  schema: cropSchema.describe(JSON.stringify({\n    text: \"Mode to use when cropping an asset.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#c_crop_resize\"\n  }))\n};\nvar flags = {\n  qualifier: \"fl\",\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    flagsEnum,\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(flagsEnum)\n  ]).describe(JSON.stringify({\n    text: \"Alters the regular behavior of another transformation or the overall delivery behavior.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#fl_flag\"\n  }))\n};\nvar format = {\n  qualifier: \"f\",\n  // @TODO: enum\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n    text: \"Converts (if necessary) and delivers an asset in the specified format regardless of the file extension used in the delivery URL.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#f_format\"\n  }))\n};\nvar gravitySchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.string();\nvar gravity = {\n  qualifier: \"g\",\n  schema: gravitySchema.describe(JSON.stringify({\n    text: \"Determines which part of an asset to focus on. Note: Default of auto is applied for supported crop modes only.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#g_gravity\"\n  }))\n};\nvar heightSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.number(),\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n]);\nvar height = {\n  qualifier: \"h\",\n  schema: heightSchema.describe(JSON.stringify({\n    text: \"A qualifier that determines the height of a transformed asset or an overlay.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#h_height\"\n  }))\n};\nvar widthSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.number(),\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n]);\nvar width = {\n  qualifier: \"w\",\n  schema: widthSchema.describe(JSON.stringify({\n    text: \"A qualifier that sets the desired width of an asset using a specified value, or automatically based on the available width.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#w_width\"\n  }))\n};\nvar x = {\n  qualifier: \"x\",\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.number()\n  ]).describe(JSON.stringify({\n    text: \"Adjusts the starting location or offset of the x axis.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#x_y_coordinates\"\n  }))\n};\nvar y = {\n  qualifier: \"y\",\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.number()\n  ]).describe(JSON.stringify({\n    text: \"Adjusts the starting location or offset of the y axis.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#x_y_coordinates\"\n  }))\n};\nvar zoomSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.string();\nvar zoom = {\n  schema: zoomSchema.describe(JSON.stringify({\n    text: \"Controls how close to crop to the detected coordinates when using face-detection, custom-coordinate, or object-specific gravity.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#z_zoom\"\n  }))\n};\n\n// src/constants/qualifiers.ts\nvar convertersColors = [\n  {\n    test: _cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.testColorIsHex,\n    convert: _cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.convertColorHexToRgb\n  }\n];\nvar primary = {\n  aspectRatio,\n  crop,\n  gravity,\n  height,\n  width\n};\nvar position = {\n  angle,\n  gravity,\n  x,\n  y\n};\nvar text = {\n  alignment: {\n    qualifier: false,\n    order: 6\n  },\n  antialias: {\n    qualifier: \"antialias\"\n  },\n  border: {\n    qualifier: \"bo\",\n    location: \"primary\"\n  },\n  color: {\n    qualifier: \"co\",\n    location: \"primary\",\n    converters: convertersColors\n  },\n  fontFamily: {\n    qualifier: false,\n    order: 1\n  },\n  fontSize: {\n    qualifier: false,\n    order: 2\n  },\n  fontStyle: {\n    qualifier: false,\n    order: 4\n  },\n  fontWeight: {\n    qualifier: false,\n    order: 3\n  },\n  hinting: {\n    qualifier: \"hinting\"\n  },\n  letterSpacing: {\n    qualifier: \"letter_spacing\"\n  },\n  lineSpacing: {\n    qualifier: \"line_spacing\"\n  },\n  stroke: {\n    qualifier: \"self\",\n    order: 7\n  },\n  textDecoration: {\n    qualifier: false,\n    order: 5\n  }\n};\nvar effects = {\n  angle,\n  art: {\n    prefix: \"e\",\n    qualifier: \"art\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"Applies the selected artistic filter.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_art\"\n    }))\n  },\n  autoBrightness: {\n    prefix: \"e\",\n    qualifier: \"auto_brightness\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Automatically adjusts the image brightness and blends the result with the original image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_auto_brightness\"\n    }))\n  },\n  autoColor: {\n    prefix: \"e\",\n    qualifier: \"auto_color\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Automatically adjusts the image color balance and blends the result with the original image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_auto_color\"\n    }))\n  },\n  autoContrast: {\n    prefix: \"e\",\n    qualifier: \"auto_contrast\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Automatically adjusts the image contrast and blends the result with the original image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_auto_contrast\"\n    }))\n  },\n  assistColorblind: {\n    prefix: \"e\",\n    qualifier: \"assist_colorblind\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies stripes or color adjustment to help people with common color blind conditions to differentiate between colors that are similar for them.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_assist_colorblind\"\n    }))\n  },\n  background: {\n    qualifier: \"b\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"Applies a background to empty or transparent areas.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#b_background\"\n    }))\n  },\n  blackwhite: {\n    prefix: \"e\",\n    qualifier: \"blackwhite\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Converts an image to black and white.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_blackwhite\"\n    }))\n  },\n  blur: {\n    prefix: \"e\",\n    qualifier: \"blur\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a blurring filter to an asset.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_blur\"\n    }))\n  },\n  blurFaces: {\n    prefix: \"e\",\n    qualifier: \"blur_faces\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Blurs all detected faces in an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_blur_faces\"\n    }))\n  },\n  blurRegion: {\n    prefix: \"e\",\n    qualifier: \"blur_region\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a blurring filter to the region of an image specified by x, y, width and height, or an area of text. If no region is specified, the whole image is blurred.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_blur_region\"\n    }))\n  },\n  border: {\n    qualifier: \"bo\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"Adds a solid border around an image or video.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#bo_border\"\n    }))\n  },\n  brightness: {\n    prefix: \"e\",\n    qualifier: \"brightness\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts the image or video brightness.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_brightness\"\n    }))\n  },\n  brightnessHSB: {\n    prefix: \"e\",\n    qualifier: \"brightness_hsb\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts image brightness modulation in HSB to prevent artifacts in some images.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_brightness_hsb\"\n    }))\n  },\n  cartoonify: {\n    prefix: \"e\",\n    qualifier: \"cartoonify\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a cartoon effect to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_cartoonify\"\n    }))\n  },\n  color: {\n    qualifier: \"co\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"A qualifier that specifies the color to use with the corresponding transformation.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#co_color\"\n    })),\n    converters: convertersColors\n  },\n  colorize: {\n    prefix: \"e\",\n    qualifier: \"colorize\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"Colorizes an image. By default, gray is used for colorization. You can specify a different color using the color qualifier.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_colorize\"\n    }))\n  },\n  contrast: {\n    prefix: \"e\",\n    qualifier: \"contrast\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts an image or video contrast.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_contrast\"\n    }))\n  },\n  displace: {\n    prefix: \"e\",\n    qualifier: \"distort\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"Displaces the pixels in an image according to the color channels of the pixels in another specified image (a gradient map specified with the overlay parameter).\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_displace\"\n    }))\n  },\n  distort: {\n    prefix: \"e\",\n    qualifier: \"distort\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"Distorts an image to a new shape by either adjusting its corners or by warping it into an arc.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_distort\"\n    }))\n  },\n  fillLight: {\n    prefix: \"e\",\n    qualifier: \"fill_light\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts the fill light and optionally blends the result with the original image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_fill_light\"\n    }))\n  },\n  gamma: {\n    prefix: \"e\",\n    qualifier: \"gamma\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts the image or video gamma level.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_gamma\"\n    }))\n  },\n  gradientFade: {\n    prefix: \"e\",\n    qualifier: \"gradient_fade\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a gradient fade effect from the edge of an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_gradient_fade\"\n    }))\n  },\n  grayscale: {\n    prefix: \"e\",\n    qualifier: \"grayscale\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(JSON.stringify({\n      text: \"Converts an image to grayscale (multiple shades of gray).\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_grayscale\"\n    }))\n  },\n  hue: {\n    prefix: \"e\",\n    qualifier: \"hue\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts an image's hue.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_hue\"\n    }))\n  },\n  improve: {\n    prefix: \"e\",\n    qualifier: \"improve\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts an image's colors, contrast and brightness to improve its appearance.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_improve\"\n    }))\n  },\n  loop: {\n    prefix: \"e\",\n    qualifier: \"loop\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.number(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n    ]).describe(JSON.stringify({\n      text: \"Loops a video or animated image the specified number of times.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_loop\"\n    }))\n  },\n  multiply: {\n    prefix: \"e\",\n    qualifier: \"multiply\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(JSON.stringify({\n      text: \"A qualifier that blends image layers using the multiply blend mode\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_multiply\"\n    }))\n  },\n  negate: {\n    prefix: \"e\",\n    qualifier: \"negate\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"https://cloudinary.com/documentation/transformation_reference#e_negate\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_negate\"\n    }))\n  },\n  noise: {\n    prefix: \"e\",\n    qualifier: \"noise\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(JSON.stringify({\n      text: \"https://cloudinary.com/documentation/transformation_reference#e_noise\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_noise\"\n    }))\n  },\n  oilPaint: {\n    prefix: \"e\",\n    qualifier: \"oil_paint\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"https://cloudinary.com/documentation/transformation_reference#e_oil_paint\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_oil_paint\"\n    }))\n  },\n  opacity: {\n    qualifier: \"o\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.number()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts the opacity of an asset and makes it semi-transparent.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#o_opacity\"\n    }))\n  },\n  outline: {\n    prefix: \"e\",\n    qualifier: \"outline\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adds an outline effect to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_outline\"\n    }))\n  },\n  pixelate: {\n    prefix: \"e\",\n    qualifier: \"pixelate\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a pixelation effect.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_pixelate\"\n    }))\n  },\n  pixelateFaces: {\n    prefix: \"e\",\n    qualifier: \"pixelate_faces\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Pixelates all detected faces in an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_pixelate_faces\"\n    }))\n  },\n  pixelateRegion: {\n    prefix: \"e\",\n    qualifier: \"pixelate_region\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Pixelates the region of an image specified by x, y, width and height, or an area of text.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_pixelate_region\"\n    }))\n  },\n  radius: {\n    qualifier: \"r\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"Rounds the corners of an image or video.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#r_round_corners\"\n    }))\n  },\n  redeye: {\n    prefix: \"e\",\n    qualifier: \"redeye\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Automatically removes red eyes in an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_redeye\"\n    }))\n  },\n  replaceColor: {\n    prefix: \"e\",\n    qualifier: \"replace_color\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"Maps an input color and those similar to the input color to corresponding shades of a specified output color.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_replace_color\"\n    }))\n  },\n  saturation: {\n    prefix: \"e\",\n    qualifier: \"saturation\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts an image or video saturation level.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_saturation\"\n    }))\n  },\n  screen: {\n    prefix: \"e\",\n    qualifier: \"screen\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(JSON.stringify({\n      text: \"A qualifier that blends image layers using the screen blend mode.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_screen\"\n    }))\n  },\n  sepia: {\n    prefix: \"e\",\n    qualifier: \"sepia\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Changes the color scheme of an image to sepia.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_sepia\"\n    }))\n  },\n  shadow: {\n    prefix: \"e\",\n    qualifier: \"shadow\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adds a gray shadow to the bottom right of an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_shadow\"\n    }))\n  },\n  sharpen: {\n    prefix: \"e\",\n    qualifier: \"sharpen\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a sharpening filter.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_sharpen\"\n    }))\n  },\n  shear: {\n    prefix: \"e\",\n    qualifier: \"shear\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n      text: \"Skews an image according to the two specified values in degrees.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_shear\"\n    }))\n  },\n  simulateColorblind: {\n    prefix: \"e\",\n    qualifier: \"simulate_colorblind\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Simulates the way an image would appear to someone with the specified color blind condition.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_simulate_colorblind\"\n    }))\n  },\n  tint: {\n    prefix: \"e\",\n    qualifier: \"tint\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Blends an image with one or more tint colors at a specified intensity.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_tint\"\n    }))\n  },\n  trim: {\n    prefix: \"e\",\n    qualifier: \"trim\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Detects and removes image edges whose color is similar to the corner pixels.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_trim\"\n    }))\n  },\n  unsharpMask: {\n    prefix: \"e\",\n    qualifier: \"unsharp_mask\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies an unsharp mask filter to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_unsharp_mask\"\n    }))\n  },\n  vectorize: {\n    prefix: \"e\",\n    qualifier: \"vectorize\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Vectorizes an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_vectorize\"\n    }))\n  },\n  vibrance: {\n    prefix: \"e\",\n    qualifier: \"vibrance\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a vibrance filter to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_vibrance\"\n    }))\n  },\n  vignette: {\n    prefix: \"e\",\n    qualifier: \"vignette\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a vignette effect to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_vignette\"\n    }))\n  }\n};\n\n// src/types/asset.ts\n\n\n// src/plugins/cropping.ts\nvar cropping_exports = {};\n__export(cropping_exports, {\n  assetTypes: () => assetTypes,\n  plugin: () => plugin,\n  props: () => props\n});\n\n\n// src/lib/transformations.ts\nfunction constructTransformation({ prefix, qualifier, value, converters }) {\n  let transformation = \"\";\n  if (prefix) {\n    transformation = `${prefix}_`;\n  }\n  let transformationValue = value;\n  converters?.forEach(({ test, convert }) => {\n    if (!test(transformationValue))\n      return;\n    transformationValue = convert(transformationValue);\n  });\n  if (transformationValue === true || transformationValue === \"true\") {\n    return `${transformation}${qualifier}`;\n  }\n  if (typeof transformationValue === \"string\" || typeof transformationValue === \"number\") {\n    if (prefix) {\n      return `${transformation}${qualifier}:${transformationValue}`;\n    } else {\n      return `${qualifier}_${transformationValue}`;\n    }\n  }\n}\nfunction promptArrayToString(promptArray) {\n  return `(${promptArray.join(\";\")})`;\n}\nfunction normalizeNumberParameter(param) {\n  if (typeof param !== \"string\")\n    return param;\n  return parseInt(param);\n}\n\n// src/plugins/cropping.ts\nvar cropsAspectRatio = [\"auto\", \"crop\", \"fill\", \"lfill\", \"fill_pad\", \"thumb\"];\nvar cropsGravityAuto = [\"auto\", \"crop\", \"fill\", \"lfill\", \"fill_pad\", \"thumb\"];\nvar cropsWithZoom = [\"crop\", \"thumb\"];\nvar DEFAULT_CROP = \"limit\";\nvar cropOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  aspectRatio: aspectRatio.schema.optional(),\n  type: crop.schema,\n  gravity: gravity.schema.optional(),\n  height: height.schema.optional(),\n  width: width.schema.optional(),\n  zoom: zoom.schema.optional(),\n  source: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional()\n});\nvar props = {\n  aspectRatio: aspectRatio.schema.optional(),\n  crop: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    crop.schema,\n    cropOptionsSchema,\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(cropOptionsSchema)\n  ]).default(DEFAULT_CROP).optional(),\n  gravity: gravity.schema.optional(),\n  zoom: zoom.schema.optional()\n};\nvar assetTypes = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin(props21) {\n  const { cldAsset, options } = props21;\n  let crops = [];\n  if (typeof options.crop === \"string\" || typeof options.crop === \"undefined\") {\n    crops.push({\n      aspectRatio: options.aspectRatio,\n      width: options.width,\n      height: options.height,\n      gravity: options.gravity,\n      type: options.crop || DEFAULT_CROP,\n      zoom: options.zoom\n    });\n  } else if (typeof options.crop === \"object\" && !Array.isArray(options.crop)) {\n    crops.push(options.crop);\n  } else if (Array.isArray(options.crop)) {\n    crops = options.crop;\n  }\n  if (crops.length === 1 && crops[0].source === true) {\n    crops.push({\n      aspectRatio: options.aspectRatio,\n      width: options.width,\n      height: options.height,\n      gravity: options.gravity,\n      type: DEFAULT_CROP,\n      zoom: options.zoom\n    });\n  }\n  let finalTransformations = [];\n  let sourceTransformations = [];\n  for (const crop2 of crops) {\n    const cropDimensions = {\n      width: crop2.width,\n      height: crop2.height\n    };\n    if (typeof cropDimensions.width === \"undefined\" && typeof crop2.aspectRatio === \"undefined\") {\n      cropDimensions.width = options.width;\n      if (typeof cropDimensions.height === \"undefined\") {\n        cropDimensions.height = options.height;\n      }\n    }\n    const transformations = collectTransformations({\n      aspectRatio: crop2.aspectRatio,\n      gravity: crop2.gravity,\n      type: crop2.type || DEFAULT_CROP,\n      zoom: crop2.zoom,\n      ...cropDimensions\n    });\n    if (transformations.length > 0) {\n      if (crop2.source === true) {\n        sourceTransformations.push(transformations);\n      } else {\n        finalTransformations.push(transformations);\n      }\n    }\n  }\n  sourceTransformations.forEach((transformation) => {\n    if (transformation.length > 0) {\n      cldAsset.addTransformation(transformation.join(\",\"));\n    }\n  });\n  const results = {\n    options: {}\n  };\n  if (results.options && finalTransformations.length > 0) {\n    results.options.resize = finalTransformations.map((transformation) => transformation.join(\",\")).join(\"/\");\n  }\n  return results;\n}\nfunction collectTransformations(collectOptions) {\n  const { aspectRatio: aspectRatio2, type: crop2, zoom: zoom2 } = collectOptions;\n  let gravity2 = collectOptions.gravity;\n  let height2 = normalizeNumberParameter(collectOptions.height);\n  let width2 = normalizeNumberParameter(collectOptions.width);\n  const transformations = [];\n  const hasDefinedDimensions = height2 || width2;\n  const hasValidAspectRatio = aspectRatio2 && cropsAspectRatio.includes(crop2);\n  if (crop2 && (hasDefinedDimensions || hasValidAspectRatio)) {\n    transformations.push(`c_${crop2}`);\n  }\n  if (hasValidAspectRatio) {\n    transformations.push(`ar_${aspectRatio2}`);\n  }\n  if (width2) {\n    transformations.push(`w_${width2}`);\n  }\n  if (![\"limit\"].includes(crop2) && typeof height2 === \"number\") {\n    transformations.push(`h_${height2}`);\n  }\n  if (!gravity2 && cropsGravityAuto.includes(crop2)) {\n    gravity2 = \"auto\";\n  }\n  if (gravity2) {\n    if (gravity2 === \"auto\" && !cropsGravityAuto.includes(crop2)) {\n      console.warn(`Auto gravity can only be used with crop modes: ${cropsGravityAuto.join(\", \")}. Not applying gravity.`);\n    } else {\n      transformations.push(`g_${gravity2}`);\n    }\n  }\n  if (zoom2) {\n    if (zoom2 === \"auto\" && !cropsWithZoom.includes(crop2)) {\n      console.warn(`Zoom can only be used with crop modes: ${cropsWithZoom.join(\", \")}. Not applying zoom.`);\n    } else {\n      transformations.push(`z_${zoom2}`);\n    }\n  }\n  return transformations;\n}\n\n// src/plugins/effects.ts\nvar effects_exports = {};\n__export(effects_exports, {\n  assetTypes: () => assetTypes2,\n  plugin: () => plugin2,\n  props: () => props2\n});\n\nvar effectProps = {\n  angle: effects.angle.schema.optional(),\n  art: effects.art.schema.optional(),\n  autoBrightness: effects.autoBrightness.schema.optional(),\n  autoColor: effects.autoColor.schema.optional(),\n  autoContrast: effects.autoContrast.schema.optional(),\n  assistColorblind: effects.assistColorblind.schema.optional(),\n  background: effects.background.schema.optional(),\n  blackwhite: effects.blackwhite.schema.optional(),\n  blur: effects.blur.schema.optional(),\n  blurFaces: effects.blurFaces.schema.optional(),\n  blurRegion: effects.blurRegion.schema.optional(),\n  border: effects.border.schema.optional(),\n  brightness: effects.brightness.schema.optional(),\n  brightnessHSB: effects.brightnessHSB.schema.optional(),\n  cartoonify: effects.cartoonify.schema.optional(),\n  color: effects.color.schema.optional(),\n  colorize: effects.colorize.schema.optional(),\n  contrast: effects.contrast.schema.optional(),\n  distort: effects.distort.schema.optional(),\n  fillLight: effects.fillLight.schema.optional(),\n  gamma: effects.gamma.schema.optional(),\n  gradientFade: effects.gradientFade.schema.optional(),\n  grayscale: effects.grayscale.schema.optional(),\n  improve: effects.improve.schema.optional(),\n  loop: effects.loop.schema.optional(),\n  multiply: effects.multiply.schema.optional(),\n  negate: effects.negate.schema.optional(),\n  oilPaint: effects.oilPaint.schema.optional(),\n  opacity: effects.opacity.schema.optional(),\n  outline: effects.outline.schema.optional(),\n  pixelate: effects.pixelate.schema.optional(),\n  pixelateFaces: effects.pixelateFaces.schema.optional(),\n  pixelateRegion: effects.pixelateRegion.schema.optional(),\n  radius: effects.radius.schema.optional(),\n  redeye: effects.redeye.schema.optional(),\n  replaceColor: effects.replaceColor.schema.optional(),\n  saturation: effects.saturation.schema.optional(),\n  screen: effects.screen.schema.optional(),\n  sepia: effects.sepia.schema.optional(),\n  shadow: effects.shadow.schema.optional(),\n  sharpen: effects.sharpen.schema.optional(),\n  shear: effects.shear.schema.optional(),\n  simulateColorblind: effects.simulateColorblind.schema.optional(),\n  tint: effects.tint.schema.optional(),\n  trim: effects.trim.schema.optional(),\n  unsharpMask: effects.unsharpMask.schema.optional(),\n  vectorize: effects.vectorize.schema.optional(),\n  vibrance: effects.vibrance.schema.optional(),\n  vignette: effects.vignette.schema.optional()\n};\nvar props2 = {\n  effects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object(effectProps)).describe(JSON.stringify({\n    text: \"Array of objects specifying transformations to be applied to asset.\"\n  })).optional(),\n  ...effectProps\n};\nvar assetTypes2 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin2(props21) {\n  const { cldAsset, options } = props21;\n  const transformationStrings = constructTransformationString({\n    effects,\n    options\n  });\n  transformationStrings.filter((t) => !!t).forEach((transformation) => cldAsset.effect(transformation));\n  ;\n  if (Array.isArray(options?.effects)) {\n    options?.effects.forEach((effectsSet) => {\n      const transformationString = constructTransformationString({\n        effects,\n        options: effectsSet\n      }).filter((t) => !!t).join(\",\");\n      cldAsset.effect(transformationString);\n    });\n  }\n  function constructTransformationString({ effects: effects2, options: options2 }) {\n    return Object.keys(effects2).map((key) => {\n      const { prefix, qualifier, converters } = effects2[key];\n      return constructTransformation({\n        qualifier,\n        prefix,\n        value: options2?.[key],\n        converters\n      });\n    });\n  }\n  return {};\n}\n\n// src/plugins/flags.ts\nvar flags_exports = {};\n__export(flags_exports, {\n  assetTypes: () => assetTypes3,\n  plugin: () => plugin3,\n  props: () => props3\n});\nvar { flagsEnum: flagsEnum2 } = parameters_exports;\nvar props3 = {\n  flags: flags.schema.optional()\n};\nvar assetTypes3 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin3(props21) {\n  const { cldAsset, options } = props21;\n  const { flags: flags2 = [] } = options;\n  if (Array.isArray(flags2) && flags2.length > 0) {\n    flags2.forEach((flag) => {\n      const { success } = flagsEnum2.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      cldAsset.addFlag(flag);\n    });\n  } else if (typeof flags2 === \"object\") {\n    Object.entries(flags2).forEach(([qualifier, value]) => {\n      const { success } = flagsEnum2.safeParse(qualifier);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${qualifier}, not applying.`);\n        }\n        return;\n      }\n      cldAsset.addTransformation(`fl_${qualifier}:${value}`);\n    });\n  }\n  return {};\n}\n\n// src/plugins/named-transformations.ts\nvar named_transformations_exports = {};\n__export(named_transformations_exports, {\n  assetTypes: () => assetTypes4,\n  plugin: () => plugin4,\n  props: () => props4,\n  strict: () => strict\n});\n\nvar NamedTransformationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.string();\nvar props4 = {\n  namedTransformations: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    NamedTransformationSchema,\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(NamedTransformationSchema)\n  ]).describe(JSON.stringify({\n    text: \"Named transformations to apply to asset.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#named_transformations\"\n  })).optional(),\n  /**\n   * @deprecated use {@link `namedTransformations`} instead\n   */\n  transformations: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    NamedTransformationSchema,\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(NamedTransformationSchema)\n  ]).describe(JSON.stringify({\n    text: \"Deprecated: use namedTransformations instead\",\n    url: \"https://cloudinary.com/documentation/image_transformations#named_transformations\"\n  })).optional()\n};\nvar assetTypes4 = [\"image\", \"images\", \"video\", \"videos\"];\nvar strict = true;\nfunction plugin4(props21) {\n  const { cldAsset, options } = props21;\n  const { transformations, namedTransformations } = options;\n  if (transformations && process.env.NODE_ENVIRONMENT === \"development\") {\n    console.warn(\"The transformations prop is deprecated. Please use namedTransformations instead.\");\n  }\n  let _namedTransformations = namedTransformations || transformations || [];\n  if (!Array.isArray(_namedTransformations)) {\n    _namedTransformations = [_namedTransformations];\n  }\n  _namedTransformations.forEach((transformation) => {\n    cldAsset.addTransformation(`t_${transformation}`);\n  });\n  return {};\n}\n\n// src/plugins/overlays.ts\nvar overlays_exports = {};\n__export(overlays_exports, {\n  DEFAULT_TEXT_OPTIONS: () => DEFAULT_TEXT_OPTIONS,\n  assetTypes: () => assetTypes5,\n  plugin: () => plugin5,\n  props: () => props5\n});\n\n\nvar overlayTextSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  alignment: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  antialias: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  border: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  color: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  fontFamily: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  fontSize: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().optional(),\n  fontStyle: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.number()\n  ]).optional(),\n  fontWeight: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  hinting: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.number()\n  ]).optional(),\n  letterSpacing: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.number()\n  ]).optional(),\n  lineSpacing: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.number()\n  ]).optional(),\n  stroke: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  text: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n  // Required if using object format\n});\nvar overlayPositionSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  angle: angle.schema.optional(),\n  gravity: gravity.schema.optional(),\n  x: x.schema.optional(),\n  y: y.schema.optional()\n});\nvar overlaySchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  appliedEffects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({})).optional(),\n  appliedFlags: flags.schema.optional(),\n  effects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({})).optional(),\n  crop: crop.schema.optional(),\n  flags: flags.schema.optional(),\n  height: height.schema.optional(),\n  position: overlayPositionSchema.optional(),\n  publicId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  text: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    overlayTextSchema\n  ]).optional(),\n  url: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  width: width.schema.optional()\n});\nvar props5 = {\n  overlay: overlaySchema.describe(JSON.stringify({\n    text: \"Image or text layer that is applied on top of the base image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n  })).optional(),\n  overlays: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(overlaySchema).describe(JSON.stringify({\n    text: \"Image or text layers that are applied on top of the base image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n  })).optional(),\n  text: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n    text: \"Text to be overlaid on asset.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#transformation_url_structure\"\n  })).optional()\n};\nvar assetTypes5 = [\"image\", \"images\", \"video\", \"videos\"];\nvar DEFAULT_TEXT_OPTIONS = {\n  color: \"black\",\n  fontFamily: \"Arial\",\n  fontSize: 200,\n  fontWeight: \"bold\"\n};\nfunction plugin5(props21) {\n  const { cldAsset, options } = props21;\n  const { text: text2, overlays = [] } = options;\n  const type = \"overlay\";\n  const typeQualifier = \"l\";\n  if (Array.isArray(overlays)) {\n    overlays.forEach(applyOverlay);\n  }\n  if (typeof text2 === \"string\") {\n    applyOverlay({\n      text: Object.assign({}, DEFAULT_TEXT_OPTIONS, {\n        text: text2\n      })\n    });\n  } else if (typeof text2 === \"object\") {\n    applyOverlay({\n      text: Object.assign({}, DEFAULT_TEXT_OPTIONS, text2)\n    });\n  }\n  function applyOverlay({ publicId, url, position: position2, text: text3, effects: layerEffects = [], appliedEffects = [], flags: layerFlags = [], appliedFlags = [], ...options2 }) {\n    const hasPublicId = typeof publicId === \"string\";\n    const hasUrl = typeof url === \"string\";\n    const hasText = typeof text3 === \"object\" || typeof text3 === \"string\";\n    const hasPosition = typeof position2 === \"object\";\n    if (!hasPublicId && !hasUrl && !hasText) {\n      console.warn(`An ${type} is missing Public ID, URL, or Text`);\n      return;\n    }\n    let layerTransformation;\n    if (hasText) {\n      layerTransformation = `${typeQualifier}_text`;\n    } else if (hasPublicId) {\n      layerTransformation = `${typeQualifier}_${publicId.replace(/\\//g, \":\")}`;\n    } else if (hasUrl) {\n      layerTransformation = `${typeQualifier}_fetch:${(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.encodeBase64)(url)}`;\n    }\n    const primary2 = [];\n    const applied = [];\n    Object.keys(options2).forEach((key) => {\n      if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(primary, key))\n        return;\n      const { qualifier, converters } = primary[key];\n      const transformation = constructTransformation({\n        qualifier,\n        value: options2[key],\n        converters\n      });\n      if (transformation) {\n        primary2.push(transformation);\n      }\n    });\n    layerEffects.forEach((effect) => {\n      Object.keys(effect).forEach((key) => {\n        const effectQualifier = primary[key] || effects[key] || position[key];\n        if (!effectQualifier)\n          return;\n        const { qualifier, prefix, converters } = effectQualifier;\n        const transformation = constructTransformation({\n          qualifier,\n          prefix,\n          value: effect[key],\n          converters\n        });\n        if (transformation) {\n          primary2.push(transformation);\n        }\n      });\n    });\n    appliedEffects.forEach((effect) => {\n      Object.keys(effect).forEach((key) => {\n        const effectQualifier = primary[key] || effects[key] || position[key];\n        if (!effectQualifier)\n          return;\n        const { qualifier, prefix, converters } = effectQualifier;\n        const transformation = constructTransformation({\n          qualifier,\n          prefix,\n          value: effect[key],\n          converters\n        });\n        if (transformation) {\n          applied.push(transformation);\n        }\n      });\n    });\n    const activeLayerFlags = Array.isArray(layerFlags) ? layerFlags : [layerFlags];\n    activeLayerFlags.forEach((flag) => {\n      const { success } = flagsEnum.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      primary2.push(`fl_${flag}`);\n    });\n    const activeAppliedFlags = Array.isArray(appliedFlags) ? appliedFlags : [appliedFlags];\n    activeAppliedFlags.forEach((flag) => {\n      const { success } = flagsEnum.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      applied.push(`fl_${flag}`);\n    });\n    if (hasText) {\n      if (typeof text3 === \"string\") {\n        text3 = {\n          ...DEFAULT_TEXT_OPTIONS,\n          text: text3\n        };\n      }\n      const textTransformations = [];\n      if (typeof text3 === \"object\") {\n        const textOptions = Object.keys(text3).filter((key) => (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(text, key)).map((key) => {\n          const value = text3 && (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(text3, key) && text3[key];\n          return {\n            ...text[key],\n            key,\n            value,\n            order: text[key].order || 99\n          };\n        });\n        const sortedTextOptions = (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.sortByKey)(textOptions, \"order\");\n        for (const textOption of sortedTextOptions) {\n          const { key, value, qualifier, location, converters } = textOption;\n          let textValue = value;\n          converters?.forEach(({ test, convert }) => {\n            if (!test(value))\n              return;\n            textValue = convert(value);\n          });\n          if (location === \"primary\") {\n            primary2.push(`${qualifier}_${textValue}`);\n          } else if (qualifier === \"self\") {\n            textTransformations.push(key);\n          } else if (qualifier) {\n            textTransformations.push(`${qualifier}_${textValue}`);\n          } else {\n            textTransformations.push(textValue);\n          }\n        }\n      }\n      const specialCharacters = {\n        \".\": \"%2E\",\n        \",\": \"%2C\",\n        \"/\": \"%2F\"\n      };\n      let layerText = text3?.text || \"\";\n      if (typeof layerText === \"string\") {\n        Object.keys(specialCharacters)?.forEach((character) => {\n          layerText = layerText?.replace(character, specialCharacters[character]);\n        });\n      }\n      layerTransformation = `${layerTransformation}:${textTransformations.join(\"_\")}:${layerText}`;\n    }\n    if (hasPosition) {\n      Object.keys(position2).forEach((key) => {\n        if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(position, key) || !(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(position2, key))\n          return;\n        const { qualifier, converters } = position[key];\n        const transformation = constructTransformation({\n          qualifier,\n          value: position2[key],\n          converters\n        });\n        if (transformation) {\n          applied.push(transformation);\n        }\n      });\n    }\n    if (primary2.length > 0) {\n      layerTransformation = `${layerTransformation},${primary2.join(\",\")}`;\n    }\n    layerTransformation = `${layerTransformation}/fl_layer_apply,fl_no_overflow`;\n    if (applied.length > 0) {\n      layerTransformation = `${layerTransformation},${applied.join(\",\")}`;\n    }\n    cldAsset.addTransformation(layerTransformation);\n  }\n  return {};\n}\n\n// src/plugins/raw-transformations.ts\nvar raw_transformations_exports = {};\n__export(raw_transformations_exports, {\n  assetTypes: () => assetTypes6,\n  plugin: () => plugin6,\n  props: () => props6\n});\n\nvar RawTransformationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.string();\nvar props6 = {\n  rawTransformations: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    RawTransformationSchema,\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(RawTransformationSchema)\n  ]).describe(JSON.stringify({\n    text: \"Array of transformation parameters using the Cloudinary URL API to apply to an asset.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference\"\n  })).optional()\n};\nvar assetTypes6 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin6(props21) {\n  const { cldAsset, options } = props21;\n  let { rawTransformations = [] } = options;\n  if (!Array.isArray(rawTransformations)) {\n    rawTransformations = [rawTransformations];\n  }\n  rawTransformations.forEach((transformation) => {\n    cldAsset.addTransformation(transformation);\n  });\n  return {};\n}\n\n// src/plugins/remove-background.ts\nvar remove_background_exports = {};\n__export(remove_background_exports, {\n  assetTypes: () => assetTypes7,\n  plugin: () => plugin7,\n  props: () => props7\n});\n\nvar props7 = {\n  removeBackground: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(JSON.stringify({\n    text: \"Removes the background of an image using the Cloudinary AI Background Removal Add-On (Required).\",\n    url: \"https://cloudinary.com/documentation/cloudinary_ai_background_removal_addon\"\n  })).optional()\n};\nvar assetTypes7 = [\"image\", \"images\"];\nfunction plugin7(props21) {\n  const { cldAsset, options } = props21;\n  const { removeBackground = false } = options;\n  if (removeBackground) {\n    cldAsset.effect(\"e_background_removal\");\n  }\n  return {};\n}\n\n// src/plugins/sanitize.ts\nvar sanitize_exports = {};\n__export(sanitize_exports, {\n  assetTypes: () => assetTypes8,\n  plugin: () => plugin8,\n  props: () => props8\n});\n\nvar props8 = {\n  sanitize: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(JSON.stringify({\n    text: \"Runs a sanitizer on SVG images.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#fl_sanitize\"\n  })).optional()\n};\nvar assetTypes8 = [\"image\", \"images\"];\nfunction plugin8(props21) {\n  const { cldAsset, options } = props21;\n  const { sanitize = true } = options;\n  const shouldApplySanitizer = sanitize && (options.format === \"svg\" || cldAsset.publicID.endsWith(\".svg\"));\n  if (shouldApplySanitizer) {\n    cldAsset.effect(\"fl_sanitize\");\n  }\n  return {};\n}\n\n// src/plugins/seo.ts\nvar seo_exports = {};\n__export(seo_exports, {\n  assetTypes: () => assetTypes9,\n  plugin: () => plugin9,\n  props: () => props9\n});\n\nvar props9 = {\n  seoSuffix: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n    text: \"Configures the URL to include an SEO-friendly suffix in the URL\",\n    url: \"https://cloudinary.com/documentation/advanced_url_delivery_options#seo_friendly_media_asset_urls\"\n  })).optional()\n};\nvar assetTypes9 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin9(props21) {\n  const { cldAsset, options } = props21;\n  const { seoSuffix } = options;\n  if (typeof seoSuffix === \"string\") {\n    if (options.deliveryType === \"fetch\") {\n      console.warn(\"SEO suffix is not supported with a delivery type of fetch\");\n    } else {\n      cldAsset.setSuffix(seoSuffix);\n    }\n  }\n  return {};\n}\n\n// src/plugins/underlays.ts\nvar underlays_exports = {};\n__export(underlays_exports, {\n  assetTypes: () => assetTypes10,\n  plugin: () => plugin10,\n  props: () => props10\n});\n\n\nvar underlayPositionSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  angle: angle.schema.optional(),\n  gravity: gravity.schema.optional(),\n  x: x.schema.optional(),\n  y: y.schema.optional()\n});\nvar underlaySchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  appliedEffects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({})).optional(),\n  appliedFlags: flags.schema.optional(),\n  effects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({})).optional(),\n  crop: crop.schema.optional(),\n  flags: flags.schema.optional(),\n  height: height.schema.optional(),\n  position: underlayPositionSchema.optional(),\n  publicId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  url: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  width: width.schema.optional()\n});\nvar props10 = {\n  underlay: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n    text: \"Public ID of image that is applied under the base image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n  })).optional(),\n  underlays: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(underlaySchema).describe(JSON.stringify({\n    text: \"Image layers that are applied under the base image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n  })).optional()\n};\nvar assetTypes10 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin10(props21) {\n  const { cldAsset, options } = props21;\n  const { underlay, underlays = [] } = options;\n  const typeQualifier = \"u\";\n  if (Array.isArray(underlays)) {\n    underlays.forEach(applyUnderlay);\n  }\n  if (typeof underlay === \"string\") {\n    const underlayOptions = {\n      publicId: underlay,\n      crop: \"fill\",\n      width: \"1.0\",\n      height: \"1.0\",\n      flags: [\"relative\"]\n    };\n    applyUnderlay(underlayOptions);\n  }\n  function applyUnderlay({ publicId, type, position: position2, effects: layerEffects = [], flags: layerFlags = [], appliedFlags = [], ...options2 }) {\n    const hasPublicId = typeof publicId === \"string\";\n    const hasPosition = typeof position2 === \"object\";\n    if (!hasPublicId) {\n      console.warn(`An ${type} is missing a Public ID`);\n      return;\n    }\n    let layerTransformation = `${typeQualifier}_${publicId.replace(/\\//g, \":\")}`;\n    const primary2 = [];\n    const applied = [];\n    Object.keys(options2).forEach((key) => {\n      if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(primary, key))\n        return;\n      const { qualifier } = primary[key];\n      primary2.push(`${qualifier}_${options2[key]}`);\n    });\n    layerEffects.forEach((effect) => {\n      Object.keys(effect).forEach((key) => {\n        if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(primary, key))\n          return;\n        const { qualifier } = primary[key];\n        primary2.push(`${qualifier}_${effect[key]}`);\n      });\n    });\n    if (hasPosition) {\n      Object.keys(position2).forEach((key) => {\n        if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(position, key))\n          return;\n        const { qualifier } = position[key];\n        applied.push(`${qualifier}_${position2[key]}`);\n      });\n    }\n    const activeLayerFlags = Array.isArray(layerFlags) ? layerFlags : [layerFlags];\n    activeLayerFlags.forEach((flag) => {\n      const { success } = flagsEnum.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      primary2.push(`fl_${flag}`);\n    });\n    const activeAppliedFlags = Array.isArray(appliedFlags) ? appliedFlags : [appliedFlags];\n    activeAppliedFlags.forEach((flag) => {\n      const { success } = flagsEnum.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      applied.push(`fl_${flag}`);\n    });\n    layerTransformation = `${layerTransformation},${primary2.join(\",\")}`;\n    layerTransformation = `${layerTransformation}/fl_layer_apply,fl_no_overflow`;\n    if (applied.length > 0) {\n      layerTransformation = `${layerTransformation},${applied.join(\",\")}`;\n    }\n    cldAsset.addTransformation(layerTransformation);\n  }\n  return {};\n}\n\n// src/plugins/version.ts\nvar version_exports = {};\n__export(version_exports, {\n  assetTypes: () => assetTypes11,\n  plugin: () => plugin11,\n  props: () => props11\n});\n\nvar props11 = {\n  version: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.number(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n  ]).describe(JSON.stringify({\n    text: \"Custom version number to apply to asset URL.\",\n    url: \"https://cloudinary.com/documentation/advanced_url_delivery_options#asset_versions\"\n  })).optional()\n};\nvar assetTypes11 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin11(props21) {\n  const { cldAsset, options } = props21;\n  const { version } = options;\n  if (typeof version === \"string\" || typeof version === \"number\") {\n    cldAsset.setVersion(`${version}`.replace(\"v\", \"\"));\n  }\n  return {};\n}\n\n// src/types/asset.ts\nvar assetOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  assetType: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().default(\"image\").describe(JSON.stringify({\n    text: \"The type of asset to deliver.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#transformation_url_structure\"\n  })).optional(),\n  deliveryType: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().default(\"upload\").describe(JSON.stringify({\n    text: \"Delivery method of the asset.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#delivery_types\"\n  })).optional(),\n  dpr: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(JSON.stringify({\n    text: \"Delivery method of the asset.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#delivery_types\"\n  })).optional(),\n  format: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().default(\"auto\").describe(JSON.stringify({\n    text: \"Converts (if necessary) and delivers an asset in the specified format.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#f_format\"\n  })).optional(),\n  height: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(JSON.stringify({\n    text: \"Height of the given asset.\"\n  })).optional(),\n  quality: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number(), zod__WEBPACK_IMPORTED_MODULE_0__.z.string()]).default(\"auto\").describe(JSON.stringify({\n    text: \"Quality of the delivered asset\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#q_quality\"\n  })).optional(),\n  src: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n    text: \"Cloudinary Public ID or versioned Cloudinary URL (/v1234/)\"\n  })),\n  strictTransformations: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(JSON.stringify({\n    text: \"Gives you the ability to have more control over what transformations are permitted to be used from your Cloudinary account.\",\n    url: \"https://cloudinary.com/documentation/control_access_to_media#strict_transformations\"\n  })).optional(),\n  width: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(JSON.stringify({\n    text: \"Width of the given asset.\"\n  })).optional(),\n  // Spreading plugins instead of extend or merge to avoid excessive schema warning\n  // https://github.com/microsoft/TypeScript/issues/34933#issuecomment-1772787785\n  ...props,\n  ...props2,\n  ...props3,\n  ...props4,\n  ...props5,\n  ...props6,\n  ...props7,\n  ...props8,\n  ...props9,\n  ...props10,\n  ...props11\n});\n\n// src/types/image.ts\n\n\n// src/plugins/default-image.ts\nvar default_image_exports = {};\n__export(default_image_exports, {\n  assetTypes: () => assetTypes12,\n  plugin: () => plugin12,\n  props: () => props12\n});\n\n\nvar props12 = {\n  defaultImage: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n    text: \"Configures the default image to use in case the given public ID is not available. Must include file extension.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#d_default_image\"\n  })).optional()\n};\nvar assetTypes12 = [\"image\", \"images\"];\nfunction plugin12(props21) {\n  const { cldAsset, options } = props21;\n  const { defaultImage } = options;\n  if (typeof defaultImage === \"string\") {\n    if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.getFormat)(defaultImage)) {\n      console.warn(`The defaultImage prop may be missing a format and must include it along with the public ID. (Ex: myimage.jpg)`);\n    }\n    const defaultImageId = defaultImage.replace(/\\//g, \":\");\n    cldAsset.addTransformation(`d_${defaultImageId}`);\n  }\n  return {};\n}\n\n// src/plugins/fill-background.ts\nvar fill_background_exports = {};\n__export(fill_background_exports, {\n  assetTypes: () => assetTypes13,\n  plugin: () => plugin13,\n  props: () => props13\n});\n\nvar props13 = {\n  fillBackground: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n      crop: crop.schema.optional(),\n      gravity: gravity.schema.optional(),\n      prompt: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n    })\n  ]).describe(JSON.stringify({\n    text: \"Uses Generative Fill to extended padded image with AI\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#b_gen_fill\"\n  })).optional()\n};\nvar assetTypes13 = [\"image\", \"images\"];\nvar defaultCrop = \"pad\";\nfunction plugin13(props21) {\n  const { cldAsset, options } = props21;\n  const { fillBackground } = options;\n  if (typeof fillBackground === \"undefined\")\n    return;\n  const width2 = normalizeNumberParameter(options.width);\n  const height2 = normalizeNumberParameter(options.height);\n  const hasDefinedDimensions = typeof height2 === \"number\" && typeof width2 === \"number\";\n  let aspectRatio2 = options.aspectRatio;\n  if (!aspectRatio2 && hasDefinedDimensions) {\n    aspectRatio2 = `${width2}:${height2}`;\n  }\n  if (!aspectRatio2) {\n    if (true) {\n      console.warn(`Could not determine aspect ratio based on available options to use fillBackground. Please specify width and height or an aspect ratio.`);\n    }\n    return;\n  }\n  if (fillBackground === true) {\n    const properties = [\n      \"b_gen_fill\",\n      `ar_${aspectRatio2}`,\n      `c_${defaultCrop}`\n    ];\n    cldAsset.addTransformation(properties.join(\",\"));\n  } else if (typeof fillBackground === \"object\") {\n    const { crop: crop2 = defaultCrop, gravity: gravity2, prompt } = fillBackground;\n    const properties = [\n      `ar_${aspectRatio2}`,\n      `c_${crop2}`\n    ];\n    if (typeof prompt === \"string\") {\n      properties.unshift(`b_gen_fill:${prompt}`);\n    } else {\n      properties.unshift(`b_gen_fill`);\n    }\n    if (typeof gravity2 === \"string\") {\n      properties.push(`g_${gravity2}`);\n    }\n    cldAsset.addTransformation(properties.join(\",\"));\n  }\n  return {};\n}\n\n// src/plugins/recolor.ts\nvar recolor_exports = {};\n__export(recolor_exports, {\n  assetTypes: () => assetTypes14,\n  plugin: () => plugin14,\n  props: () => props14\n});\n\nvar imageOptionsRecolorPromptSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string())\n]);\nvar imageOptionsRecolorSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  prompt: imageOptionsRecolorPromptSchema.optional(),\n  to: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  multiple: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional()\n});\nvar props14 = {\n  recolor: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    imageOptionsRecolorPromptSchema,\n    imageOptionsRecolorSchema\n  ]).describe(JSON.stringify({\n    text: \"Uses generative AI to recolor parts of your image, maintaining the relative shading.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_recolor\"\n  })).optional()\n};\nvar assetTypes14 = [\"image\", \"images\"];\nfunction plugin14(props21) {\n  const { cldAsset, options } = props21;\n  const { recolor } = options;\n  const recolorOptions = {\n    prompt: void 0,\n    \"to-color\": void 0,\n    multiple: void 0\n  };\n  if (Array.isArray(recolor)) {\n    if (Array.isArray(recolor[0])) {\n      recolorOptions.prompt = promptArrayToString(recolor[0]);\n    } else {\n      recolorOptions.prompt = recolor[0];\n    }\n    if (typeof recolor[1] === \"string\") {\n      recolorOptions[\"to-color\"] = recolor[1];\n    }\n  } else if (typeof recolor === \"object\") {\n    if (typeof recolor.prompt === \"string\") {\n      recolorOptions.prompt = recolor.prompt;\n    } else if (Array.isArray(recolor.prompt)) {\n      recolorOptions.prompt = promptArrayToString(recolor.prompt);\n    }\n    if (typeof recolor.to === \"string\") {\n      recolorOptions[\"to-color\"] = recolor.to;\n    }\n    if (recolor.multiple === true) {\n      recolorOptions.multiple = `true`;\n    }\n  }\n  const transformation = Object.entries(recolorOptions).filter(([, value]) => !!value).map(([key, value]) => `${key}_${value}`).join(\";\");\n  if (transformation) {\n    cldAsset.addTransformation(`e_gen_recolor:${transformation}`);\n  }\n  return {};\n}\n\n// src/plugins/remove.ts\nvar remove_exports = {};\n__export(remove_exports, {\n  assetTypes: () => assetTypes15,\n  plugin: () => plugin15,\n  props: () => props15\n});\n\nvar imageOptionsRemovePromptSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string())\n]);\nvar imageOptionsRemoveSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  prompt: imageOptionsRemovePromptSchema.optional(),\n  region: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.number()),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.number()))\n  ]).optional(),\n  multiple: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional(),\n  removeShadow: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional()\n});\nvar props15 = {\n  remove: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    imageOptionsRemovePromptSchema,\n    imageOptionsRemoveSchema\n  ]).describe(JSON.stringify({\n    text: \"Applies zooming and/or panning to an image, resulting in a video or animated image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_zoompan\"\n  })).optional()\n};\nvar assetTypes15 = [\"image\", \"images\"];\nfunction plugin15(props21) {\n  const { cldAsset, options } = props21;\n  const { remove } = options;\n  const removeOptions = {\n    prompt: void 0,\n    region: void 0,\n    multiple: void 0,\n    \"remove-shadow\": void 0\n  };\n  if (typeof remove === \"string\") {\n    removeOptions.prompt = remove;\n  } else if (Array.isArray(remove)) {\n    removeOptions.prompt = promptArrayToString(remove);\n  } else if (typeof remove === \"object\") {\n    const hasPrompt = typeof remove.prompt === \"string\" || Array.isArray(remove.prompt);\n    const hasRegion = Array.isArray(remove.region);\n    if (hasPrompt && hasRegion) {\n      throw new Error(\"Invalid remove options: you can not have both a prompt and a region. More info: https://cloudinary.com/documentation/transformation_reference#e_gen_remove\");\n    }\n    if (typeof remove.prompt === \"string\") {\n      removeOptions.prompt = remove.prompt;\n    } else if (Array.isArray(remove.prompt)) {\n      removeOptions.prompt = promptArrayToString(remove.prompt);\n    }\n    if (Array.isArray(remove.region)) {\n      removeOptions.region = regionArrayToString(remove.region);\n    }\n    if (remove.multiple === true) {\n      removeOptions.multiple = `true`;\n    }\n    if (remove.removeShadow === true) {\n      removeOptions[\"remove-shadow\"] = `true`;\n    }\n  }\n  const transformation = Object.entries(removeOptions).filter(([, value]) => !!value).map(([key, value]) => `${key}_${value}`).join(\";\");\n  if (transformation) {\n    cldAsset.addTransformation(`e_gen_remove:${transformation}`);\n  }\n  return {};\n}\nfunction regionArrayToString(regionArray) {\n  const indexes = {\n    0: \"x\",\n    1: \"y\",\n    2: \"w\",\n    3: \"h\"\n  };\n  const regionString = regionArray.map((region, index) => {\n    if (Array.isArray(region)) {\n      return regionArrayToString(region);\n    }\n    const key = indexes[index];\n    return `${key}_${region}`;\n  }).join(\";\");\n  return `(${regionString})`;\n}\n\n// src/plugins/enhance.ts\nvar enhance_exports = {};\n__export(enhance_exports, {\n  assetTypes: () => assetTypes16,\n  plugin: () => plugin16,\n  props: () => props16\n});\n\nvar props16 = {\n  enhance: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(JSON.stringify({\n    text: \"Uses AI to analyze an image and make adjustments to enhance the appeal of the image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_enhance\"\n  })).optional()\n};\nvar assetTypes16 = [\"image\", \"images\"];\nfunction plugin16(props21) {\n  const { cldAsset, options } = props21;\n  const { enhance = false } = options;\n  if (enhance) {\n    cldAsset.effect(\"e_enhance\");\n  }\n  return {};\n}\n\n// src/plugins/restore.ts\nvar restore_exports = {};\n__export(restore_exports, {\n  assetTypes: () => assetTypes17,\n  plugin: () => plugin17,\n  props: () => props17\n});\n\nvar props17 = {\n  restore: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(JSON.stringify({\n    text: \"Uses generative AI to restore details in poor quality images or images that may have become degraded through repeated processing and compression.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_restore\"\n  })).optional()\n};\nvar assetTypes17 = [\"image\", \"images\"];\nfunction plugin17(props21) {\n  const { cldAsset, options } = props21;\n  const { restore = false } = options;\n  if (restore) {\n    cldAsset.effect(\"e_gen_restore\");\n  }\n  return {};\n}\n\n// src/plugins/replace.ts\nvar replace_exports = {};\n__export(replace_exports, {\n  assetTypes: () => assetTypes18,\n  plugin: () => plugin18,\n  props: () => props18\n});\n\nvar props18 = {\n  replace: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n      to: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      from: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      preserveGeometry: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional()\n    })\n  ]).describe(JSON.stringify({\n    text: \"Uses generative AI to replace parts of your image with something else.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_replace\"\n  })).optional()\n};\nvar assetTypes18 = [\"image\", \"images\"];\nfunction plugin18(props21) {\n  const { cldAsset, options } = props21;\n  const { replace = null } = options;\n  if (replace) {\n    let from, to, preserveGeometry = false;\n    if (Array.isArray(replace)) {\n      from = replace[0];\n      to = replace[1];\n      preserveGeometry = replace[2] || false;\n    } else {\n      from = replace.from;\n      to = replace.to;\n      preserveGeometry = replace.preserveGeometry || false;\n    }\n    const properties = [`e_gen_replace:from_${from}`, `to_${to}`];\n    if (preserveGeometry) {\n      properties.push(`preserve-geometry_${preserveGeometry}`);\n    }\n    cldAsset.effect(properties.join(\";\"));\n  }\n  return {};\n}\n\n// src/plugins/zoompan.ts\nvar zoompan_exports = {};\n__export(zoompan_exports, {\n  assetTypes: () => assetTypes19,\n  plugin: () => plugin19,\n  props: () => props19\n});\n\nvar props19 = {\n  zoompan: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n      loop: effects.loop.schema.optional(),\n      options: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n    })\n  ]).describe(JSON.stringify({\n    text: \"Applies zooming and/or panning to an image, resulting in a video or animated image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_zoompan\"\n  })).optional()\n};\nvar assetTypes19 = [\"image\", \"images\"];\nfunction plugin19(props21) {\n  const { cldAsset, options } = props21;\n  const { zoompan = false } = options;\n  const overrides = {\n    format: void 0\n  };\n  if (zoompan === true) {\n    cldAsset.effect(\"e_zoompan\");\n  } else if (typeof zoompan === \"string\") {\n    if (zoompan === \"loop\") {\n      cldAsset.effect(\"e_zoompan\");\n      cldAsset.effect(\"e_loop\");\n    } else {\n      cldAsset.effect(`e_zoompan:${zoompan}`);\n    }\n  } else if (typeof zoompan === \"object\") {\n    let zoompanEffect = \"e_zoompan\";\n    if (typeof zoompan.options === \"string\") {\n      zoompanEffect = `${zoompanEffect}:${zoompan.options}`;\n    }\n    cldAsset.effect(zoompanEffect);\n    let loopEffect;\n    if (zoompan.loop === true) {\n      loopEffect = \"e_loop\";\n    } else if (typeof zoompan.loop === \"string\" || typeof zoompan.loop === \"number\") {\n      loopEffect = `e_loop:${zoompan.loop}`;\n    }\n    if (loopEffect) {\n      cldAsset.effect(loopEffect);\n    }\n  }\n  if (zoompan !== false) {\n    overrides.format = \"auto:animated\";\n  }\n  return {\n    options: overrides\n  };\n}\n\n// src/types/image.ts\nvar imageOptionsSchema = assetOptionsSchema.merge(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  // Spreading plugins instead of extend or merge to avoid excessive schema warning\n  // https://github.com/microsoft/TypeScript/issues/34933#issuecomment-1772787785\n  ...props12,\n  ...props16,\n  ...props13,\n  ...props14,\n  ...props15,\n  ...props18,\n  ...props17,\n  ...props19\n}));\n\n// src/types/video.ts\n\n\n// src/plugins/abr.ts\nvar abr_exports = {};\n__export(abr_exports, {\n  assetTypes: () => assetTypes20,\n  plugin: () => plugin20,\n  props: () => props20\n});\n\nvar props20 = {\n  streamingProfile: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(JSON.stringify({\n    text: \"The streaming profile to apply when delivering a video using adaptive bitrate streaming.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#sp_streaming_profile\"\n  })).optional()\n};\nvar assetTypes20 = [\"video\", \"videos\"];\nfunction plugin20(props21) {\n  const { cldAsset, options } = props21;\n  const { streamingProfile } = options;\n  if (typeof streamingProfile === \"string\") {\n    cldAsset.addTransformation(`sp_${streamingProfile}`);\n  }\n  return {};\n}\n\n// src/types/video.ts\nvar videoOptionsSchema = assetOptionsSchema.merge(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  // Spreading plugins instead of extend or merge to avoid excessive schema warning\n  // https://github.com/microsoft/TypeScript/issues/34933#issuecomment-1772787785\n  ...props20\n}));\n\n// src/lib/cloudinary.ts\n\n\n\n\n// src/types/analytics.ts\n\nvar analyticsOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.any();\n\n// src/types/config.ts\n\nvar configOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.any();\n\n// src/lib/cloudinary.ts\nvar transformationPlugins = [\n  // Some features *must* be the first transformation applied\n  // thus their plugins *must* come first in the chain\n  enhance_exports,\n  recolor_exports,\n  remove_background_exports,\n  remove_exports,\n  replace_exports,\n  restore_exports,\n  // Cropping needs to be before any other general transformations\n  // as it provides the option of 2-step resizing where someone\n  // can resize the \"base\" canvas as well as the final resize\n  // mechanism commonly used for responsive resizing\n  cropping_exports,\n  // Raw transformations should always come before\n  // other arguments to avoid conflicting with\n  // added options via the component\n  raw_transformations_exports,\n  abr_exports,\n  default_image_exports,\n  effects_exports,\n  fill_background_exports,\n  flags_exports,\n  overlays_exports,\n  sanitize_exports,\n  named_transformations_exports,\n  seo_exports,\n  underlays_exports,\n  version_exports,\n  zoompan_exports\n];\nvar constructUrlPropsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  analytics: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    analyticsOptionsSchema,\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n  ]).describe(JSON.stringify({\n    text: \"Tech, dependency, and feature identifiers for tracking SDK usage related to Cloudinary.\",\n    path: \"/url-loader/analyticsoptions\"\n  })).optional(),\n  config: configOptionsSchema.describe(JSON.stringify({\n    text: \"Configuration parameters for environment and Cloudinary account.\",\n    url: \"https://cloudinary.com/documentation/cloudinary_sdks#configuration_parameters\",\n    path: \"/url-loader/analyticsoptions\"\n  })).optional(),\n  options: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    assetOptionsSchema,\n    imageOptionsSchema,\n    videoOptionsSchema\n  ]).describe(JSON.stringify({\n    text: \"Asset options (Image or Video) that define delivery URL including public ID and transformations.\",\n    path: \"/url-loader/assetoptions\"\n  }))\n});\nfunction constructCloudinaryUrl({ options, config = {}, analytics }) {\n  if (analytics === false) {\n    if (typeof config?.url === \"undefined\") {\n      config.url = {};\n    }\n    config.url.analytics = false;\n  }\n  const cld = new _cloudinary_url_gen__WEBPACK_IMPORTED_MODULE_2__.Cloudinary(config);\n  if (typeof options?.src !== \"string\") {\n    throw Error(`Failed to construct Cloudinary URL: Missing source (src) in options.`);\n  }\n  if (!options?.assetType) {\n    options.assetType = \"image\";\n  }\n  const propsCheck = [];\n  transformationPlugins.forEach(({ props: props21 }) => {\n    const pluginProps = Object.keys(props21);\n    pluginProps.forEach((prop) => {\n      if (propsCheck.includes(prop)) {\n        throw new Error(`Option ${prop} already exists!`);\n      }\n      propsCheck.push(prop);\n    });\n  });\n  const parsedOptions = {};\n  let publicId;\n  if (typeof options.src === \"string\" && /^https?:\\/\\//.test(options.src)) {\n    try {\n      const parts = (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.parseUrl)(options.src);\n      publicId = parts?.publicId;\n      parsedOptions.seoSuffix = parts?.seoSuffix;\n      parsedOptions.version = parts?.version;\n    } catch (e) {\n    }\n  }\n  if (!publicId) {\n    publicId = options.src;\n  }\n  Object.keys(parsedOptions).forEach((key) => {\n    if ((0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(options, key))\n      return;\n    options[key] = parsedOptions[key];\n  });\n  let cldAsset = void 0;\n  if ([\"image\", \"images\"].includes(options.assetType)) {\n    cldAsset = cld.image(publicId);\n  } else if ([\"video\", \"videos\"].includes(options.assetType)) {\n    cldAsset = cld.video(publicId);\n  }\n  if (typeof cldAsset === \"undefined\") {\n    throw new Error(\"Invalid asset type.\");\n  }\n  const pluginEffects = {};\n  transformationPlugins.forEach(({ plugin: plugin21, assetTypes: assetTypes21, props: props21, strict: strict2 }) => {\n    const supportedAssetType = typeof options?.assetType !== \"undefined\" && assetTypes21.includes(options?.assetType);\n    const pluginProps = Object.keys(props21);\n    const optionsKeys = Object.keys(options);\n    const attemptedUse = pluginProps.map((prop) => optionsKeys.includes(prop)).filter((isUsed) => !!isUsed).length > 0;\n    if (!supportedAssetType) {\n      if (attemptedUse) {\n        console.warn(`One of the following props [${pluginProps.join(\", \")}] was used with an unsupported asset type [${options?.assetType}]`);\n      }\n      return;\n    }\n    if (options.strictTransformations && !strict2) {\n      if (attemptedUse) {\n        console.warn(`One of the following props [${pluginProps.join(\", \")}] was used that is not supported with Strict Transformations.`);\n      }\n      return;\n    }\n    const results = plugin21({\n      cldAsset,\n      options\n    });\n    const { options: pluginOptions } = results || { options: void 0 };\n    Object.assign(pluginEffects, pluginOptions);\n  });\n  if (typeof pluginEffects.resize === \"string\") {\n    cldAsset.addTransformation(pluginEffects.resize);\n  }\n  cldAsset.setDeliveryType(options?.deliveryType || \"upload\");\n  if (!options.strictTransformations) {\n    if (options?.dpr) {\n      let dpr = options.dpr;\n      if (typeof dpr === \"number\") {\n        dpr = dpr.toFixed(1);\n      }\n      cldAsset.addTransformation(`dpr_${dpr}`);\n    }\n    const defaultFormat = options?.format === \"default\";\n    const rawContainsFormat = searchAssetRawTransformations(\"f_\", cldAsset, { matchType: \"startsWith\" });\n    const rawContainsFormatAndExplicit = rawContainsFormat && typeof options?.format !== \"undefined\";\n    if (pluginEffects?.format || !defaultFormat && (!rawContainsFormat || rawContainsFormatAndExplicit)) {\n      cldAsset.format(options?.format || pluginEffects?.format || \"auto\");\n    }\n    const defaultQuality = options?.quality === \"default\";\n    const rawContainsQuality = searchAssetRawTransformations(\"q_\", cldAsset, { matchType: \"startsWith\" });\n    const rawContainsQualityAndExplicit = rawContainsQuality && typeof options?.quality !== \"undefined\";\n    if (!defaultQuality && (!rawContainsQuality || rawContainsQualityAndExplicit)) {\n      cldAsset.quality(options?.quality || \"auto\");\n    }\n  }\n  return cldAsset.toURL({\n    trackedAnalytics: analytics\n  });\n}\nfunction searchAssetRawTransformations(query, asset, options) {\n  if (typeof asset.transformation === \"undefined\")\n    return;\n  const { matchType = \"includes\" } = options || {};\n  const transformations = asset.transformation.actions.flatMap((transformation) => {\n    return transformation.toString().split(\"/\").flatMap((seg) => seg.split(\",\"));\n  });\n  const matches = transformations.filter((transformation) => {\n    if (matchType === \"startsWith\") {\n      return transformation.startsWith(query);\n    } else {\n      return transformation.includes(query);\n    }\n  });\n  return matches.length > 0;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91cmwtbG9hZGVyL2Rpc3QvY2h1bmstNURMT0gyTEYubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0NBQWtDO0FBQ2hFOztBQUVBO0FBQzhCO0FBQytDOztBQUU3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUN1QjtBQUN4QixvQkFBb0Isa0NBQUM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0NBQUM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0NBQUM7QUFDWCxJQUFJLGtDQUFDO0FBQ0wsSUFBSSxrQ0FBQztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDJCQUEyQixrQ0FBQztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0NBQUM7QUFDekIsRUFBRSxrQ0FBQztBQUNIO0FBQ0EsRUFBRSxrQ0FBQztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtDQUFDO0FBQ1g7QUFDQSxJQUFJLGtDQUFDO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrQ0FBQztBQUNYO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQkFBb0Isa0NBQUM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG1CQUFtQixrQ0FBQztBQUNwQixFQUFFLGtDQUFDO0FBQ0gsRUFBRSxrQ0FBQztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGtCQUFrQixrQ0FBQztBQUNuQixFQUFFLGtDQUFDO0FBQ0gsRUFBRSxrQ0FBQztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtDQUFDO0FBQ1gsSUFBSSxrQ0FBQztBQUNMLElBQUksa0NBQUM7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrQ0FBQztBQUNYLElBQUksa0NBQUM7QUFDTCxJQUFJLGtDQUFDO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsaUJBQWlCLGtDQUFDO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUVBQWM7QUFDeEIsYUFBYSx1RUFBb0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2Q7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2Q7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2Q7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtDQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFFO0FBQ2QsTUFBTSxrQ0FBRTtBQUNSLE1BQU0sa0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQUU7QUFDZCxNQUFNLGtDQUFFO0FBQ1IsTUFBTSxrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBRTtBQUNkLE1BQU0sa0NBQUU7QUFDUixNQUFNLGtD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QUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUseUJBQXlCO0FBQ25DO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFhRSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1kZXYtZWNvbS8uL25vZGVfbW9kdWxlcy9AY2xvdWRpbmFyeS11dGlsL3VybC1sb2FkZXIvZGlzdC9jaHVuay01RExPSDJMRi5tanM/YmI3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xuXG4vLyBzcmMvY29uc3RhbnRzL3F1YWxpZmllcnMudHNcbmltcG9ydCB7IHogYXMgejIgfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyB0ZXN0Q29sb3JJc0hleCwgY29udmVydENvbG9ySGV4VG9SZ2IgfSBmcm9tIFwiQGNsb3VkaW5hcnktdXRpbC91dGlsXCI7XG5cbi8vIHNyYy9jb25zdGFudHMvcGFyYW1ldGVycy50c1xudmFyIHBhcmFtZXRlcnNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocGFyYW1ldGVyc19leHBvcnRzLCB7XG4gIGFuZ2xlOiAoKSA9PiBhbmdsZSxcbiAgYXNwZWN0UmF0aW86ICgpID0+IGFzcGVjdFJhdGlvLFxuICBhc3BlY3RSYXRpb01vZGVzRW51bTogKCkgPT4gYXNwZWN0UmF0aW9Nb2Rlc0VudW0sXG4gIGNyb3A6ICgpID0+IGNyb3AsXG4gIGNyb3BNb2Rlc0VudW06ICgpID0+IGNyb3BNb2Rlc0VudW0sXG4gIGZsYWdzOiAoKSA9PiBmbGFncyxcbiAgZmxhZ3NFbnVtOiAoKSA9PiBmbGFnc0VudW0sXG4gIGZvcm1hdDogKCkgPT4gZm9ybWF0LFxuICBncmF2aXR5OiAoKSA9PiBncmF2aXR5LFxuICBoZWlnaHQ6ICgpID0+IGhlaWdodCxcbiAgd2lkdGg6ICgpID0+IHdpZHRoLFxuICB4OiAoKSA9PiB4LFxuICB5OiAoKSA9PiB5LFxuICB6b29tOiAoKSA9PiB6b29tXG59KTtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG52YXIgY3JvcE1vZGVzRW51bSA9IHouZW51bShbXG4gIFwiYXV0b1wiLFxuICBcImZpbGxcIixcbiAgXCJsZmlsbFwiLFxuICBcImZpbGxfcGFkXCIsXG4gIFwiY3JvcFwiLFxuICBcInRodW1iXCIsXG4gIFwic2NhbGVcIixcbiAgXCJmaXRcIixcbiAgXCJsaW1pdFwiLFxuICBcIm1maXRcIixcbiAgXCJwYWRcIixcbiAgXCJscGFkXCIsXG4gIFwibXBhZFwiLFxuICBcImltYWdnYV9zY2FsZVwiLFxuICBcImltYWdnYV9jcm9wXCJcbl0pO1xudmFyIGZsYWdzRW51bSA9IHouZW51bShbXG4gIFwiYW5pbWF0ZWRcIixcbiAgXCJhbnlfZm9ybWF0XCIsXG4gIFwiYXBuZ1wiLFxuICBcImF0dGFjaG1lbnRcIixcbiAgXCJhd2VicFwiLFxuICBcImNsaXBcIixcbiAgXCJjbGlwX2V2ZW5vZGRcIixcbiAgXCJjdXR0ZXJcIixcbiAgXCJmb3JjZV9pY2NcIixcbiAgXCJmb3JjZV9zdHJpcFwiLFxuICBcImdldGluZm9cIixcbiAgXCJncm91cDRcIixcbiAgXCJobHN2M1wiLFxuICBcImlnbm9yZV9hc3BlY3RfcmF0aW9cIixcbiAgXCJpZ25vcmVfbWFza19jaGFubmVsc1wiLFxuICBcImltbXV0YWJsZV9jYWNoZVwiLFxuICBcImtlZXBfYXR0cmlidXRpb25cIixcbiAgXCJrZWVwX2RhclwiLFxuICBcImtlZXBfaXB0Y1wiLFxuICBcImxheWVyX2FwcGx5XCIsXG4gIFwibG9zc3lcIixcbiAgXCJtb25vXCIsXG4gIFwibm9fb3ZlcmZsb3dcIixcbiAgXCJub19zdHJlYW1cIixcbiAgXCJwbmc4X2ZsX3BuZzI0X2ZsX3BuZzMyXCIsXG4gIFwicHJlc2VydmVfdHJhbnNwYXJlbmN5XCIsXG4gIFwicHJvZ3Jlc3NpdmVcIixcbiAgXCJyYXN0ZXJpemVcIixcbiAgXCJyZWdpb25fcmVsYXRpdmVcIixcbiAgXCJyZWxhdGl2ZVwiLFxuICBcInJlcGxhY2VfaW1hZ2VcIixcbiAgXCJzYW5pdGl6ZVwiLFxuICBcInNwbGljZVwiLFxuICBcInN0cmVhbWluZ19hdHRhY2htZW50XCIsXG4gIFwic3RyaXBfcHJvZmlsZVwiLFxuICBcInRleHRfZGlzYWxsb3dfb3ZlcmZsb3dcIixcbiAgXCJ0ZXh0X25vX3RyaW1cIixcbiAgXCJ0aWZmOF9sendcIixcbiAgXCJ0aWxlZFwiLFxuICBcInRydW5jYXRlX3RzXCIsXG4gIFwid2F2ZWZvcm1cIlxuXSk7XG52YXIgYW5nbGUgPSB7XG4gIHF1YWxpZmllcjogXCJhXCIsXG4gIHNjaGVtYTogei51bmlvbihbXG4gICAgei5zdHJpbmcoKSxcbiAgICB6Lm51bWJlcigpXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlJvdGF0ZXMgb3IgZmxpcHMgYW4gYXNzZXQgYnkgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgZGVncmVlcyBvciBhdXRvbWF0aWNhbGx5IGFjY29yZGluZyB0byBpdHMgb3JpZW50YXRpb24gb3IgYXZhaWxhYmxlIG1ldGFkYXRhLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2FfYW5nbGVcIlxuICB9KSlcbn07XG52YXIgYXNwZWN0UmF0aW9Nb2Rlc0VudW0gPSB6LmVudW0oW1xuICBcInZmbGlwXCIsXG4gIFwiaGZsaXBcIixcbiAgXCJpZ25vcmVcIixcbiAgXCJhdXRvX3JpZ2h0XCIsXG4gIFwiYXV0b19sZWZ0XCJcbl0pO1xudmFyIGFzcGVjdFJhdGlvU2NoZW1hID0gei51bmlvbihbXG4gIHoubnVtYmVyKCksXG4gIGFzcGVjdFJhdGlvTW9kZXNFbnVtLFxuICB6LnN0cmluZygpXG5dKTtcbnZhciBhc3BlY3RSYXRpbyA9IHtcbiAgcXVhbGlmaWVyOiBcImFyXCIsXG4gIHNjaGVtYTogYXNwZWN0UmF0aW9TY2hlbWEuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQ3JvcHMgb3IgcmVzaXplcyB0aGUgYXNzZXQgdG8gYSBuZXcgYXNwZWN0IHJhdGlvLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2FyX2FzcGVjdF9yYXRpb1wiXG4gIH0pKVxufTtcbnZhciBjcm9wU2NoZW1hID0gY3JvcE1vZGVzRW51bTtcbnZhciBjcm9wID0ge1xuICBxdWFsaWZpZXI6IFwiY1wiLFxuICBzY2hlbWE6IGNyb3BTY2hlbWEuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiTW9kZSB0byB1c2Ugd2hlbiBjcm9wcGluZyBhbiBhc3NldC5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNjX2Nyb3BfcmVzaXplXCJcbiAgfSkpXG59O1xudmFyIGZsYWdzID0ge1xuICBxdWFsaWZpZXI6IFwiZmxcIixcbiAgc2NoZW1hOiB6LnVuaW9uKFtcbiAgICBmbGFnc0VudW0sXG4gICAgei5hcnJheShmbGFnc0VudW0pXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkFsdGVycyB0aGUgcmVndWxhciBiZWhhdmlvciBvZiBhbm90aGVyIHRyYW5zZm9ybWF0aW9uIG9yIHRoZSBvdmVyYWxsIGRlbGl2ZXJ5IGJlaGF2aW9yLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2ZsX2ZsYWdcIlxuICB9KSlcbn07XG52YXIgZm9ybWF0ID0ge1xuICBxdWFsaWZpZXI6IFwiZlwiLFxuICAvLyBAVE9ETzogZW51bVxuICBzY2hlbWE6IHouc3RyaW5nKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQ29udmVydHMgKGlmIG5lY2Vzc2FyeSkgYW5kIGRlbGl2ZXJzIGFuIGFzc2V0IGluIHRoZSBzcGVjaWZpZWQgZm9ybWF0IHJlZ2FyZGxlc3Mgb2YgdGhlIGZpbGUgZXh0ZW5zaW9uIHVzZWQgaW4gdGhlIGRlbGl2ZXJ5IFVSTC5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNmX2Zvcm1hdFwiXG4gIH0pKVxufTtcbnZhciBncmF2aXR5U2NoZW1hID0gei5zdHJpbmcoKTtcbnZhciBncmF2aXR5ID0ge1xuICBxdWFsaWZpZXI6IFwiZ1wiLFxuICBzY2hlbWE6IGdyYXZpdHlTY2hlbWEuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiRGV0ZXJtaW5lcyB3aGljaCBwYXJ0IG9mIGFuIGFzc2V0IHRvIGZvY3VzIG9uLiBOb3RlOiBEZWZhdWx0IG9mIGF1dG8gaXMgYXBwbGllZCBmb3Igc3VwcG9ydGVkIGNyb3AgbW9kZXMgb25seS5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNnX2dyYXZpdHlcIlxuICB9KSlcbn07XG52YXIgaGVpZ2h0U2NoZW1hID0gei51bmlvbihbXG4gIHoubnVtYmVyKCksXG4gIHouc3RyaW5nKClcbl0pO1xudmFyIGhlaWdodCA9IHtcbiAgcXVhbGlmaWVyOiBcImhcIixcbiAgc2NoZW1hOiBoZWlnaHRTY2hlbWEuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQSBxdWFsaWZpZXIgdGhhdCBkZXRlcm1pbmVzIHRoZSBoZWlnaHQgb2YgYSB0cmFuc2Zvcm1lZCBhc3NldCBvciBhbiBvdmVybGF5LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2hfaGVpZ2h0XCJcbiAgfSkpXG59O1xudmFyIHdpZHRoU2NoZW1hID0gei51bmlvbihbXG4gIHoubnVtYmVyKCksXG4gIHouc3RyaW5nKClcbl0pO1xudmFyIHdpZHRoID0ge1xuICBxdWFsaWZpZXI6IFwid1wiLFxuICBzY2hlbWE6IHdpZHRoU2NoZW1hLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkEgcXVhbGlmaWVyIHRoYXQgc2V0cyB0aGUgZGVzaXJlZCB3aWR0aCBvZiBhbiBhc3NldCB1c2luZyBhIHNwZWNpZmllZCB2YWx1ZSwgb3IgYXV0b21hdGljYWxseSBiYXNlZCBvbiB0aGUgYXZhaWxhYmxlIHdpZHRoLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI3dfd2lkdGhcIlxuICB9KSlcbn07XG52YXIgeCA9IHtcbiAgcXVhbGlmaWVyOiBcInhcIixcbiAgc2NoZW1hOiB6LnVuaW9uKFtcbiAgICB6LnN0cmluZygpLFxuICAgIHoubnVtYmVyKClcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQWRqdXN0cyB0aGUgc3RhcnRpbmcgbG9jYXRpb24gb3Igb2Zmc2V0IG9mIHRoZSB4IGF4aXMuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjeF95X2Nvb3JkaW5hdGVzXCJcbiAgfSkpXG59O1xudmFyIHkgPSB7XG4gIHF1YWxpZmllcjogXCJ5XCIsXG4gIHNjaGVtYTogei51bmlvbihbXG4gICAgei5zdHJpbmcoKSxcbiAgICB6Lm51bWJlcigpXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkFkanVzdHMgdGhlIHN0YXJ0aW5nIGxvY2F0aW9uIG9yIG9mZnNldCBvZiB0aGUgeSBheGlzLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI3hfeV9jb29yZGluYXRlc1wiXG4gIH0pKVxufTtcbnZhciB6b29tU2NoZW1hID0gei5zdHJpbmcoKTtcbnZhciB6b29tID0ge1xuICBzY2hlbWE6IHpvb21TY2hlbWEuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQ29udHJvbHMgaG93IGNsb3NlIHRvIGNyb3AgdG8gdGhlIGRldGVjdGVkIGNvb3JkaW5hdGVzIHdoZW4gdXNpbmcgZmFjZS1kZXRlY3Rpb24sIGN1c3RvbS1jb29yZGluYXRlLCBvciBvYmplY3Qtc3BlY2lmaWMgZ3Jhdml0eS5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSN6X3pvb21cIlxuICB9KSlcbn07XG5cbi8vIHNyYy9jb25zdGFudHMvcXVhbGlmaWVycy50c1xudmFyIGNvbnZlcnRlcnNDb2xvcnMgPSBbXG4gIHtcbiAgICB0ZXN0OiB0ZXN0Q29sb3JJc0hleCxcbiAgICBjb252ZXJ0OiBjb252ZXJ0Q29sb3JIZXhUb1JnYlxuICB9XG5dO1xudmFyIHByaW1hcnkgPSB7XG4gIGFzcGVjdFJhdGlvLFxuICBjcm9wLFxuICBncmF2aXR5LFxuICBoZWlnaHQsXG4gIHdpZHRoXG59O1xudmFyIHBvc2l0aW9uID0ge1xuICBhbmdsZSxcbiAgZ3Jhdml0eSxcbiAgeCxcbiAgeVxufTtcbnZhciB0ZXh0ID0ge1xuICBhbGlnbm1lbnQ6IHtcbiAgICBxdWFsaWZpZXI6IGZhbHNlLFxuICAgIG9yZGVyOiA2XG4gIH0sXG4gIGFudGlhbGlhczoge1xuICAgIHF1YWxpZmllcjogXCJhbnRpYWxpYXNcIlxuICB9LFxuICBib3JkZXI6IHtcbiAgICBxdWFsaWZpZXI6IFwiYm9cIixcbiAgICBsb2NhdGlvbjogXCJwcmltYXJ5XCJcbiAgfSxcbiAgY29sb3I6IHtcbiAgICBxdWFsaWZpZXI6IFwiY29cIixcbiAgICBsb2NhdGlvbjogXCJwcmltYXJ5XCIsXG4gICAgY29udmVydGVyczogY29udmVydGVyc0NvbG9yc1xuICB9LFxuICBmb250RmFtaWx5OiB7XG4gICAgcXVhbGlmaWVyOiBmYWxzZSxcbiAgICBvcmRlcjogMVxuICB9LFxuICBmb250U2l6ZToge1xuICAgIHF1YWxpZmllcjogZmFsc2UsXG4gICAgb3JkZXI6IDJcbiAgfSxcbiAgZm9udFN0eWxlOiB7XG4gICAgcXVhbGlmaWVyOiBmYWxzZSxcbiAgICBvcmRlcjogNFxuICB9LFxuICBmb250V2VpZ2h0OiB7XG4gICAgcXVhbGlmaWVyOiBmYWxzZSxcbiAgICBvcmRlcjogM1xuICB9LFxuICBoaW50aW5nOiB7XG4gICAgcXVhbGlmaWVyOiBcImhpbnRpbmdcIlxuICB9LFxuICBsZXR0ZXJTcGFjaW5nOiB7XG4gICAgcXVhbGlmaWVyOiBcImxldHRlcl9zcGFjaW5nXCJcbiAgfSxcbiAgbGluZVNwYWNpbmc6IHtcbiAgICBxdWFsaWZpZXI6IFwibGluZV9zcGFjaW5nXCJcbiAgfSxcbiAgc3Ryb2tlOiB7XG4gICAgcXVhbGlmaWVyOiBcInNlbGZcIixcbiAgICBvcmRlcjogN1xuICB9LFxuICB0ZXh0RGVjb3JhdGlvbjoge1xuICAgIHF1YWxpZmllcjogZmFsc2UsXG4gICAgb3JkZXI6IDVcbiAgfVxufTtcbnZhciBlZmZlY3RzID0ge1xuICBhbmdsZSxcbiAgYXJ0OiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYXJ0XCIsXG4gICAgc2NoZW1hOiB6Mi5zdHJpbmcoKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFwcGxpZXMgdGhlIHNlbGVjdGVkIGFydGlzdGljIGZpbHRlci5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfYXJ0XCJcbiAgICB9KSlcbiAgfSxcbiAgYXV0b0JyaWdodG5lc3M6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJhdXRvX2JyaWdodG5lc3NcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBdXRvbWF0aWNhbGx5IGFkanVzdHMgdGhlIGltYWdlIGJyaWdodG5lc3MgYW5kIGJsZW5kcyB0aGUgcmVzdWx0IHdpdGggdGhlIG9yaWdpbmFsIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9hdXRvX2JyaWdodG5lc3NcIlxuICAgIH0pKVxuICB9LFxuICBhdXRvQ29sb3I6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJhdXRvX2NvbG9yXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXV0b21hdGljYWxseSBhZGp1c3RzIHRoZSBpbWFnZSBjb2xvciBiYWxhbmNlIGFuZCBibGVuZHMgdGhlIHJlc3VsdCB3aXRoIHRoZSBvcmlnaW5hbCBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfYXV0b19jb2xvclwiXG4gICAgfSkpXG4gIH0sXG4gIGF1dG9Db250cmFzdDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImF1dG9fY29udHJhc3RcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBdXRvbWF0aWNhbGx5IGFkanVzdHMgdGhlIGltYWdlIGNvbnRyYXN0IGFuZCBibGVuZHMgdGhlIHJlc3VsdCB3aXRoIHRoZSBvcmlnaW5hbCBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfYXV0b19jb250cmFzdFwiXG4gICAgfSkpXG4gIH0sXG4gIGFzc2lzdENvbG9yYmxpbmQ6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJhc3Npc3RfY29sb3JibGluZFwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFwcGxpZXMgc3RyaXBlcyBvciBjb2xvciBhZGp1c3RtZW50IHRvIGhlbHAgcGVvcGxlIHdpdGggY29tbW9uIGNvbG9yIGJsaW5kIGNvbmRpdGlvbnMgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIGNvbG9ycyB0aGF0IGFyZSBzaW1pbGFyIGZvciB0aGVtLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9hc3Npc3RfY29sb3JibGluZFwiXG4gICAgfSkpXG4gIH0sXG4gIGJhY2tncm91bmQ6IHtcbiAgICBxdWFsaWZpZXI6IFwiYlwiLFxuICAgIHNjaGVtYTogejIuc3RyaW5nKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBcHBsaWVzIGEgYmFja2dyb3VuZCB0byBlbXB0eSBvciB0cmFuc3BhcmVudCBhcmVhcy5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2JfYmFja2dyb3VuZFwiXG4gICAgfSkpXG4gIH0sXG4gIGJsYWNrd2hpdGU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJibGFja3doaXRlXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQ29udmVydHMgYW4gaW1hZ2UgdG8gYmxhY2sgYW5kIHdoaXRlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9ibGFja3doaXRlXCJcbiAgICB9KSlcbiAgfSxcbiAgYmx1cjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImJsdXJcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBcHBsaWVzIGEgYmx1cnJpbmcgZmlsdGVyIHRvIGFuIGFzc2V0LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9ibHVyXCJcbiAgICB9KSlcbiAgfSxcbiAgYmx1ckZhY2VzOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYmx1cl9mYWNlc1wiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkJsdXJzIGFsbCBkZXRlY3RlZCBmYWNlcyBpbiBhbiBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfYmx1cl9mYWNlc1wiXG4gICAgfSkpXG4gIH0sXG4gIGJsdXJSZWdpb246IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJibHVyX3JlZ2lvblwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFwcGxpZXMgYSBibHVycmluZyBmaWx0ZXIgdG8gdGhlIHJlZ2lvbiBvZiBhbiBpbWFnZSBzcGVjaWZpZWQgYnkgeCwgeSwgd2lkdGggYW5kIGhlaWdodCwgb3IgYW4gYXJlYSBvZiB0ZXh0LiBJZiBubyByZWdpb24gaXMgc3BlY2lmaWVkLCB0aGUgd2hvbGUgaW1hZ2UgaXMgYmx1cnJlZC5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfYmx1cl9yZWdpb25cIlxuICAgIH0pKVxuICB9LFxuICBib3JkZXI6IHtcbiAgICBxdWFsaWZpZXI6IFwiYm9cIixcbiAgICBzY2hlbWE6IHoyLnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWRkcyBhIHNvbGlkIGJvcmRlciBhcm91bmQgYW4gaW1hZ2Ugb3IgdmlkZW8uXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNib19ib3JkZXJcIlxuICAgIH0pKVxuICB9LFxuICBicmlnaHRuZXNzOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYnJpZ2h0bmVzc1wiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFkanVzdHMgdGhlIGltYWdlIG9yIHZpZGVvIGJyaWdodG5lc3MuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2JyaWdodG5lc3NcIlxuICAgIH0pKVxuICB9LFxuICBicmlnaHRuZXNzSFNCOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYnJpZ2h0bmVzc19oc2JcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBZGp1c3RzIGltYWdlIGJyaWdodG5lc3MgbW9kdWxhdGlvbiBpbiBIU0IgdG8gcHJldmVudCBhcnRpZmFjdHMgaW4gc29tZSBpbWFnZXMuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2JyaWdodG5lc3NfaHNiXCJcbiAgICB9KSlcbiAgfSxcbiAgY2FydG9vbmlmeToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImNhcnRvb25pZnlcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBcHBsaWVzIGEgY2FydG9vbiBlZmZlY3QgdG8gYW4gaW1hZ2UuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2NhcnRvb25pZnlcIlxuICAgIH0pKVxuICB9LFxuICBjb2xvcjoge1xuICAgIHF1YWxpZmllcjogXCJjb1wiLFxuICAgIHNjaGVtYTogejIuc3RyaW5nKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBIHF1YWxpZmllciB0aGF0IHNwZWNpZmllcyB0aGUgY29sb3IgdG8gdXNlIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgdHJhbnNmb3JtYXRpb24uXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNjb19jb2xvclwiXG4gICAgfSkpLFxuICAgIGNvbnZlcnRlcnM6IGNvbnZlcnRlcnNDb2xvcnNcbiAgfSxcbiAgY29sb3JpemU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJjb2xvcml6ZVwiLFxuICAgIHNjaGVtYTogejIuc3RyaW5nKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJDb2xvcml6ZXMgYW4gaW1hZ2UuIEJ5IGRlZmF1bHQsIGdyYXkgaXMgdXNlZCBmb3IgY29sb3JpemF0aW9uLiBZb3UgY2FuIHNwZWNpZnkgYSBkaWZmZXJlbnQgY29sb3IgdXNpbmcgdGhlIGNvbG9yIHF1YWxpZmllci5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfY29sb3JpemVcIlxuICAgIH0pKVxuICB9LFxuICBjb250cmFzdDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImNvbnRyYXN0XCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWRqdXN0cyBhbiBpbWFnZSBvciB2aWRlbyBjb250cmFzdC5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfY29udHJhc3RcIlxuICAgIH0pKVxuICB9LFxuICBkaXNwbGFjZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImRpc3RvcnRcIixcbiAgICBzY2hlbWE6IHoyLnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiRGlzcGxhY2VzIHRoZSBwaXhlbHMgaW4gYW4gaW1hZ2UgYWNjb3JkaW5nIHRvIHRoZSBjb2xvciBjaGFubmVscyBvZiB0aGUgcGl4ZWxzIGluIGFub3RoZXIgc3BlY2lmaWVkIGltYWdlIChhIGdyYWRpZW50IG1hcCBzcGVjaWZpZWQgd2l0aCB0aGUgb3ZlcmxheSBwYXJhbWV0ZXIpLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9kaXNwbGFjZVwiXG4gICAgfSkpXG4gIH0sXG4gIGRpc3RvcnQ6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJkaXN0b3J0XCIsXG4gICAgc2NoZW1hOiB6Mi5zdHJpbmcoKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkRpc3RvcnRzIGFuIGltYWdlIHRvIGEgbmV3IHNoYXBlIGJ5IGVpdGhlciBhZGp1c3RpbmcgaXRzIGNvcm5lcnMgb3IgYnkgd2FycGluZyBpdCBpbnRvIGFuIGFyYy5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfZGlzdG9ydFwiXG4gICAgfSkpXG4gIH0sXG4gIGZpbGxMaWdodDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImZpbGxfbGlnaHRcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBZGp1c3RzIHRoZSBmaWxsIGxpZ2h0IGFuZCBvcHRpb25hbGx5IGJsZW5kcyB0aGUgcmVzdWx0IHdpdGggdGhlIG9yaWdpbmFsIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9maWxsX2xpZ2h0XCJcbiAgICB9KSlcbiAgfSxcbiAgZ2FtbWE6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJnYW1tYVwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFkanVzdHMgdGhlIGltYWdlIG9yIHZpZGVvIGdhbW1hIGxldmVsLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9nYW1tYVwiXG4gICAgfSkpXG4gIH0sXG4gIGdyYWRpZW50RmFkZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImdyYWRpZW50X2ZhZGVcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBcHBsaWVzIGEgZ3JhZGllbnQgZmFkZSBlZmZlY3QgZnJvbSB0aGUgZWRnZSBvZiBhbiBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfZ3JhZGllbnRfZmFkZVwiXG4gICAgfSkpXG4gIH0sXG4gIGdyYXlzY2FsZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImdyYXlzY2FsZVwiLFxuICAgIHNjaGVtYTogejIuYm9vbGVhbigpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQ29udmVydHMgYW4gaW1hZ2UgdG8gZ3JheXNjYWxlIChtdWx0aXBsZSBzaGFkZXMgb2YgZ3JheSkuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dyYXlzY2FsZVwiXG4gICAgfSkpXG4gIH0sXG4gIGh1ZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImh1ZVwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFkanVzdHMgYW4gaW1hZ2UncyBodWUuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2h1ZVwiXG4gICAgfSkpXG4gIH0sXG4gIGltcHJvdmU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJpbXByb3ZlXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWRqdXN0cyBhbiBpbWFnZSdzIGNvbG9ycywgY29udHJhc3QgYW5kIGJyaWdodG5lc3MgdG8gaW1wcm92ZSBpdHMgYXBwZWFyYW5jZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfaW1wcm92ZVwiXG4gICAgfSkpXG4gIH0sXG4gIGxvb3A6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJsb29wXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5ib29sZWFuKCksXG4gICAgICB6Mi5udW1iZXIoKSxcbiAgICAgIHoyLnN0cmluZygpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJMb29wcyBhIHZpZGVvIG9yIGFuaW1hdGVkIGltYWdlIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIHRpbWVzLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9sb29wXCJcbiAgICB9KSlcbiAgfSxcbiAgbXVsdGlwbHk6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJtdWx0aXBseVwiLFxuICAgIHNjaGVtYTogejIuYm9vbGVhbigpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQSBxdWFsaWZpZXIgdGhhdCBibGVuZHMgaW1hZ2UgbGF5ZXJzIHVzaW5nIHRoZSBtdWx0aXBseSBibGVuZCBtb2RlXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX211bHRpcGx5XCJcbiAgICB9KSlcbiAgfSxcbiAgbmVnYXRlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwibmVnYXRlXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX25lZ2F0ZVwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9uZWdhdGVcIlxuICAgIH0pKVxuICB9LFxuICBub2lzZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcIm5vaXNlXCIsXG4gICAgc2NoZW1hOiB6Mi5ib29sZWFuKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfbm9pc2VcIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfbm9pc2VcIlxuICAgIH0pKVxuICB9LFxuICBvaWxQYWludDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcIm9pbF9wYWludFwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9vaWxfcGFpbnRcIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfb2lsX3BhaW50XCJcbiAgICB9KSlcbiAgfSxcbiAgb3BhY2l0eToge1xuICAgIHF1YWxpZmllcjogXCJvXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLm51bWJlcigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBZGp1c3RzIHRoZSBvcGFjaXR5IG9mIGFuIGFzc2V0IGFuZCBtYWtlcyBpdCBzZW1pLXRyYW5zcGFyZW50LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2Ujb19vcGFjaXR5XCJcbiAgICB9KSlcbiAgfSxcbiAgb3V0bGluZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcIm91dGxpbmVcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBZGRzIGFuIG91dGxpbmUgZWZmZWN0IHRvIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9vdXRsaW5lXCJcbiAgICB9KSlcbiAgfSxcbiAgcGl4ZWxhdGU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJwaXhlbGF0ZVwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFwcGxpZXMgYSBwaXhlbGF0aW9uIGVmZmVjdC5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfcGl4ZWxhdGVcIlxuICAgIH0pKVxuICB9LFxuICBwaXhlbGF0ZUZhY2VzOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwicGl4ZWxhdGVfZmFjZXNcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJQaXhlbGF0ZXMgYWxsIGRldGVjdGVkIGZhY2VzIGluIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9waXhlbGF0ZV9mYWNlc1wiXG4gICAgfSkpXG4gIH0sXG4gIHBpeGVsYXRlUmVnaW9uOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwicGl4ZWxhdGVfcmVnaW9uXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiUGl4ZWxhdGVzIHRoZSByZWdpb24gb2YgYW4gaW1hZ2Ugc3BlY2lmaWVkIGJ5IHgsIHksIHdpZHRoIGFuZCBoZWlnaHQsIG9yIGFuIGFyZWEgb2YgdGV4dC5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfcGl4ZWxhdGVfcmVnaW9uXCJcbiAgICB9KSlcbiAgfSxcbiAgcmFkaXVzOiB7XG4gICAgcXVhbGlmaWVyOiBcInJcIixcbiAgICBzY2hlbWE6IHoyLnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiUm91bmRzIHRoZSBjb3JuZXJzIG9mIGFuIGltYWdlIG9yIHZpZGVvLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2Ujcl9yb3VuZF9jb3JuZXJzXCJcbiAgICB9KSlcbiAgfSxcbiAgcmVkZXllOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwicmVkZXllXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXV0b21hdGljYWxseSByZW1vdmVzIHJlZCBleWVzIGluIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9yZWRleWVcIlxuICAgIH0pKVxuICB9LFxuICByZXBsYWNlQ29sb3I6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJyZXBsYWNlX2NvbG9yXCIsXG4gICAgc2NoZW1hOiB6Mi5zdHJpbmcoKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIk1hcHMgYW4gaW5wdXQgY29sb3IgYW5kIHRob3NlIHNpbWlsYXIgdG8gdGhlIGlucHV0IGNvbG9yIHRvIGNvcnJlc3BvbmRpbmcgc2hhZGVzIG9mIGEgc3BlY2lmaWVkIG91dHB1dCBjb2xvci5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfcmVwbGFjZV9jb2xvclwiXG4gICAgfSkpXG4gIH0sXG4gIHNhdHVyYXRpb246IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJzYXR1cmF0aW9uXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWRqdXN0cyBhbiBpbWFnZSBvciB2aWRlbyBzYXR1cmF0aW9uIGxldmVsLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zYXR1cmF0aW9uXCJcbiAgICB9KSlcbiAgfSxcbiAgc2NyZWVuOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwic2NyZWVuXCIsXG4gICAgc2NoZW1hOiB6Mi5ib29sZWFuKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBIHF1YWxpZmllciB0aGF0IGJsZW5kcyBpbWFnZSBsYXllcnMgdXNpbmcgdGhlIHNjcmVlbiBibGVuZCBtb2RlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zY3JlZW5cIlxuICAgIH0pKVxuICB9LFxuICBzZXBpYToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNlcGlhXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQ2hhbmdlcyB0aGUgY29sb3Igc2NoZW1lIG9mIGFuIGltYWdlIHRvIHNlcGlhLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zZXBpYVwiXG4gICAgfSkpXG4gIH0sXG4gIHNoYWRvdzoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNoYWRvd1wiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFkZHMgYSBncmF5IHNoYWRvdyB0byB0aGUgYm90dG9tIHJpZ2h0IG9mIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zaGFkb3dcIlxuICAgIH0pKVxuICB9LFxuICBzaGFycGVuOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwic2hhcnBlblwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFwcGxpZXMgYSBzaGFycGVuaW5nIGZpbHRlci5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfc2hhcnBlblwiXG4gICAgfSkpXG4gIH0sXG4gIHNoZWFyOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwic2hlYXJcIixcbiAgICBzY2hlbWE6IHoyLnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiU2tld3MgYW4gaW1hZ2UgYWNjb3JkaW5nIHRvIHRoZSB0d28gc3BlY2lmaWVkIHZhbHVlcyBpbiBkZWdyZWVzLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zaGVhclwiXG4gICAgfSkpXG4gIH0sXG4gIHNpbXVsYXRlQ29sb3JibGluZDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNpbXVsYXRlX2NvbG9yYmxpbmRcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJTaW11bGF0ZXMgdGhlIHdheSBhbiBpbWFnZSB3b3VsZCBhcHBlYXIgdG8gc29tZW9uZSB3aXRoIHRoZSBzcGVjaWZpZWQgY29sb3IgYmxpbmQgY29uZGl0aW9uLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zaW11bGF0ZV9jb2xvcmJsaW5kXCJcbiAgICB9KSlcbiAgfSxcbiAgdGludDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInRpbnRcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJCbGVuZHMgYW4gaW1hZ2Ugd2l0aCBvbmUgb3IgbW9yZSB0aW50IGNvbG9ycyBhdCBhIHNwZWNpZmllZCBpbnRlbnNpdHkuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3RpbnRcIlxuICAgIH0pKVxuICB9LFxuICB0cmltOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwidHJpbVwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW1xuICAgICAgejIuc3RyaW5nKCksXG4gICAgICB6Mi5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkRldGVjdHMgYW5kIHJlbW92ZXMgaW1hZ2UgZWRnZXMgd2hvc2UgY29sb3IgaXMgc2ltaWxhciB0byB0aGUgY29ybmVyIHBpeGVscy5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfdHJpbVwiXG4gICAgfSkpXG4gIH0sXG4gIHVuc2hhcnBNYXNrOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwidW5zaGFycF9tYXNrXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyBhbiB1bnNoYXJwIG1hc2sgZmlsdGVyIHRvIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV91bnNoYXJwX21hc2tcIlxuICAgIH0pKVxuICB9LFxuICB2ZWN0b3JpemU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJ2ZWN0b3JpemVcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFtcbiAgICAgIHoyLnN0cmluZygpLFxuICAgICAgejIuYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJWZWN0b3JpemVzIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV92ZWN0b3JpemVcIlxuICAgIH0pKVxuICB9LFxuICB2aWJyYW5jZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInZpYnJhbmNlXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyBhIHZpYnJhbmNlIGZpbHRlciB0byBhbiBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfdmlicmFuY2VcIlxuICAgIH0pKVxuICB9LFxuICB2aWduZXR0ZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInZpZ25ldHRlXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbXG4gICAgICB6Mi5zdHJpbmcoKSxcbiAgICAgIHoyLmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyBhIHZpZ25ldHRlIGVmZmVjdCB0byBhbiBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfdmlnbmV0dGVcIlxuICAgIH0pKVxuICB9XG59O1xuXG4vLyBzcmMvdHlwZXMvYXNzZXQudHNcbmltcG9ydCB7IHogYXMgejEzIH0gZnJvbSBcInpvZFwiO1xuXG4vLyBzcmMvcGx1Z2lucy9jcm9wcGluZy50c1xudmFyIGNyb3BwaW5nX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGNyb3BwaW5nX2V4cG9ydHMsIHtcbiAgYXNzZXRUeXBlczogKCkgPT4gYXNzZXRUeXBlcyxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4sXG4gIHByb3BzOiAoKSA9PiBwcm9wc1xufSk7XG5pbXBvcnQgeyB6IGFzIHozIH0gZnJvbSBcInpvZFwiO1xuXG4vLyBzcmMvbGliL3RyYW5zZm9ybWF0aW9ucy50c1xuZnVuY3Rpb24gY29uc3RydWN0VHJhbnNmb3JtYXRpb24oeyBwcmVmaXgsIHF1YWxpZmllciwgdmFsdWUsIGNvbnZlcnRlcnMgfSkge1xuICBsZXQgdHJhbnNmb3JtYXRpb24gPSBcIlwiO1xuICBpZiAocHJlZml4KSB7XG4gICAgdHJhbnNmb3JtYXRpb24gPSBgJHtwcmVmaXh9X2A7XG4gIH1cbiAgbGV0IHRyYW5zZm9ybWF0aW9uVmFsdWUgPSB2YWx1ZTtcbiAgY29udmVydGVycz8uZm9yRWFjaCgoeyB0ZXN0LCBjb252ZXJ0IH0pID0+IHtcbiAgICBpZiAoIXRlc3QodHJhbnNmb3JtYXRpb25WYWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgdHJhbnNmb3JtYXRpb25WYWx1ZSA9IGNvbnZlcnQodHJhbnNmb3JtYXRpb25WYWx1ZSk7XG4gIH0pO1xuICBpZiAodHJhbnNmb3JtYXRpb25WYWx1ZSA9PT0gdHJ1ZSB8fCB0cmFuc2Zvcm1hdGlvblZhbHVlID09PSBcInRydWVcIikge1xuICAgIHJldHVybiBgJHt0cmFuc2Zvcm1hdGlvbn0ke3F1YWxpZmllcn1gO1xuICB9XG4gIGlmICh0eXBlb2YgdHJhbnNmb3JtYXRpb25WYWx1ZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdHJhbnNmb3JtYXRpb25WYWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIGlmIChwcmVmaXgpIHtcbiAgICAgIHJldHVybiBgJHt0cmFuc2Zvcm1hdGlvbn0ke3F1YWxpZmllcn06JHt0cmFuc2Zvcm1hdGlvblZhbHVlfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgJHtxdWFsaWZpZXJ9XyR7dHJhbnNmb3JtYXRpb25WYWx1ZX1gO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gcHJvbXB0QXJyYXlUb1N0cmluZyhwcm9tcHRBcnJheSkge1xuICByZXR1cm4gYCgke3Byb21wdEFycmF5LmpvaW4oXCI7XCIpfSlgO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplTnVtYmVyUGFyYW1ldGVyKHBhcmFtKSB7XG4gIGlmICh0eXBlb2YgcGFyYW0gIT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIHBhcmFtO1xuICByZXR1cm4gcGFyc2VJbnQocGFyYW0pO1xufVxuXG4vLyBzcmMvcGx1Z2lucy9jcm9wcGluZy50c1xudmFyIGNyb3BzQXNwZWN0UmF0aW8gPSBbXCJhdXRvXCIsIFwiY3JvcFwiLCBcImZpbGxcIiwgXCJsZmlsbFwiLCBcImZpbGxfcGFkXCIsIFwidGh1bWJcIl07XG52YXIgY3JvcHNHcmF2aXR5QXV0byA9IFtcImF1dG9cIiwgXCJjcm9wXCIsIFwiZmlsbFwiLCBcImxmaWxsXCIsIFwiZmlsbF9wYWRcIiwgXCJ0aHVtYlwiXTtcbnZhciBjcm9wc1dpdGhab29tID0gW1wiY3JvcFwiLCBcInRodW1iXCJdO1xudmFyIERFRkFVTFRfQ1JPUCA9IFwibGltaXRcIjtcbnZhciBjcm9wT3B0aW9uc1NjaGVtYSA9IHozLm9iamVjdCh7XG4gIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpby5zY2hlbWEub3B0aW9uYWwoKSxcbiAgdHlwZTogY3JvcC5zY2hlbWEsXG4gIGdyYXZpdHk6IGdyYXZpdHkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGhlaWdodDogaGVpZ2h0LnNjaGVtYS5vcHRpb25hbCgpLFxuICB3aWR0aDogd2lkdGguc2NoZW1hLm9wdGlvbmFsKCksXG4gIHpvb206IHpvb20uc2NoZW1hLm9wdGlvbmFsKCksXG4gIHNvdXJjZTogejMuYm9vbGVhbigpLm9wdGlvbmFsKClcbn0pO1xudmFyIHByb3BzID0ge1xuICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8uc2NoZW1hLm9wdGlvbmFsKCksXG4gIGNyb3A6IHozLnVuaW9uKFtcbiAgICBjcm9wLnNjaGVtYSxcbiAgICBjcm9wT3B0aW9uc1NjaGVtYSxcbiAgICB6My5hcnJheShjcm9wT3B0aW9uc1NjaGVtYSlcbiAgXSkuZGVmYXVsdChERUZBVUxUX0NST1ApLm9wdGlvbmFsKCksXG4gIGdyYXZpdHk6IGdyYXZpdHkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIHpvb206IHpvb20uc2NoZW1hLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlcyA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl07XG5mdW5jdGlvbiBwbHVnaW4ocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBsZXQgY3JvcHMgPSBbXTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmNyb3AgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG9wdGlvbnMuY3JvcCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNyb3BzLnB1c2goe1xuICAgICAgYXNwZWN0UmF0aW86IG9wdGlvbnMuYXNwZWN0UmF0aW8sXG4gICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXG4gICAgICBncmF2aXR5OiBvcHRpb25zLmdyYXZpdHksXG4gICAgICB0eXBlOiBvcHRpb25zLmNyb3AgfHwgREVGQVVMVF9DUk9QLFxuICAgICAgem9vbTogb3B0aW9ucy56b29tXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuY3JvcCA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvcHRpb25zLmNyb3ApKSB7XG4gICAgY3JvcHMucHVzaChvcHRpb25zLmNyb3ApO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5jcm9wKSkge1xuICAgIGNyb3BzID0gb3B0aW9ucy5jcm9wO1xuICB9XG4gIGlmIChjcm9wcy5sZW5ndGggPT09IDEgJiYgY3JvcHNbMF0uc291cmNlID09PSB0cnVlKSB7XG4gICAgY3JvcHMucHVzaCh7XG4gICAgICBhc3BlY3RSYXRpbzogb3B0aW9ucy5hc3BlY3RSYXRpbyxcbiAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcbiAgICAgIGdyYXZpdHk6IG9wdGlvbnMuZ3Jhdml0eSxcbiAgICAgIHR5cGU6IERFRkFVTFRfQ1JPUCxcbiAgICAgIHpvb206IG9wdGlvbnMuem9vbVxuICAgIH0pO1xuICB9XG4gIGxldCBmaW5hbFRyYW5zZm9ybWF0aW9ucyA9IFtdO1xuICBsZXQgc291cmNlVHJhbnNmb3JtYXRpb25zID0gW107XG4gIGZvciAoY29uc3QgY3JvcDIgb2YgY3JvcHMpIHtcbiAgICBjb25zdCBjcm9wRGltZW5zaW9ucyA9IHtcbiAgICAgIHdpZHRoOiBjcm9wMi53aWR0aCxcbiAgICAgIGhlaWdodDogY3JvcDIuaGVpZ2h0XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIGNyb3BEaW1lbnNpb25zLndpZHRoID09PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBjcm9wMi5hc3BlY3RSYXRpbyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY3JvcERpbWVuc2lvbnMud2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgaWYgKHR5cGVvZiBjcm9wRGltZW5zaW9ucy5oZWlnaHQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgY3JvcERpbWVuc2lvbnMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9ucyA9IGNvbGxlY3RUcmFuc2Zvcm1hdGlvbnMoe1xuICAgICAgYXNwZWN0UmF0aW86IGNyb3AyLmFzcGVjdFJhdGlvLFxuICAgICAgZ3Jhdml0eTogY3JvcDIuZ3Jhdml0eSxcbiAgICAgIHR5cGU6IGNyb3AyLnR5cGUgfHwgREVGQVVMVF9DUk9QLFxuICAgICAgem9vbTogY3JvcDIuem9vbSxcbiAgICAgIC4uLmNyb3BEaW1lbnNpb25zXG4gICAgfSk7XG4gICAgaWYgKHRyYW5zZm9ybWF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoY3JvcDIuc291cmNlID09PSB0cnVlKSB7XG4gICAgICAgIHNvdXJjZVRyYW5zZm9ybWF0aW9ucy5wdXNoKHRyYW5zZm9ybWF0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbFRyYW5zZm9ybWF0aW9ucy5wdXNoKHRyYW5zZm9ybWF0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNvdXJjZVRyYW5zZm9ybWF0aW9ucy5mb3JFYWNoKCh0cmFuc2Zvcm1hdGlvbikgPT4ge1xuICAgIGlmICh0cmFuc2Zvcm1hdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICBjbGRBc3NldC5hZGRUcmFuc2Zvcm1hdGlvbih0cmFuc2Zvcm1hdGlvbi5qb2luKFwiLFwiKSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgcmVzdWx0cyA9IHtcbiAgICBvcHRpb25zOiB7fVxuICB9O1xuICBpZiAocmVzdWx0cy5vcHRpb25zICYmIGZpbmFsVHJhbnNmb3JtYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICByZXN1bHRzLm9wdGlvbnMucmVzaXplID0gZmluYWxUcmFuc2Zvcm1hdGlvbnMubWFwKCh0cmFuc2Zvcm1hdGlvbikgPT4gdHJhbnNmb3JtYXRpb24uam9pbihcIixcIikpLmpvaW4oXCIvXCIpO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuZnVuY3Rpb24gY29sbGVjdFRyYW5zZm9ybWF0aW9ucyhjb2xsZWN0T3B0aW9ucykge1xuICBjb25zdCB7IGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbzIsIHR5cGU6IGNyb3AyLCB6b29tOiB6b29tMiB9ID0gY29sbGVjdE9wdGlvbnM7XG4gIGxldCBncmF2aXR5MiA9IGNvbGxlY3RPcHRpb25zLmdyYXZpdHk7XG4gIGxldCBoZWlnaHQyID0gbm9ybWFsaXplTnVtYmVyUGFyYW1ldGVyKGNvbGxlY3RPcHRpb25zLmhlaWdodCk7XG4gIGxldCB3aWR0aDIgPSBub3JtYWxpemVOdW1iZXJQYXJhbWV0ZXIoY29sbGVjdE9wdGlvbnMud2lkdGgpO1xuICBjb25zdCB0cmFuc2Zvcm1hdGlvbnMgPSBbXTtcbiAgY29uc3QgaGFzRGVmaW5lZERpbWVuc2lvbnMgPSBoZWlnaHQyIHx8IHdpZHRoMjtcbiAgY29uc3QgaGFzVmFsaWRBc3BlY3RSYXRpbyA9IGFzcGVjdFJhdGlvMiAmJiBjcm9wc0FzcGVjdFJhdGlvLmluY2x1ZGVzKGNyb3AyKTtcbiAgaWYgKGNyb3AyICYmIChoYXNEZWZpbmVkRGltZW5zaW9ucyB8fCBoYXNWYWxpZEFzcGVjdFJhdGlvKSkge1xuICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGBjXyR7Y3JvcDJ9YCk7XG4gIH1cbiAgaWYgKGhhc1ZhbGlkQXNwZWN0UmF0aW8pIHtcbiAgICB0cmFuc2Zvcm1hdGlvbnMucHVzaChgYXJfJHthc3BlY3RSYXRpbzJ9YCk7XG4gIH1cbiAgaWYgKHdpZHRoMikge1xuICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGB3XyR7d2lkdGgyfWApO1xuICB9XG4gIGlmICghW1wibGltaXRcIl0uaW5jbHVkZXMoY3JvcDIpICYmIHR5cGVvZiBoZWlnaHQyID09PSBcIm51bWJlclwiKSB7XG4gICAgdHJhbnNmb3JtYXRpb25zLnB1c2goYGhfJHtoZWlnaHQyfWApO1xuICB9XG4gIGlmICghZ3Jhdml0eTIgJiYgY3JvcHNHcmF2aXR5QXV0by5pbmNsdWRlcyhjcm9wMikpIHtcbiAgICBncmF2aXR5MiA9IFwiYXV0b1wiO1xuICB9XG4gIGlmIChncmF2aXR5Mikge1xuICAgIGlmIChncmF2aXR5MiA9PT0gXCJhdXRvXCIgJiYgIWNyb3BzR3Jhdml0eUF1dG8uaW5jbHVkZXMoY3JvcDIpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYEF1dG8gZ3Jhdml0eSBjYW4gb25seSBiZSB1c2VkIHdpdGggY3JvcCBtb2RlczogJHtjcm9wc0dyYXZpdHlBdXRvLmpvaW4oXCIsIFwiKX0uIE5vdCBhcHBseWluZyBncmF2aXR5LmApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2Zvcm1hdGlvbnMucHVzaChgZ18ke2dyYXZpdHkyfWApO1xuICAgIH1cbiAgfVxuICBpZiAoem9vbTIpIHtcbiAgICBpZiAoem9vbTIgPT09IFwiYXV0b1wiICYmICFjcm9wc1dpdGhab29tLmluY2x1ZGVzKGNyb3AyKSkge1xuICAgICAgY29uc29sZS53YXJuKGBab29tIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBjcm9wIG1vZGVzOiAke2Nyb3BzV2l0aFpvb20uam9pbihcIiwgXCIpfS4gTm90IGFwcGx5aW5nIHpvb20uYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGB6XyR7em9vbTJ9YCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1hdGlvbnM7XG59XG5cbi8vIHNyYy9wbHVnaW5zL2VmZmVjdHMudHNcbnZhciBlZmZlY3RzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGVmZmVjdHNfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMixcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4yLFxuICBwcm9wczogKCkgPT4gcHJvcHMyXG59KTtcbmltcG9ydCB7IHogYXMgejQgfSBmcm9tIFwiem9kXCI7XG52YXIgZWZmZWN0UHJvcHMgPSB7XG4gIGFuZ2xlOiBlZmZlY3RzLmFuZ2xlLnNjaGVtYS5vcHRpb25hbCgpLFxuICBhcnQ6IGVmZmVjdHMuYXJ0LnNjaGVtYS5vcHRpb25hbCgpLFxuICBhdXRvQnJpZ2h0bmVzczogZWZmZWN0cy5hdXRvQnJpZ2h0bmVzcy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYXV0b0NvbG9yOiBlZmZlY3RzLmF1dG9Db2xvci5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYXV0b0NvbnRyYXN0OiBlZmZlY3RzLmF1dG9Db250cmFzdC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYXNzaXN0Q29sb3JibGluZDogZWZmZWN0cy5hc3Npc3RDb2xvcmJsaW5kLnNjaGVtYS5vcHRpb25hbCgpLFxuICBiYWNrZ3JvdW5kOiBlZmZlY3RzLmJhY2tncm91bmQuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGJsYWNrd2hpdGU6IGVmZmVjdHMuYmxhY2t3aGl0ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYmx1cjogZWZmZWN0cy5ibHVyLnNjaGVtYS5vcHRpb25hbCgpLFxuICBibHVyRmFjZXM6IGVmZmVjdHMuYmx1ckZhY2VzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBibHVyUmVnaW9uOiBlZmZlY3RzLmJsdXJSZWdpb24uc2NoZW1hLm9wdGlvbmFsKCksXG4gIGJvcmRlcjogZWZmZWN0cy5ib3JkZXIuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGJyaWdodG5lc3M6IGVmZmVjdHMuYnJpZ2h0bmVzcy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYnJpZ2h0bmVzc0hTQjogZWZmZWN0cy5icmlnaHRuZXNzSFNCLnNjaGVtYS5vcHRpb25hbCgpLFxuICBjYXJ0b29uaWZ5OiBlZmZlY3RzLmNhcnRvb25pZnkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGNvbG9yOiBlZmZlY3RzLmNvbG9yLnNjaGVtYS5vcHRpb25hbCgpLFxuICBjb2xvcml6ZTogZWZmZWN0cy5jb2xvcml6ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgY29udHJhc3Q6IGVmZmVjdHMuY29udHJhc3Quc2NoZW1hLm9wdGlvbmFsKCksXG4gIGRpc3RvcnQ6IGVmZmVjdHMuZGlzdG9ydC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZmlsbExpZ2h0OiBlZmZlY3RzLmZpbGxMaWdodC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZ2FtbWE6IGVmZmVjdHMuZ2FtbWEuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGdyYWRpZW50RmFkZTogZWZmZWN0cy5ncmFkaWVudEZhZGUuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGdyYXlzY2FsZTogZWZmZWN0cy5ncmF5c2NhbGUuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGltcHJvdmU6IGVmZmVjdHMuaW1wcm92ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgbG9vcDogZWZmZWN0cy5sb29wLnNjaGVtYS5vcHRpb25hbCgpLFxuICBtdWx0aXBseTogZWZmZWN0cy5tdWx0aXBseS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgbmVnYXRlOiBlZmZlY3RzLm5lZ2F0ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgb2lsUGFpbnQ6IGVmZmVjdHMub2lsUGFpbnQuc2NoZW1hLm9wdGlvbmFsKCksXG4gIG9wYWNpdHk6IGVmZmVjdHMub3BhY2l0eS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgb3V0bGluZTogZWZmZWN0cy5vdXRsaW5lLnNjaGVtYS5vcHRpb25hbCgpLFxuICBwaXhlbGF0ZTogZWZmZWN0cy5waXhlbGF0ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcGl4ZWxhdGVGYWNlczogZWZmZWN0cy5waXhlbGF0ZUZhY2VzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBwaXhlbGF0ZVJlZ2lvbjogZWZmZWN0cy5waXhlbGF0ZVJlZ2lvbi5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcmFkaXVzOiBlZmZlY3RzLnJhZGl1cy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcmVkZXllOiBlZmZlY3RzLnJlZGV5ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcmVwbGFjZUNvbG9yOiBlZmZlY3RzLnJlcGxhY2VDb2xvci5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2F0dXJhdGlvbjogZWZmZWN0cy5zYXR1cmF0aW9uLnNjaGVtYS5vcHRpb25hbCgpLFxuICBzY3JlZW46IGVmZmVjdHMuc2NyZWVuLnNjaGVtYS5vcHRpb25hbCgpLFxuICBzZXBpYTogZWZmZWN0cy5zZXBpYS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2hhZG93OiBlZmZlY3RzLnNoYWRvdy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2hhcnBlbjogZWZmZWN0cy5zaGFycGVuLnNjaGVtYS5vcHRpb25hbCgpLFxuICBzaGVhcjogZWZmZWN0cy5zaGVhci5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2ltdWxhdGVDb2xvcmJsaW5kOiBlZmZlY3RzLnNpbXVsYXRlQ29sb3JibGluZC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgdGludDogZWZmZWN0cy50aW50LnNjaGVtYS5vcHRpb25hbCgpLFxuICB0cmltOiBlZmZlY3RzLnRyaW0uc2NoZW1hLm9wdGlvbmFsKCksXG4gIHVuc2hhcnBNYXNrOiBlZmZlY3RzLnVuc2hhcnBNYXNrLnNjaGVtYS5vcHRpb25hbCgpLFxuICB2ZWN0b3JpemU6IGVmZmVjdHMudmVjdG9yaXplLnNjaGVtYS5vcHRpb25hbCgpLFxuICB2aWJyYW5jZTogZWZmZWN0cy52aWJyYW5jZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgdmlnbmV0dGU6IGVmZmVjdHMudmlnbmV0dGUuc2NoZW1hLm9wdGlvbmFsKClcbn07XG52YXIgcHJvcHMyID0ge1xuICBlZmZlY3RzOiB6NC5hcnJheSh6NC5vYmplY3QoZWZmZWN0UHJvcHMpKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJBcnJheSBvZiBvYmplY3RzIHNwZWNpZnlpbmcgdHJhbnNmb3JtYXRpb25zIHRvIGJlIGFwcGxpZWQgdG8gYXNzZXQuXCJcbiAgfSkpLm9wdGlvbmFsKCksXG4gIC4uLmVmZmVjdFByb3BzXG59O1xudmFyIGFzc2V0VHlwZXMyID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIiwgXCJ2aWRlb1wiLCBcInZpZGVvc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjIocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB0cmFuc2Zvcm1hdGlvblN0cmluZ3MgPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvblN0cmluZyh7XG4gICAgZWZmZWN0cyxcbiAgICBvcHRpb25zXG4gIH0pO1xuICB0cmFuc2Zvcm1hdGlvblN0cmluZ3MuZmlsdGVyKCh0KSA9PiAhIXQpLmZvckVhY2goKHRyYW5zZm9ybWF0aW9uKSA9PiBjbGRBc3NldC5lZmZlY3QodHJhbnNmb3JtYXRpb24pKTtcbiAgO1xuICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zPy5lZmZlY3RzKSkge1xuICAgIG9wdGlvbnM/LmVmZmVjdHMuZm9yRWFjaCgoZWZmZWN0c1NldCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb25TdHJpbmcgPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvblN0cmluZyh7XG4gICAgICAgIGVmZmVjdHMsXG4gICAgICAgIG9wdGlvbnM6IGVmZmVjdHNTZXRcbiAgICAgIH0pLmZpbHRlcigodCkgPT4gISF0KS5qb2luKFwiLFwiKTtcbiAgICAgIGNsZEFzc2V0LmVmZmVjdCh0cmFuc2Zvcm1hdGlvblN0cmluZyk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gY29uc3RydWN0VHJhbnNmb3JtYXRpb25TdHJpbmcoeyBlZmZlY3RzOiBlZmZlY3RzMiwgb3B0aW9uczogb3B0aW9uczIgfSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhlZmZlY3RzMikubWFwKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHsgcHJlZml4LCBxdWFsaWZpZXIsIGNvbnZlcnRlcnMgfSA9IGVmZmVjdHMyW2tleV07XG4gICAgICByZXR1cm4gY29uc3RydWN0VHJhbnNmb3JtYXRpb24oe1xuICAgICAgICBxdWFsaWZpZXIsXG4gICAgICAgIHByZWZpeCxcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMyPy5ba2V5XSxcbiAgICAgICAgY29udmVydGVyc1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHt9O1xufVxuXG4vLyBzcmMvcGx1Z2lucy9mbGFncy50c1xudmFyIGZsYWdzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGZsYWdzX2V4cG9ydHMsIHtcbiAgYXNzZXRUeXBlczogKCkgPT4gYXNzZXRUeXBlczMsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMyxcbiAgcHJvcHM6ICgpID0+IHByb3BzM1xufSk7XG52YXIgeyBmbGFnc0VudW06IGZsYWdzRW51bTIgfSA9IHBhcmFtZXRlcnNfZXhwb3J0cztcbnZhciBwcm9wczMgPSB7XG4gIGZsYWdzOiBmbGFncy5zY2hlbWEub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzMyA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl07XG5mdW5jdGlvbiBwbHVnaW4zKHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyBmbGFnczogZmxhZ3MyID0gW10gfSA9IG9wdGlvbnM7XG4gIGlmIChBcnJheS5pc0FycmF5KGZsYWdzMikgJiYgZmxhZ3MyLmxlbmd0aCA+IDApIHtcbiAgICBmbGFnczIuZm9yRWFjaCgoZmxhZykgPT4ge1xuICAgICAgY29uc3QgeyBzdWNjZXNzIH0gPSBmbGFnc0VudW0yLnNhZmVQYXJzZShmbGFnKTtcbiAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmbGFnICR7ZmxhZ30sIG5vdCBhcHBseWluZy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGRBc3NldC5hZGRGbGFnKGZsYWcpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBmbGFnczIgPT09IFwib2JqZWN0XCIpIHtcbiAgICBPYmplY3QuZW50cmllcyhmbGFnczIpLmZvckVhY2goKFtxdWFsaWZpZXIsIHZhbHVlXSkgPT4ge1xuICAgICAgY29uc3QgeyBzdWNjZXNzIH0gPSBmbGFnc0VudW0yLnNhZmVQYXJzZShxdWFsaWZpZXIpO1xuICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIGZsYWcgJHtxdWFsaWZpZXJ9LCBub3QgYXBwbHlpbmcuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYGZsXyR7cXVhbGlmaWVyfToke3ZhbHVlfWApO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvbmFtZWQtdHJhbnNmb3JtYXRpb25zLnRzXG52YXIgbmFtZWRfdHJhbnNmb3JtYXRpb25zX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KG5hbWVkX3RyYW5zZm9ybWF0aW9uc19leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXM0LFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjQsXG4gIHByb3BzOiAoKSA9PiBwcm9wczQsXG4gIHN0cmljdDogKCkgPT4gc3RyaWN0XG59KTtcbmltcG9ydCB7IHogYXMgejUgfSBmcm9tIFwiem9kXCI7XG52YXIgTmFtZWRUcmFuc2Zvcm1hdGlvblNjaGVtYSA9IHo1LnN0cmluZygpO1xudmFyIHByb3BzNCA9IHtcbiAgbmFtZWRUcmFuc2Zvcm1hdGlvbnM6IHo1LnVuaW9uKFtcbiAgICBOYW1lZFRyYW5zZm9ybWF0aW9uU2NoZW1hLFxuICAgIHo1LmFycmF5KE5hbWVkVHJhbnNmb3JtYXRpb25TY2hlbWEpXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIk5hbWVkIHRyYW5zZm9ybWF0aW9ucyB0byBhcHBseSB0byBhc3NldC5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2ltYWdlX3RyYW5zZm9ybWF0aW9ucyNuYW1lZF90cmFuc2Zvcm1hdGlvbnNcIlxuICB9KSkub3B0aW9uYWwoKSxcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHVzZSB7QGxpbmsgYG5hbWVkVHJhbnNmb3JtYXRpb25zYH0gaW5zdGVhZFxuICAgKi9cbiAgdHJhbnNmb3JtYXRpb25zOiB6NS51bmlvbihbXG4gICAgTmFtZWRUcmFuc2Zvcm1hdGlvblNjaGVtYSxcbiAgICB6NS5hcnJheShOYW1lZFRyYW5zZm9ybWF0aW9uU2NoZW1hKVxuICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJEZXByZWNhdGVkOiB1c2UgbmFtZWRUcmFuc2Zvcm1hdGlvbnMgaW5zdGVhZFwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vaW1hZ2VfdHJhbnNmb3JtYXRpb25zI25hbWVkX3RyYW5zZm9ybWF0aW9uc1wiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXM0ID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIiwgXCJ2aWRlb1wiLCBcInZpZGVvc1wiXTtcbnZhciBzdHJpY3QgPSB0cnVlO1xuZnVuY3Rpb24gcGx1Z2luNChwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgdHJhbnNmb3JtYXRpb25zLCBuYW1lZFRyYW5zZm9ybWF0aW9ucyB9ID0gb3B0aW9ucztcbiAgaWYgKHRyYW5zZm9ybWF0aW9ucyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOVklST05NRU5UID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICBjb25zb2xlLndhcm4oXCJUaGUgdHJhbnNmb3JtYXRpb25zIHByb3AgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBuYW1lZFRyYW5zZm9ybWF0aW9ucyBpbnN0ZWFkLlwiKTtcbiAgfVxuICBsZXQgX25hbWVkVHJhbnNmb3JtYXRpb25zID0gbmFtZWRUcmFuc2Zvcm1hdGlvbnMgfHwgdHJhbnNmb3JtYXRpb25zIHx8IFtdO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoX25hbWVkVHJhbnNmb3JtYXRpb25zKSkge1xuICAgIF9uYW1lZFRyYW5zZm9ybWF0aW9ucyA9IFtfbmFtZWRUcmFuc2Zvcm1hdGlvbnNdO1xuICB9XG4gIF9uYW1lZFRyYW5zZm9ybWF0aW9ucy5mb3JFYWNoKCh0cmFuc2Zvcm1hdGlvbikgPT4ge1xuICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGB0XyR7dHJhbnNmb3JtYXRpb259YCk7XG4gIH0pO1xuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL292ZXJsYXlzLnRzXG52YXIgb3ZlcmxheXNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQob3ZlcmxheXNfZXhwb3J0cywge1xuICBERUZBVUxUX1RFWFRfT1BUSU9OUzogKCkgPT4gREVGQVVMVF9URVhUX09QVElPTlMsXG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXM1LFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjUsXG4gIHByb3BzOiAoKSA9PiBwcm9wczVcbn0pO1xuaW1wb3J0IHsgeiBhcyB6NiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IGVuY29kZUJhc2U2NCwgb2JqZWN0SGFzS2V5LCBzb3J0QnlLZXkgfSBmcm9tIFwiQGNsb3VkaW5hcnktdXRpbC91dGlsXCI7XG52YXIgb3ZlcmxheVRleHRTY2hlbWEgPSB6Ni5vYmplY3Qoe1xuICBhbGlnbm1lbnQ6IHo2LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGFudGlhbGlhczogejYuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgYm9yZGVyOiB6Ni5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBjb2xvcjogejYuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgZm9udEZhbWlseTogejYuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgZm9udFNpemU6IHo2Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGZvbnRTdHlsZTogejYudW5pb24oW1xuICAgIHo2LnN0cmluZygpLFxuICAgIHo2Lm51bWJlcigpXG4gIF0pLm9wdGlvbmFsKCksXG4gIGZvbnRXZWlnaHQ6IHo2LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGhpbnRpbmc6IHo2LnVuaW9uKFtcbiAgICB6Ni5zdHJpbmcoKSxcbiAgICB6Ni5udW1iZXIoKVxuICBdKS5vcHRpb25hbCgpLFxuICBsZXR0ZXJTcGFjaW5nOiB6Ni51bmlvbihbXG4gICAgejYuc3RyaW5nKCksXG4gICAgejYubnVtYmVyKClcbiAgXSkub3B0aW9uYWwoKSxcbiAgbGluZVNwYWNpbmc6IHo2LnVuaW9uKFtcbiAgICB6Ni5zdHJpbmcoKSxcbiAgICB6Ni5udW1iZXIoKVxuICBdKS5vcHRpb25hbCgpLFxuICBzdHJva2U6IHo2LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHRleHQ6IHo2LnN0cmluZygpXG4gIC8vIFJlcXVpcmVkIGlmIHVzaW5nIG9iamVjdCBmb3JtYXRcbn0pO1xudmFyIG92ZXJsYXlQb3NpdGlvblNjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIGFuZ2xlOiBhbmdsZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZ3Jhdml0eTogZ3Jhdml0eS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgeDogeC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgeTogeS5zY2hlbWEub3B0aW9uYWwoKVxufSk7XG52YXIgb3ZlcmxheVNjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIGFwcGxpZWRFZmZlY3RzOiB6Ni5hcnJheSh6Ni5vYmplY3Qoe30pKS5vcHRpb25hbCgpLFxuICBhcHBsaWVkRmxhZ3M6IGZsYWdzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBlZmZlY3RzOiB6Ni5hcnJheSh6Ni5vYmplY3Qoe30pKS5vcHRpb25hbCgpLFxuICBjcm9wOiBjcm9wLnNjaGVtYS5vcHRpb25hbCgpLFxuICBmbGFnczogZmxhZ3Muc2NoZW1hLm9wdGlvbmFsKCksXG4gIGhlaWdodDogaGVpZ2h0LnNjaGVtYS5vcHRpb25hbCgpLFxuICBwb3NpdGlvbjogb3ZlcmxheVBvc2l0aW9uU2NoZW1hLm9wdGlvbmFsKCksXG4gIHB1YmxpY0lkOiB6Ni5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB0ZXh0OiB6Ni51bmlvbihbXG4gICAgejYuc3RyaW5nKCksXG4gICAgb3ZlcmxheVRleHRTY2hlbWFcbiAgXSkub3B0aW9uYWwoKSxcbiAgdXJsOiB6Ni5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB3aWR0aDogd2lkdGguc2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIHByb3BzNSA9IHtcbiAgb3ZlcmxheTogb3ZlcmxheVNjaGVtYS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJJbWFnZSBvciB0ZXh0IGxheWVyIHRoYXQgaXMgYXBwbGllZCBvbiB0b3Agb2YgdGhlIGJhc2UgaW1hZ2UuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjbF9sYXllclwiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBvdmVybGF5czogejYuYXJyYXkob3ZlcmxheVNjaGVtYSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiSW1hZ2Ugb3IgdGV4dCBsYXllcnMgdGhhdCBhcmUgYXBwbGllZCBvbiB0b3Agb2YgdGhlIGJhc2UgaW1hZ2UuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjbF9sYXllclwiXG4gIH0pKS5vcHRpb25hbCgpLFxuICB0ZXh0OiB6Ni5zdHJpbmcoKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJUZXh0IHRvIGJlIG92ZXJsYWlkIG9uIGFzc2V0LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vaW1hZ2VfdHJhbnNmb3JtYXRpb25zI3RyYW5zZm9ybWF0aW9uX3VybF9zdHJ1Y3R1cmVcIlxuICB9KSkub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzNSA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl07XG52YXIgREVGQVVMVF9URVhUX09QVElPTlMgPSB7XG4gIGNvbG9yOiBcImJsYWNrXCIsXG4gIGZvbnRGYW1pbHk6IFwiQXJpYWxcIixcbiAgZm9udFNpemU6IDIwMCxcbiAgZm9udFdlaWdodDogXCJib2xkXCJcbn07XG5mdW5jdGlvbiBwbHVnaW41KHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyB0ZXh0OiB0ZXh0Miwgb3ZlcmxheXMgPSBbXSB9ID0gb3B0aW9ucztcbiAgY29uc3QgdHlwZSA9IFwib3ZlcmxheVwiO1xuICBjb25zdCB0eXBlUXVhbGlmaWVyID0gXCJsXCI7XG4gIGlmIChBcnJheS5pc0FycmF5KG92ZXJsYXlzKSkge1xuICAgIG92ZXJsYXlzLmZvckVhY2goYXBwbHlPdmVybGF5KTtcbiAgfVxuICBpZiAodHlwZW9mIHRleHQyID09PSBcInN0cmluZ1wiKSB7XG4gICAgYXBwbHlPdmVybGF5KHtcbiAgICAgIHRleHQ6IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfVEVYVF9PUFRJT05TLCB7XG4gICAgICAgIHRleHQ6IHRleHQyXG4gICAgICB9KVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB0ZXh0MiA9PT0gXCJvYmplY3RcIikge1xuICAgIGFwcGx5T3ZlcmxheSh7XG4gICAgICB0ZXh0OiBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1RFWFRfT1BUSU9OUywgdGV4dDIpXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYXBwbHlPdmVybGF5KHsgcHVibGljSWQsIHVybCwgcG9zaXRpb246IHBvc2l0aW9uMiwgdGV4dDogdGV4dDMsIGVmZmVjdHM6IGxheWVyRWZmZWN0cyA9IFtdLCBhcHBsaWVkRWZmZWN0cyA9IFtdLCBmbGFnczogbGF5ZXJGbGFncyA9IFtdLCBhcHBsaWVkRmxhZ3MgPSBbXSwgLi4ub3B0aW9uczIgfSkge1xuICAgIGNvbnN0IGhhc1B1YmxpY0lkID0gdHlwZW9mIHB1YmxpY0lkID09PSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IGhhc1VybCA9IHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCI7XG4gICAgY29uc3QgaGFzVGV4dCA9IHR5cGVvZiB0ZXh0MyA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgdGV4dDMgPT09IFwic3RyaW5nXCI7XG4gICAgY29uc3QgaGFzUG9zaXRpb24gPSB0eXBlb2YgcG9zaXRpb24yID09PSBcIm9iamVjdFwiO1xuICAgIGlmICghaGFzUHVibGljSWQgJiYgIWhhc1VybCAmJiAhaGFzVGV4dCkge1xuICAgICAgY29uc29sZS53YXJuKGBBbiAke3R5cGV9IGlzIG1pc3NpbmcgUHVibGljIElELCBVUkwsIG9yIFRleHRgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxheWVyVHJhbnNmb3JtYXRpb247XG4gICAgaWYgKGhhc1RleHQpIHtcbiAgICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHt0eXBlUXVhbGlmaWVyfV90ZXh0YDtcbiAgICB9IGVsc2UgaWYgKGhhc1B1YmxpY0lkKSB7XG4gICAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7dHlwZVF1YWxpZmllcn1fJHtwdWJsaWNJZC5yZXBsYWNlKC9cXC8vZywgXCI6XCIpfWA7XG4gICAgfSBlbHNlIGlmIChoYXNVcmwpIHtcbiAgICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHt0eXBlUXVhbGlmaWVyfV9mZXRjaDoke2VuY29kZUJhc2U2NCh1cmwpfWA7XG4gICAgfVxuICAgIGNvbnN0IHByaW1hcnkyID0gW107XG4gICAgY29uc3QgYXBwbGllZCA9IFtdO1xuICAgIE9iamVjdC5rZXlzKG9wdGlvbnMyKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmICghb2JqZWN0SGFzS2V5KHByaW1hcnksIGtleSkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHsgcXVhbGlmaWVyLCBjb252ZXJ0ZXJzIH0gPSBwcmltYXJ5W2tleV07XG4gICAgICBjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IGNvbnN0cnVjdFRyYW5zZm9ybWF0aW9uKHtcbiAgICAgICAgcXVhbGlmaWVyLFxuICAgICAgICB2YWx1ZTogb3B0aW9uczJba2V5XSxcbiAgICAgICAgY29udmVydGVyc1xuICAgICAgfSk7XG4gICAgICBpZiAodHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgcHJpbWFyeTIucHVzaCh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGF5ZXJFZmZlY3RzLmZvckVhY2goKGVmZmVjdCkgPT4ge1xuICAgICAgT2JqZWN0LmtleXMoZWZmZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgZWZmZWN0UXVhbGlmaWVyID0gcHJpbWFyeVtrZXldIHx8IGVmZmVjdHNba2V5XSB8fCBwb3NpdGlvbltrZXldO1xuICAgICAgICBpZiAoIWVmZmVjdFF1YWxpZmllcilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgcXVhbGlmaWVyLCBwcmVmaXgsIGNvbnZlcnRlcnMgfSA9IGVmZmVjdFF1YWxpZmllcjtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgICAgcXVhbGlmaWVyLFxuICAgICAgICAgIHByZWZpeCxcbiAgICAgICAgICB2YWx1ZTogZWZmZWN0W2tleV0sXG4gICAgICAgICAgY29udmVydGVyc1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgcHJpbWFyeTIucHVzaCh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGFwcGxpZWRFZmZlY3RzLmZvckVhY2goKGVmZmVjdCkgPT4ge1xuICAgICAgT2JqZWN0LmtleXMoZWZmZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgZWZmZWN0UXVhbGlmaWVyID0gcHJpbWFyeVtrZXldIHx8IGVmZmVjdHNba2V5XSB8fCBwb3NpdGlvbltrZXldO1xuICAgICAgICBpZiAoIWVmZmVjdFF1YWxpZmllcilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgcXVhbGlmaWVyLCBwcmVmaXgsIGNvbnZlcnRlcnMgfSA9IGVmZmVjdFF1YWxpZmllcjtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgICAgcXVhbGlmaWVyLFxuICAgICAgICAgIHByZWZpeCxcbiAgICAgICAgICB2YWx1ZTogZWZmZWN0W2tleV0sXG4gICAgICAgICAgY29udmVydGVyc1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgYXBwbGllZC5wdXNoKHRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3QgYWN0aXZlTGF5ZXJGbGFncyA9IEFycmF5LmlzQXJyYXkobGF5ZXJGbGFncykgPyBsYXllckZsYWdzIDogW2xheWVyRmxhZ3NdO1xuICAgIGFjdGl2ZUxheWVyRmxhZ3MuZm9yRWFjaCgoZmxhZykgPT4ge1xuICAgICAgY29uc3QgeyBzdWNjZXNzIH0gPSBmbGFnc0VudW0uc2FmZVBhcnNlKGZsYWcpO1xuICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIGZsYWcgJHtmbGFnfSwgbm90IGFwcGx5aW5nLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByaW1hcnkyLnB1c2goYGZsXyR7ZmxhZ31gKTtcbiAgICB9KTtcbiAgICBjb25zdCBhY3RpdmVBcHBsaWVkRmxhZ3MgPSBBcnJheS5pc0FycmF5KGFwcGxpZWRGbGFncykgPyBhcHBsaWVkRmxhZ3MgOiBbYXBwbGllZEZsYWdzXTtcbiAgICBhY3RpdmVBcHBsaWVkRmxhZ3MuZm9yRWFjaCgoZmxhZykgPT4ge1xuICAgICAgY29uc3QgeyBzdWNjZXNzIH0gPSBmbGFnc0VudW0uc2FmZVBhcnNlKGZsYWcpO1xuICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIGZsYWcgJHtmbGFnfSwgbm90IGFwcGx5aW5nLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwcGxpZWQucHVzaChgZmxfJHtmbGFnfWApO1xuICAgIH0pO1xuICAgIGlmIChoYXNUZXh0KSB7XG4gICAgICBpZiAodHlwZW9mIHRleHQzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRleHQzID0ge1xuICAgICAgICAgIC4uLkRFRkFVTFRfVEVYVF9PUFRJT05TLFxuICAgICAgICAgIHRleHQ6IHRleHQzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCB0ZXh0VHJhbnNmb3JtYXRpb25zID0gW107XG4gICAgICBpZiAodHlwZW9mIHRleHQzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IHRleHRPcHRpb25zID0gT2JqZWN0LmtleXModGV4dDMpLmZpbHRlcigoa2V5KSA9PiBvYmplY3RIYXNLZXkodGV4dCwga2V5KSkubWFwKChrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRleHQzICYmIG9iamVjdEhhc0tleSh0ZXh0Mywga2V5KSAmJiB0ZXh0M1trZXldO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi50ZXh0W2tleV0sXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG9yZGVyOiB0ZXh0W2tleV0ub3JkZXIgfHwgOTlcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc29ydGVkVGV4dE9wdGlvbnMgPSBzb3J0QnlLZXkodGV4dE9wdGlvbnMsIFwib3JkZXJcIik7XG4gICAgICAgIGZvciAoY29uc3QgdGV4dE9wdGlvbiBvZiBzb3J0ZWRUZXh0T3B0aW9ucykge1xuICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSwgcXVhbGlmaWVyLCBsb2NhdGlvbiwgY29udmVydGVycyB9ID0gdGV4dE9wdGlvbjtcbiAgICAgICAgICBsZXQgdGV4dFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgY29udmVydGVycz8uZm9yRWFjaCgoeyB0ZXN0LCBjb252ZXJ0IH0pID0+IHtcbiAgICAgICAgICAgIGlmICghdGVzdCh2YWx1ZSkpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRleHRWYWx1ZSA9IGNvbnZlcnQodmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChsb2NhdGlvbiA9PT0gXCJwcmltYXJ5XCIpIHtcbiAgICAgICAgICAgIHByaW1hcnkyLnB1c2goYCR7cXVhbGlmaWVyfV8ke3RleHRWYWx1ZX1gKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHF1YWxpZmllciA9PT0gXCJzZWxmXCIpIHtcbiAgICAgICAgICAgIHRleHRUcmFuc2Zvcm1hdGlvbnMucHVzaChrZXkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocXVhbGlmaWVyKSB7XG4gICAgICAgICAgICB0ZXh0VHJhbnNmb3JtYXRpb25zLnB1c2goYCR7cXVhbGlmaWVyfV8ke3RleHRWYWx1ZX1gKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dFRyYW5zZm9ybWF0aW9ucy5wdXNoKHRleHRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBzcGVjaWFsQ2hhcmFjdGVycyA9IHtcbiAgICAgICAgXCIuXCI6IFwiJTJFXCIsXG4gICAgICAgIFwiLFwiOiBcIiUyQ1wiLFxuICAgICAgICBcIi9cIjogXCIlMkZcIlxuICAgICAgfTtcbiAgICAgIGxldCBsYXllclRleHQgPSB0ZXh0Mz8udGV4dCB8fCBcIlwiO1xuICAgICAgaWYgKHR5cGVvZiBsYXllclRleHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoc3BlY2lhbENoYXJhY3RlcnMpPy5mb3JFYWNoKChjaGFyYWN0ZXIpID0+IHtcbiAgICAgICAgICBsYXllclRleHQgPSBsYXllclRleHQ/LnJlcGxhY2UoY2hhcmFjdGVyLCBzcGVjaWFsQ2hhcmFjdGVyc1tjaGFyYWN0ZXJdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7bGF5ZXJUcmFuc2Zvcm1hdGlvbn06JHt0ZXh0VHJhbnNmb3JtYXRpb25zLmpvaW4oXCJfXCIpfToke2xheWVyVGV4dH1gO1xuICAgIH1cbiAgICBpZiAoaGFzUG9zaXRpb24pIHtcbiAgICAgIE9iamVjdC5rZXlzKHBvc2l0aW9uMikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmICghb2JqZWN0SGFzS2V5KHBvc2l0aW9uLCBrZXkpIHx8ICFvYmplY3RIYXNLZXkocG9zaXRpb24yLCBrZXkpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBxdWFsaWZpZXIsIGNvbnZlcnRlcnMgfSA9IHBvc2l0aW9uW2tleV07XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gY29uc3RydWN0VHJhbnNmb3JtYXRpb24oe1xuICAgICAgICAgIHF1YWxpZmllcixcbiAgICAgICAgICB2YWx1ZTogcG9zaXRpb24yW2tleV0sXG4gICAgICAgICAgY29udmVydGVyc1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgYXBwbGllZC5wdXNoKHRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChwcmltYXJ5Mi5sZW5ndGggPiAwKSB7XG4gICAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7bGF5ZXJUcmFuc2Zvcm1hdGlvbn0sJHtwcmltYXJ5Mi5qb2luKFwiLFwiKX1gO1xuICAgIH1cbiAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7bGF5ZXJUcmFuc2Zvcm1hdGlvbn0vZmxfbGF5ZXJfYXBwbHksZmxfbm9fb3ZlcmZsb3dgO1xuICAgIGlmIChhcHBsaWVkLmxlbmd0aCA+IDApIHtcbiAgICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHtsYXllclRyYW5zZm9ybWF0aW9ufSwke2FwcGxpZWQuam9pbihcIixcIil9YDtcbiAgICB9XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24obGF5ZXJUcmFuc2Zvcm1hdGlvbik7XG4gIH1cbiAgcmV0dXJuIHt9O1xufVxuXG4vLyBzcmMvcGx1Z2lucy9yYXctdHJhbnNmb3JtYXRpb25zLnRzXG52YXIgcmF3X3RyYW5zZm9ybWF0aW9uc19leHBvcnRzID0ge307XG5fX2V4cG9ydChyYXdfdHJhbnNmb3JtYXRpb25zX2V4cG9ydHMsIHtcbiAgYXNzZXRUeXBlczogKCkgPT4gYXNzZXRUeXBlczYsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luNixcbiAgcHJvcHM6ICgpID0+IHByb3BzNlxufSk7XG5pbXBvcnQgeyB6IGFzIHo3IH0gZnJvbSBcInpvZFwiO1xudmFyIFJhd1RyYW5zZm9ybWF0aW9uU2NoZW1hID0gejcuc3RyaW5nKCk7XG52YXIgcHJvcHM2ID0ge1xuICByYXdUcmFuc2Zvcm1hdGlvbnM6IHo3LnVuaW9uKFtcbiAgICBSYXdUcmFuc2Zvcm1hdGlvblNjaGVtYSxcbiAgICB6Ny5hcnJheShSYXdUcmFuc2Zvcm1hdGlvblNjaGVtYSlcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQXJyYXkgb2YgdHJhbnNmb3JtYXRpb24gcGFyYW1ldGVycyB1c2luZyB0aGUgQ2xvdWRpbmFyeSBVUkwgQVBJIHRvIGFwcGx5IHRvIGFuIGFzc2V0LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczYgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdO1xuZnVuY3Rpb24gcGx1Z2luNihwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGxldCB7IHJhd1RyYW5zZm9ybWF0aW9ucyA9IFtdIH0gPSBvcHRpb25zO1xuICBpZiAoIUFycmF5LmlzQXJyYXkocmF3VHJhbnNmb3JtYXRpb25zKSkge1xuICAgIHJhd1RyYW5zZm9ybWF0aW9ucyA9IFtyYXdUcmFuc2Zvcm1hdGlvbnNdO1xuICB9XG4gIHJhd1RyYW5zZm9ybWF0aW9ucy5mb3JFYWNoKCh0cmFuc2Zvcm1hdGlvbikgPT4ge1xuICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKHRyYW5zZm9ybWF0aW9uKTtcbiAgfSk7XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvcmVtb3ZlLWJhY2tncm91bmQudHNcbnZhciByZW1vdmVfYmFja2dyb3VuZF9leHBvcnRzID0ge307XG5fX2V4cG9ydChyZW1vdmVfYmFja2dyb3VuZF9leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXM3LFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjcsXG4gIHByb3BzOiAoKSA9PiBwcm9wczdcbn0pO1xuaW1wb3J0IHsgeiBhcyB6OCB9IGZyb20gXCJ6b2RcIjtcbnZhciBwcm9wczcgPSB7XG4gIHJlbW92ZUJhY2tncm91bmQ6IHo4LmJvb2xlYW4oKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJSZW1vdmVzIHRoZSBiYWNrZ3JvdW5kIG9mIGFuIGltYWdlIHVzaW5nIHRoZSBDbG91ZGluYXJ5IEFJIEJhY2tncm91bmQgUmVtb3ZhbCBBZGQtT24gKFJlcXVpcmVkKS5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2Nsb3VkaW5hcnlfYWlfYmFja2dyb3VuZF9yZW1vdmFsX2FkZG9uXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczcgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjcocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB7IHJlbW92ZUJhY2tncm91bmQgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgaWYgKHJlbW92ZUJhY2tncm91bmQpIHtcbiAgICBjbGRBc3NldC5lZmZlY3QoXCJlX2JhY2tncm91bmRfcmVtb3ZhbFwiKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3Nhbml0aXplLnRzXG52YXIgc2FuaXRpemVfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoc2FuaXRpemVfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzOCxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW44LFxuICBwcm9wczogKCkgPT4gcHJvcHM4XG59KTtcbmltcG9ydCB7IHogYXMgejkgfSBmcm9tIFwiem9kXCI7XG52YXIgcHJvcHM4ID0ge1xuICBzYW5pdGl6ZTogejkuYm9vbGVhbigpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlJ1bnMgYSBzYW5pdGl6ZXIgb24gU1ZHIGltYWdlcy5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNmbF9zYW5pdGl6ZVwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXM4ID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl07XG5mdW5jdGlvbiBwbHVnaW44KHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyBzYW5pdGl6ZSA9IHRydWUgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHNob3VsZEFwcGx5U2FuaXRpemVyID0gc2FuaXRpemUgJiYgKG9wdGlvbnMuZm9ybWF0ID09PSBcInN2Z1wiIHx8IGNsZEFzc2V0LnB1YmxpY0lELmVuZHNXaXRoKFwiLnN2Z1wiKSk7XG4gIGlmIChzaG91bGRBcHBseVNhbml0aXplcikge1xuICAgIGNsZEFzc2V0LmVmZmVjdChcImZsX3Nhbml0aXplXCIpO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvc2VvLnRzXG52YXIgc2VvX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHNlb19leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXM5LFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjksXG4gIHByb3BzOiAoKSA9PiBwcm9wczlcbn0pO1xuaW1wb3J0IHsgeiBhcyB6MTAgfSBmcm9tIFwiem9kXCI7XG52YXIgcHJvcHM5ID0ge1xuICBzZW9TdWZmaXg6IHoxMC5zdHJpbmcoKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJDb25maWd1cmVzIHRoZSBVUkwgdG8gaW5jbHVkZSBhbiBTRU8tZnJpZW5kbHkgc3VmZml4IGluIHRoZSBVUkxcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2FkdmFuY2VkX3VybF9kZWxpdmVyeV9vcHRpb25zI3Nlb19mcmllbmRseV9tZWRpYV9hc3NldF91cmxzXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczkgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdO1xuZnVuY3Rpb24gcGx1Z2luOShwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgc2VvU3VmZml4IH0gPSBvcHRpb25zO1xuICBpZiAodHlwZW9mIHNlb1N1ZmZpeCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChvcHRpb25zLmRlbGl2ZXJ5VHlwZSA9PT0gXCJmZXRjaFwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJTRU8gc3VmZml4IGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCBhIGRlbGl2ZXJ5IHR5cGUgb2YgZmV0Y2hcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsZEFzc2V0LnNldFN1ZmZpeChzZW9TdWZmaXgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3VuZGVybGF5cy50c1xudmFyIHVuZGVybGF5c19leHBvcnRzID0ge307XG5fX2V4cG9ydCh1bmRlcmxheXNfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTAsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTAsXG4gIHByb3BzOiAoKSA9PiBwcm9wczEwXG59KTtcbmltcG9ydCB7IHogYXMgejExIH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgb2JqZWN0SGFzS2V5IGFzIG9iamVjdEhhc0tleTIgfSBmcm9tIFwiQGNsb3VkaW5hcnktdXRpbC91dGlsXCI7XG52YXIgdW5kZXJsYXlQb3NpdGlvblNjaGVtYSA9IHoxMS5vYmplY3Qoe1xuICBhbmdsZTogYW5nbGUuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGdyYXZpdHk6IGdyYXZpdHkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIHg6IHguc2NoZW1hLm9wdGlvbmFsKCksXG4gIHk6IHkuc2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIHVuZGVybGF5U2NoZW1hID0gejExLm9iamVjdCh7XG4gIGFwcGxpZWRFZmZlY3RzOiB6MTEuYXJyYXkoejExLm9iamVjdCh7fSkpLm9wdGlvbmFsKCksXG4gIGFwcGxpZWRGbGFnczogZmxhZ3Muc2NoZW1hLm9wdGlvbmFsKCksXG4gIGVmZmVjdHM6IHoxMS5hcnJheSh6MTEub2JqZWN0KHt9KSkub3B0aW9uYWwoKSxcbiAgY3JvcDogY3JvcC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZmxhZ3M6IGZsYWdzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBoZWlnaHQ6IGhlaWdodC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcG9zaXRpb246IHVuZGVybGF5UG9zaXRpb25TY2hlbWEub3B0aW9uYWwoKSxcbiAgcHVibGljSWQ6IHoxMS5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB0eXBlOiB6MTEuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdXJsOiB6MTEuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgd2lkdGg6IHdpZHRoLnNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciBwcm9wczEwID0ge1xuICB1bmRlcmxheTogejExLnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlB1YmxpYyBJRCBvZiBpbWFnZSB0aGF0IGlzIGFwcGxpZWQgdW5kZXIgdGhlIGJhc2UgaW1hZ2UuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjbF9sYXllclwiXG4gIH0pKS5vcHRpb25hbCgpLFxuICB1bmRlcmxheXM6IHoxMS5hcnJheSh1bmRlcmxheVNjaGVtYSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiSW1hZ2UgbGF5ZXJzIHRoYXQgYXJlIGFwcGxpZWQgdW5kZXIgdGhlIGJhc2UgaW1hZ2UuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjbF9sYXllclwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXMxMCA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl07XG5mdW5jdGlvbiBwbHVnaW4xMChwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgdW5kZXJsYXksIHVuZGVybGF5cyA9IFtdIH0gPSBvcHRpb25zO1xuICBjb25zdCB0eXBlUXVhbGlmaWVyID0gXCJ1XCI7XG4gIGlmIChBcnJheS5pc0FycmF5KHVuZGVybGF5cykpIHtcbiAgICB1bmRlcmxheXMuZm9yRWFjaChhcHBseVVuZGVybGF5KTtcbiAgfVxuICBpZiAodHlwZW9mIHVuZGVybGF5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgdW5kZXJsYXlPcHRpb25zID0ge1xuICAgICAgcHVibGljSWQ6IHVuZGVybGF5LFxuICAgICAgY3JvcDogXCJmaWxsXCIsXG4gICAgICB3aWR0aDogXCIxLjBcIixcbiAgICAgIGhlaWdodDogXCIxLjBcIixcbiAgICAgIGZsYWdzOiBbXCJyZWxhdGl2ZVwiXVxuICAgIH07XG4gICAgYXBwbHlVbmRlcmxheSh1bmRlcmxheU9wdGlvbnMpO1xuICB9XG4gIGZ1bmN0aW9uIGFwcGx5VW5kZXJsYXkoeyBwdWJsaWNJZCwgdHlwZSwgcG9zaXRpb246IHBvc2l0aW9uMiwgZWZmZWN0czogbGF5ZXJFZmZlY3RzID0gW10sIGZsYWdzOiBsYXllckZsYWdzID0gW10sIGFwcGxpZWRGbGFncyA9IFtdLCAuLi5vcHRpb25zMiB9KSB7XG4gICAgY29uc3QgaGFzUHVibGljSWQgPSB0eXBlb2YgcHVibGljSWQgPT09IFwic3RyaW5nXCI7XG4gICAgY29uc3QgaGFzUG9zaXRpb24gPSB0eXBlb2YgcG9zaXRpb24yID09PSBcIm9iamVjdFwiO1xuICAgIGlmICghaGFzUHVibGljSWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQW4gJHt0eXBlfSBpcyBtaXNzaW5nIGEgUHVibGljIElEYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7dHlwZVF1YWxpZmllcn1fJHtwdWJsaWNJZC5yZXBsYWNlKC9cXC8vZywgXCI6XCIpfWA7XG4gICAgY29uc3QgcHJpbWFyeTIgPSBbXTtcbiAgICBjb25zdCBhcHBsaWVkID0gW107XG4gICAgT2JqZWN0LmtleXMob3B0aW9uczIpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCFvYmplY3RIYXNLZXkyKHByaW1hcnksIGtleSkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHsgcXVhbGlmaWVyIH0gPSBwcmltYXJ5W2tleV07XG4gICAgICBwcmltYXJ5Mi5wdXNoKGAke3F1YWxpZmllcn1fJHtvcHRpb25zMltrZXldfWApO1xuICAgIH0pO1xuICAgIGxheWVyRWZmZWN0cy5mb3JFYWNoKChlZmZlY3QpID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKGVmZmVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmICghb2JqZWN0SGFzS2V5MihwcmltYXJ5LCBrZXkpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBxdWFsaWZpZXIgfSA9IHByaW1hcnlba2V5XTtcbiAgICAgICAgcHJpbWFyeTIucHVzaChgJHtxdWFsaWZpZXJ9XyR7ZWZmZWN0W2tleV19YCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAoaGFzUG9zaXRpb24pIHtcbiAgICAgIE9iamVjdC5rZXlzKHBvc2l0aW9uMikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmICghb2JqZWN0SGFzS2V5Mihwb3NpdGlvbiwga2V5KSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgcXVhbGlmaWVyIH0gPSBwb3NpdGlvbltrZXldO1xuICAgICAgICBhcHBsaWVkLnB1c2goYCR7cXVhbGlmaWVyfV8ke3Bvc2l0aW9uMltrZXldfWApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZUxheWVyRmxhZ3MgPSBBcnJheS5pc0FycmF5KGxheWVyRmxhZ3MpID8gbGF5ZXJGbGFncyA6IFtsYXllckZsYWdzXTtcbiAgICBhY3RpdmVMYXllckZsYWdzLmZvckVhY2goKGZsYWcpID0+IHtcbiAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtLnNhZmVQYXJzZShmbGFnKTtcbiAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmbGFnICR7ZmxhZ30sIG5vdCBhcHBseWluZy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmltYXJ5Mi5wdXNoKGBmbF8ke2ZsYWd9YCk7XG4gICAgfSk7XG4gICAgY29uc3QgYWN0aXZlQXBwbGllZEZsYWdzID0gQXJyYXkuaXNBcnJheShhcHBsaWVkRmxhZ3MpID8gYXBwbGllZEZsYWdzIDogW2FwcGxpZWRGbGFnc107XG4gICAgYWN0aXZlQXBwbGllZEZsYWdzLmZvckVhY2goKGZsYWcpID0+IHtcbiAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtLnNhZmVQYXJzZShmbGFnKTtcbiAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmbGFnICR7ZmxhZ30sIG5vdCBhcHBseWluZy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcHBsaWVkLnB1c2goYGZsXyR7ZmxhZ31gKTtcbiAgICB9KTtcbiAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7bGF5ZXJUcmFuc2Zvcm1hdGlvbn0sJHtwcmltYXJ5Mi5qb2luKFwiLFwiKX1gO1xuICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHtsYXllclRyYW5zZm9ybWF0aW9ufS9mbF9sYXllcl9hcHBseSxmbF9ub19vdmVyZmxvd2A7XG4gICAgaWYgKGFwcGxpZWQubGVuZ3RoID4gMCkge1xuICAgICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke2xheWVyVHJhbnNmb3JtYXRpb259LCR7YXBwbGllZC5qb2luKFwiLFwiKX1gO1xuICAgIH1cbiAgICBjbGRBc3NldC5hZGRUcmFuc2Zvcm1hdGlvbihsYXllclRyYW5zZm9ybWF0aW9uKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3ZlcnNpb24udHNcbnZhciB2ZXJzaW9uX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHZlcnNpb25fZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTEsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTEsXG4gIHByb3BzOiAoKSA9PiBwcm9wczExXG59KTtcbmltcG9ydCB7IHogYXMgejEyIH0gZnJvbSBcInpvZFwiO1xudmFyIHByb3BzMTEgPSB7XG4gIHZlcnNpb246IHoxMi51bmlvbihbXG4gICAgejEyLm51bWJlcigpLFxuICAgIHoxMi5zdHJpbmcoKVxuICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJDdXN0b20gdmVyc2lvbiBudW1iZXIgdG8gYXBwbHkgdG8gYXNzZXQgVVJMLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vYWR2YW5jZWRfdXJsX2RlbGl2ZXJ5X29wdGlvbnMjYXNzZXRfdmVyc2lvbnNcIlxuICB9KSkub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzMTEgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdO1xuZnVuY3Rpb24gcGx1Z2luMTEocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB7IHZlcnNpb24gfSA9IG9wdGlvbnM7XG4gIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmVyc2lvbiA9PT0gXCJudW1iZXJcIikge1xuICAgIGNsZEFzc2V0LnNldFZlcnNpb24oYCR7dmVyc2lvbn1gLnJlcGxhY2UoXCJ2XCIsIFwiXCIpKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy90eXBlcy9hc3NldC50c1xudmFyIGFzc2V0T3B0aW9uc1NjaGVtYSA9IHoxMy5vYmplY3Qoe1xuICBhc3NldFR5cGU6IHoxMy5zdHJpbmcoKS5kZWZhdWx0KFwiaW1hZ2VcIikuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiVGhlIHR5cGUgb2YgYXNzZXQgdG8gZGVsaXZlci5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2ltYWdlX3RyYW5zZm9ybWF0aW9ucyN0cmFuc2Zvcm1hdGlvbl91cmxfc3RydWN0dXJlXCJcbiAgfSkpLm9wdGlvbmFsKCksXG4gIGRlbGl2ZXJ5VHlwZTogejEzLnN0cmluZygpLmRlZmF1bHQoXCJ1cGxvYWRcIikuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiRGVsaXZlcnkgbWV0aG9kIG9mIHRoZSBhc3NldC5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2ltYWdlX3RyYW5zZm9ybWF0aW9ucyNkZWxpdmVyeV90eXBlc1wiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBkcHI6IHoxMy51bmlvbihbejEzLnN0cmluZygpLCB6MTMubnVtYmVyKCldKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJEZWxpdmVyeSBtZXRob2Qgb2YgdGhlIGFzc2V0LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vaW1hZ2VfdHJhbnNmb3JtYXRpb25zI2RlbGl2ZXJ5X3R5cGVzXCJcbiAgfSkpLm9wdGlvbmFsKCksXG4gIGZvcm1hdDogejEzLnN0cmluZygpLmRlZmF1bHQoXCJhdXRvXCIpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkNvbnZlcnRzIChpZiBuZWNlc3NhcnkpIGFuZCBkZWxpdmVycyBhbiBhc3NldCBpbiB0aGUgc3BlY2lmaWVkIGZvcm1hdC5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNmX2Zvcm1hdFwiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBoZWlnaHQ6IHoxMy51bmlvbihbejEzLnN0cmluZygpLCB6MTMubnVtYmVyKCldKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJIZWlnaHQgb2YgdGhlIGdpdmVuIGFzc2V0LlwiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBxdWFsaXR5OiB6MTMudW5pb24oW3oxMy5zdHJpbmcoKSwgejEzLm51bWJlcigpLCB6MTMuc3RyaW5nKCldKS5kZWZhdWx0KFwiYXV0b1wiKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJRdWFsaXR5IG9mIHRoZSBkZWxpdmVyZWQgYXNzZXRcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNxX3F1YWxpdHlcIlxuICB9KSkub3B0aW9uYWwoKSxcbiAgc3JjOiB6MTMuc3RyaW5nKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQ2xvdWRpbmFyeSBQdWJsaWMgSUQgb3IgdmVyc2lvbmVkIENsb3VkaW5hcnkgVVJMICgvdjEyMzQvKVwiXG4gIH0pKSxcbiAgc3RyaWN0VHJhbnNmb3JtYXRpb25zOiB6MTMuYm9vbGVhbigpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkdpdmVzIHlvdSB0aGUgYWJpbGl0eSB0byBoYXZlIG1vcmUgY29udHJvbCBvdmVyIHdoYXQgdHJhbnNmb3JtYXRpb25zIGFyZSBwZXJtaXR0ZWQgdG8gYmUgdXNlZCBmcm9tIHlvdXIgQ2xvdWRpbmFyeSBhY2NvdW50LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vY29udHJvbF9hY2Nlc3NfdG9fbWVkaWEjc3RyaWN0X3RyYW5zZm9ybWF0aW9uc1wiXG4gIH0pKS5vcHRpb25hbCgpLFxuICB3aWR0aDogejEzLnVuaW9uKFt6MTMuc3RyaW5nKCksIHoxMy5udW1iZXIoKV0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIldpZHRoIG9mIHRoZSBnaXZlbiBhc3NldC5cIlxuICB9KSkub3B0aW9uYWwoKSxcbiAgLy8gU3ByZWFkaW5nIHBsdWdpbnMgaW5zdGVhZCBvZiBleHRlbmQgb3IgbWVyZ2UgdG8gYXZvaWQgZXhjZXNzaXZlIHNjaGVtYSB3YXJuaW5nXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzQ5MzMjaXNzdWVjb21tZW50LTE3NzI3ODc3ODVcbiAgLi4ucHJvcHMsXG4gIC4uLnByb3BzMixcbiAgLi4ucHJvcHMzLFxuICAuLi5wcm9wczQsXG4gIC4uLnByb3BzNSxcbiAgLi4ucHJvcHM2LFxuICAuLi5wcm9wczcsXG4gIC4uLnByb3BzOCxcbiAgLi4ucHJvcHM5LFxuICAuLi5wcm9wczEwLFxuICAuLi5wcm9wczExXG59KTtcblxuLy8gc3JjL3R5cGVzL2ltYWdlLnRzXG5pbXBvcnQgeyB6IGFzIHoyMiB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL3BsdWdpbnMvZGVmYXVsdC1pbWFnZS50c1xudmFyIGRlZmF1bHRfaW1hZ2VfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZGVmYXVsdF9pbWFnZV9leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXMxMixcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4xMixcbiAgcHJvcHM6ICgpID0+IHByb3BzMTJcbn0pO1xuaW1wb3J0IHsgeiBhcyB6MTQgfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBnZXRGb3JtYXQgfSBmcm9tIFwiQGNsb3VkaW5hcnktdXRpbC91dGlsXCI7XG52YXIgcHJvcHMxMiA9IHtcbiAgZGVmYXVsdEltYWdlOiB6MTQuc3RyaW5nKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQ29uZmlndXJlcyB0aGUgZGVmYXVsdCBpbWFnZSB0byB1c2UgaW4gY2FzZSB0aGUgZ2l2ZW4gcHVibGljIElEIGlzIG5vdCBhdmFpbGFibGUuIE11c3QgaW5jbHVkZSBmaWxlIGV4dGVuc2lvbi5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNkX2RlZmF1bHRfaW1hZ2VcIlxuICB9KSkub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzMTIgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjEyKHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyBkZWZhdWx0SW1hZ2UgfSA9IG9wdGlvbnM7XG4gIGlmICh0eXBlb2YgZGVmYXVsdEltYWdlID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKCFnZXRGb3JtYXQoZGVmYXVsdEltYWdlKSkge1xuICAgICAgY29uc29sZS53YXJuKGBUaGUgZGVmYXVsdEltYWdlIHByb3AgbWF5IGJlIG1pc3NpbmcgYSBmb3JtYXQgYW5kIG11c3QgaW5jbHVkZSBpdCBhbG9uZyB3aXRoIHRoZSBwdWJsaWMgSUQuIChFeDogbXlpbWFnZS5qcGcpYCk7XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRJbWFnZUlkID0gZGVmYXVsdEltYWdlLnJlcGxhY2UoL1xcLy9nLCBcIjpcIik7XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYGRfJHtkZWZhdWx0SW1hZ2VJZH1gKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL2ZpbGwtYmFja2dyb3VuZC50c1xudmFyIGZpbGxfYmFja2dyb3VuZF9leHBvcnRzID0ge307XG5fX2V4cG9ydChmaWxsX2JhY2tncm91bmRfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTMsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTMsXG4gIHByb3BzOiAoKSA9PiBwcm9wczEzXG59KTtcbmltcG9ydCB7IHogYXMgejE1IH0gZnJvbSBcInpvZFwiO1xudmFyIHByb3BzMTMgPSB7XG4gIGZpbGxCYWNrZ3JvdW5kOiB6MTUudW5pb24oW1xuICAgIHoxNS5ib29sZWFuKCksXG4gICAgejE1Lm9iamVjdCh7XG4gICAgICBjcm9wOiBjcm9wLnNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgZ3Jhdml0eTogZ3Jhdml0eS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgIHByb21wdDogejE1LnN0cmluZygpLm9wdGlvbmFsKClcbiAgICB9KVxuICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJVc2VzIEdlbmVyYXRpdmUgRmlsbCB0byBleHRlbmRlZCBwYWRkZWQgaW1hZ2Ugd2l0aCBBSVwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2JfZ2VuX2ZpbGxcIlxuICB9KSkub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzMTMgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiXTtcbnZhciBkZWZhdWx0Q3JvcCA9IFwicGFkXCI7XG5mdW5jdGlvbiBwbHVnaW4xMyhwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgZmlsbEJhY2tncm91bmQgfSA9IG9wdGlvbnM7XG4gIGlmICh0eXBlb2YgZmlsbEJhY2tncm91bmQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuO1xuICBjb25zdCB3aWR0aDIgPSBub3JtYWxpemVOdW1iZXJQYXJhbWV0ZXIob3B0aW9ucy53aWR0aCk7XG4gIGNvbnN0IGhlaWdodDIgPSBub3JtYWxpemVOdW1iZXJQYXJhbWV0ZXIob3B0aW9ucy5oZWlnaHQpO1xuICBjb25zdCBoYXNEZWZpbmVkRGltZW5zaW9ucyA9IHR5cGVvZiBoZWlnaHQyID09PSBcIm51bWJlclwiICYmIHR5cGVvZiB3aWR0aDIgPT09IFwibnVtYmVyXCI7XG4gIGxldCBhc3BlY3RSYXRpbzIgPSBvcHRpb25zLmFzcGVjdFJhdGlvO1xuICBpZiAoIWFzcGVjdFJhdGlvMiAmJiBoYXNEZWZpbmVkRGltZW5zaW9ucykge1xuICAgIGFzcGVjdFJhdGlvMiA9IGAke3dpZHRoMn06JHtoZWlnaHQyfWA7XG4gIH1cbiAgaWYgKCFhc3BlY3RSYXRpbzIpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZGV0ZXJtaW5lIGFzcGVjdCByYXRpbyBiYXNlZCBvbiBhdmFpbGFibGUgb3B0aW9ucyB0byB1c2UgZmlsbEJhY2tncm91bmQuIFBsZWFzZSBzcGVjaWZ5IHdpZHRoIGFuZCBoZWlnaHQgb3IgYW4gYXNwZWN0IHJhdGlvLmApO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGZpbGxCYWNrZ3JvdW5kID09PSB0cnVlKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IFtcbiAgICAgIFwiYl9nZW5fZmlsbFwiLFxuICAgICAgYGFyXyR7YXNwZWN0UmF0aW8yfWAsXG4gICAgICBgY18ke2RlZmF1bHRDcm9wfWBcbiAgICBdO1xuICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKHByb3BlcnRpZXMuam9pbihcIixcIikpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWxsQmFja2dyb3VuZCA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHsgY3JvcDogY3JvcDIgPSBkZWZhdWx0Q3JvcCwgZ3Jhdml0eTogZ3Jhdml0eTIsIHByb21wdCB9ID0gZmlsbEJhY2tncm91bmQ7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IFtcbiAgICAgIGBhcl8ke2FzcGVjdFJhdGlvMn1gLFxuICAgICAgYGNfJHtjcm9wMn1gXG4gICAgXTtcbiAgICBpZiAodHlwZW9mIHByb21wdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcHJvcGVydGllcy51bnNoaWZ0KGBiX2dlbl9maWxsOiR7cHJvbXB0fWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9wZXJ0aWVzLnVuc2hpZnQoYGJfZ2VuX2ZpbGxgKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBncmF2aXR5MiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcHJvcGVydGllcy5wdXNoKGBnXyR7Z3Jhdml0eTJ9YCk7XG4gICAgfVxuICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKHByb3BlcnRpZXMuam9pbihcIixcIikpO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvcmVjb2xvci50c1xudmFyIHJlY29sb3JfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocmVjb2xvcl9leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXMxNCxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4xNCxcbiAgcHJvcHM6ICgpID0+IHByb3BzMTRcbn0pO1xuaW1wb3J0IHsgeiBhcyB6MTYgfSBmcm9tIFwiem9kXCI7XG52YXIgaW1hZ2VPcHRpb25zUmVjb2xvclByb21wdFNjaGVtYSA9IHoxNi51bmlvbihbXG4gIHoxNi5zdHJpbmcoKSxcbiAgejE2LmFycmF5KHoxNi5zdHJpbmcoKSlcbl0pO1xudmFyIGltYWdlT3B0aW9uc1JlY29sb3JTY2hlbWEgPSB6MTYub2JqZWN0KHtcbiAgcHJvbXB0OiBpbWFnZU9wdGlvbnNSZWNvbG9yUHJvbXB0U2NoZW1hLm9wdGlvbmFsKCksXG4gIHRvOiB6MTYuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgbXVsdGlwbGU6IHoxNi5ib29sZWFuKCkub3B0aW9uYWwoKVxufSk7XG52YXIgcHJvcHMxNCA9IHtcbiAgcmVjb2xvcjogejE2LnVuaW9uKFtcbiAgICBpbWFnZU9wdGlvbnNSZWNvbG9yUHJvbXB0U2NoZW1hLFxuICAgIGltYWdlT3B0aW9uc1JlY29sb3JTY2hlbWFcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiVXNlcyBnZW5lcmF0aXZlIEFJIHRvIHJlY29sb3IgcGFydHMgb2YgeW91ciBpbWFnZSwgbWFpbnRhaW5pbmcgdGhlIHJlbGF0aXZlIHNoYWRpbmcuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9nZW5fcmVjb2xvclwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXMxNCA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdO1xuZnVuY3Rpb24gcGx1Z2luMTQocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB7IHJlY29sb3IgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlY29sb3JPcHRpb25zID0ge1xuICAgIHByb21wdDogdm9pZCAwLFxuICAgIFwidG8tY29sb3JcIjogdm9pZCAwLFxuICAgIG11bHRpcGxlOiB2b2lkIDBcbiAgfTtcbiAgaWYgKEFycmF5LmlzQXJyYXkocmVjb2xvcikpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZWNvbG9yWzBdKSkge1xuICAgICAgcmVjb2xvck9wdGlvbnMucHJvbXB0ID0gcHJvbXB0QXJyYXlUb1N0cmluZyhyZWNvbG9yWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjb2xvck9wdGlvbnMucHJvbXB0ID0gcmVjb2xvclswXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZWNvbG9yWzFdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZWNvbG9yT3B0aW9uc1tcInRvLWNvbG9yXCJdID0gcmVjb2xvclsxXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlY29sb3IgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAodHlwZW9mIHJlY29sb3IucHJvbXB0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZWNvbG9yT3B0aW9ucy5wcm9tcHQgPSByZWNvbG9yLnByb21wdDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVjb2xvci5wcm9tcHQpKSB7XG4gICAgICByZWNvbG9yT3B0aW9ucy5wcm9tcHQgPSBwcm9tcHRBcnJheVRvU3RyaW5nKHJlY29sb3IucHJvbXB0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZWNvbG9yLnRvID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZWNvbG9yT3B0aW9uc1tcInRvLWNvbG9yXCJdID0gcmVjb2xvci50bztcbiAgICB9XG4gICAgaWYgKHJlY29sb3IubXVsdGlwbGUgPT09IHRydWUpIHtcbiAgICAgIHJlY29sb3JPcHRpb25zLm11bHRpcGxlID0gYHRydWVgO1xuICAgIH1cbiAgfVxuICBjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IE9iamVjdC5lbnRyaWVzKHJlY29sb3JPcHRpb25zKS5maWx0ZXIoKFssIHZhbHVlXSkgPT4gISF2YWx1ZSkubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX1fJHt2YWx1ZX1gKS5qb2luKFwiO1wiKTtcbiAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYGVfZ2VuX3JlY29sb3I6JHt0cmFuc2Zvcm1hdGlvbn1gKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3JlbW92ZS50c1xudmFyIHJlbW92ZV9leHBvcnRzID0ge307XG5fX2V4cG9ydChyZW1vdmVfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTUsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTUsXG4gIHByb3BzOiAoKSA9PiBwcm9wczE1XG59KTtcbmltcG9ydCB7IHogYXMgejE3IH0gZnJvbSBcInpvZFwiO1xudmFyIGltYWdlT3B0aW9uc1JlbW92ZVByb21wdFNjaGVtYSA9IHoxNy51bmlvbihbXG4gIHoxNy5zdHJpbmcoKSxcbiAgejE3LmFycmF5KHoxNy5zdHJpbmcoKSlcbl0pO1xudmFyIGltYWdlT3B0aW9uc1JlbW92ZVNjaGVtYSA9IHoxNy5vYmplY3Qoe1xuICBwcm9tcHQ6IGltYWdlT3B0aW9uc1JlbW92ZVByb21wdFNjaGVtYS5vcHRpb25hbCgpLFxuICByZWdpb246IHoxNy51bmlvbihbXG4gICAgejE3LmFycmF5KHoxNy5udW1iZXIoKSksXG4gICAgejE3LmFycmF5KHoxNy5hcnJheSh6MTcubnVtYmVyKCkpKVxuICBdKS5vcHRpb25hbCgpLFxuICBtdWx0aXBsZTogejE3LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICByZW1vdmVTaGFkb3c6IHoxNy5ib29sZWFuKCkub3B0aW9uYWwoKVxufSk7XG52YXIgcHJvcHMxNSA9IHtcbiAgcmVtb3ZlOiB6MTcudW5pb24oW1xuICAgIGltYWdlT3B0aW9uc1JlbW92ZVByb21wdFNjaGVtYSxcbiAgICBpbWFnZU9wdGlvbnNSZW1vdmVTY2hlbWFcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQXBwbGllcyB6b29taW5nIGFuZC9vciBwYW5uaW5nIHRvIGFuIGltYWdlLCByZXN1bHRpbmcgaW4gYSB2aWRlbyBvciBhbmltYXRlZCBpbWFnZS5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3pvb21wYW5cIlxuICB9KSkub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzMTUgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjE1KHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyByZW1vdmUgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlbW92ZU9wdGlvbnMgPSB7XG4gICAgcHJvbXB0OiB2b2lkIDAsXG4gICAgcmVnaW9uOiB2b2lkIDAsXG4gICAgbXVsdGlwbGU6IHZvaWQgMCxcbiAgICBcInJlbW92ZS1zaGFkb3dcIjogdm9pZCAwXG4gIH07XG4gIGlmICh0eXBlb2YgcmVtb3ZlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmVtb3ZlT3B0aW9ucy5wcm9tcHQgPSByZW1vdmU7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZW1vdmUpKSB7XG4gICAgcmVtb3ZlT3B0aW9ucy5wcm9tcHQgPSBwcm9tcHRBcnJheVRvU3RyaW5nKHJlbW92ZSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlbW92ZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IGhhc1Byb21wdCA9IHR5cGVvZiByZW1vdmUucHJvbXB0ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkocmVtb3ZlLnByb21wdCk7XG4gICAgY29uc3QgaGFzUmVnaW9uID0gQXJyYXkuaXNBcnJheShyZW1vdmUucmVnaW9uKTtcbiAgICBpZiAoaGFzUHJvbXB0ICYmIGhhc1JlZ2lvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZW1vdmUgb3B0aW9uczogeW91IGNhbiBub3QgaGF2ZSBib3RoIGEgcHJvbXB0IGFuZCBhIHJlZ2lvbi4gTW9yZSBpbmZvOiBodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfZ2VuX3JlbW92ZVwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZW1vdmUucHJvbXB0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZW1vdmVPcHRpb25zLnByb21wdCA9IHJlbW92ZS5wcm9tcHQ7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlbW92ZS5wcm9tcHQpKSB7XG4gICAgICByZW1vdmVPcHRpb25zLnByb21wdCA9IHByb21wdEFycmF5VG9TdHJpbmcocmVtb3ZlLnByb21wdCk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHJlbW92ZS5yZWdpb24pKSB7XG4gICAgICByZW1vdmVPcHRpb25zLnJlZ2lvbiA9IHJlZ2lvbkFycmF5VG9TdHJpbmcocmVtb3ZlLnJlZ2lvbik7XG4gICAgfVxuICAgIGlmIChyZW1vdmUubXVsdGlwbGUgPT09IHRydWUpIHtcbiAgICAgIHJlbW92ZU9wdGlvbnMubXVsdGlwbGUgPSBgdHJ1ZWA7XG4gICAgfVxuICAgIGlmIChyZW1vdmUucmVtb3ZlU2hhZG93ID09PSB0cnVlKSB7XG4gICAgICByZW1vdmVPcHRpb25zW1wicmVtb3ZlLXNoYWRvd1wiXSA9IGB0cnVlYDtcbiAgICB9XG4gIH1cbiAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBPYmplY3QuZW50cmllcyhyZW1vdmVPcHRpb25zKS5maWx0ZXIoKFssIHZhbHVlXSkgPT4gISF2YWx1ZSkubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX1fJHt2YWx1ZX1gKS5qb2luKFwiO1wiKTtcbiAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYGVfZ2VuX3JlbW92ZToke3RyYW5zZm9ybWF0aW9ufWApO1xuICB9XG4gIHJldHVybiB7fTtcbn1cbmZ1bmN0aW9uIHJlZ2lvbkFycmF5VG9TdHJpbmcocmVnaW9uQXJyYXkpIHtcbiAgY29uc3QgaW5kZXhlcyA9IHtcbiAgICAwOiBcInhcIixcbiAgICAxOiBcInlcIixcbiAgICAyOiBcIndcIixcbiAgICAzOiBcImhcIlxuICB9O1xuICBjb25zdCByZWdpb25TdHJpbmcgPSByZWdpb25BcnJheS5tYXAoKHJlZ2lvbiwgaW5kZXgpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZWdpb24pKSB7XG4gICAgICByZXR1cm4gcmVnaW9uQXJyYXlUb1N0cmluZyhyZWdpb24pO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBpbmRleGVzW2luZGV4XTtcbiAgICByZXR1cm4gYCR7a2V5fV8ke3JlZ2lvbn1gO1xuICB9KS5qb2luKFwiO1wiKTtcbiAgcmV0dXJuIGAoJHtyZWdpb25TdHJpbmd9KWA7XG59XG5cbi8vIHNyYy9wbHVnaW5zL2VuaGFuY2UudHNcbnZhciBlbmhhbmNlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGVuaGFuY2VfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTYsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTYsXG4gIHByb3BzOiAoKSA9PiBwcm9wczE2XG59KTtcbmltcG9ydCB7IHogYXMgejE4IH0gZnJvbSBcInpvZFwiO1xudmFyIHByb3BzMTYgPSB7XG4gIGVuaGFuY2U6IHoxOC5ib29sZWFuKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiVXNlcyBBSSB0byBhbmFseXplIGFuIGltYWdlIGFuZCBtYWtlIGFkanVzdG1lbnRzIHRvIGVuaGFuY2UgdGhlIGFwcGVhbCBvZiB0aGUgaW1hZ2UuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9lbmhhbmNlXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczE2ID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl07XG5mdW5jdGlvbiBwbHVnaW4xNihwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgZW5oYW5jZSA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBpZiAoZW5oYW5jZSkge1xuICAgIGNsZEFzc2V0LmVmZmVjdChcImVfZW5oYW5jZVwiKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3Jlc3RvcmUudHNcbnZhciByZXN0b3JlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHJlc3RvcmVfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTcsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTcsXG4gIHByb3BzOiAoKSA9PiBwcm9wczE3XG59KTtcbmltcG9ydCB7IHogYXMgejE5IH0gZnJvbSBcInpvZFwiO1xudmFyIHByb3BzMTcgPSB7XG4gIHJlc3RvcmU6IHoxOS5ib29sZWFuKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiVXNlcyBnZW5lcmF0aXZlIEFJIHRvIHJlc3RvcmUgZGV0YWlscyBpbiBwb29yIHF1YWxpdHkgaW1hZ2VzIG9yIGltYWdlcyB0aGF0IG1heSBoYXZlIGJlY29tZSBkZWdyYWRlZCB0aHJvdWdoIHJlcGVhdGVkIHByb2Nlc3NpbmcgYW5kIGNvbXByZXNzaW9uLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfZ2VuX3Jlc3RvcmVcIlxuICB9KSkub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzMTcgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjE3KHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyByZXN0b3JlID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGlmIChyZXN0b3JlKSB7XG4gICAgY2xkQXNzZXQuZWZmZWN0KFwiZV9nZW5fcmVzdG9yZVwiKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3JlcGxhY2UudHNcbnZhciByZXBsYWNlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHJlcGxhY2VfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTgsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTgsXG4gIHByb3BzOiAoKSA9PiBwcm9wczE4XG59KTtcbmltcG9ydCB7IHogYXMgejIwIH0gZnJvbSBcInpvZFwiO1xudmFyIHByb3BzMTggPSB7XG4gIHJlcGxhY2U6IHoyMC51bmlvbihbXG4gICAgejIwLmFycmF5KHoyMC5zdHJpbmcoKSksXG4gICAgejIwLmFycmF5KHoyMC5ib29sZWFuKCkpLFxuICAgIHoyMC5vYmplY3Qoe1xuICAgICAgdG86IHoyMC5zdHJpbmcoKSxcbiAgICAgIGZyb206IHoyMC5zdHJpbmcoKSxcbiAgICAgIHByZXNlcnZlR2VvbWV0cnk6IHoyMC5ib29sZWFuKCkub3B0aW9uYWwoKVxuICAgIH0pXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlVzZXMgZ2VuZXJhdGl2ZSBBSSB0byByZXBsYWNlIHBhcnRzIG9mIHlvdXIgaW1hZ2Ugd2l0aCBzb21ldGhpbmcgZWxzZS5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dlbl9yZXBsYWNlXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczE4ID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl07XG5mdW5jdGlvbiBwbHVnaW4xOChwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgcmVwbGFjZSA9IG51bGwgfSA9IG9wdGlvbnM7XG4gIGlmIChyZXBsYWNlKSB7XG4gICAgbGV0IGZyb20sIHRvLCBwcmVzZXJ2ZUdlb21ldHJ5ID0gZmFsc2U7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVwbGFjZSkpIHtcbiAgICAgIGZyb20gPSByZXBsYWNlWzBdO1xuICAgICAgdG8gPSByZXBsYWNlWzFdO1xuICAgICAgcHJlc2VydmVHZW9tZXRyeSA9IHJlcGxhY2VbMl0gfHwgZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyb20gPSByZXBsYWNlLmZyb207XG4gICAgICB0byA9IHJlcGxhY2UudG87XG4gICAgICBwcmVzZXJ2ZUdlb21ldHJ5ID0gcmVwbGFjZS5wcmVzZXJ2ZUdlb21ldHJ5IHx8IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gW2BlX2dlbl9yZXBsYWNlOmZyb21fJHtmcm9tfWAsIGB0b18ke3RvfWBdO1xuICAgIGlmIChwcmVzZXJ2ZUdlb21ldHJ5KSB7XG4gICAgICBwcm9wZXJ0aWVzLnB1c2goYHByZXNlcnZlLWdlb21ldHJ5XyR7cHJlc2VydmVHZW9tZXRyeX1gKTtcbiAgICB9XG4gICAgY2xkQXNzZXQuZWZmZWN0KHByb3BlcnRpZXMuam9pbihcIjtcIikpO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvem9vbXBhbi50c1xudmFyIHpvb21wYW5fZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoem9vbXBhbl9leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXMxOSxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4xOSxcbiAgcHJvcHM6ICgpID0+IHByb3BzMTlcbn0pO1xuaW1wb3J0IHsgeiBhcyB6MjEgfSBmcm9tIFwiem9kXCI7XG52YXIgcHJvcHMxOSA9IHtcbiAgem9vbXBhbjogejIxLnVuaW9uKFtcbiAgICB6MjEuc3RyaW5nKCksXG4gICAgejIxLmJvb2xlYW4oKSxcbiAgICB6MjEub2JqZWN0KHtcbiAgICAgIGxvb3A6IGVmZmVjdHMubG9vcC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgIG9wdGlvbnM6IHoyMS5zdHJpbmcoKVxuICAgIH0pXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkFwcGxpZXMgem9vbWluZyBhbmQvb3IgcGFubmluZyB0byBhbiBpbWFnZSwgcmVzdWx0aW5nIGluIGEgdmlkZW8gb3IgYW5pbWF0ZWQgaW1hZ2UuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV96b29tcGFuXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczE5ID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl07XG5mdW5jdGlvbiBwbHVnaW4xOShwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgem9vbXBhbiA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBjb25zdCBvdmVycmlkZXMgPSB7XG4gICAgZm9ybWF0OiB2b2lkIDBcbiAgfTtcbiAgaWYgKHpvb21wYW4gPT09IHRydWUpIHtcbiAgICBjbGRBc3NldC5lZmZlY3QoXCJlX3pvb21wYW5cIik7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHpvb21wYW4gPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoem9vbXBhbiA9PT0gXCJsb29wXCIpIHtcbiAgICAgIGNsZEFzc2V0LmVmZmVjdChcImVfem9vbXBhblwiKTtcbiAgICAgIGNsZEFzc2V0LmVmZmVjdChcImVfbG9vcFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xkQXNzZXQuZWZmZWN0KGBlX3pvb21wYW46JHt6b29tcGFufWApO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2Ygem9vbXBhbiA9PT0gXCJvYmplY3RcIikge1xuICAgIGxldCB6b29tcGFuRWZmZWN0ID0gXCJlX3pvb21wYW5cIjtcbiAgICBpZiAodHlwZW9mIHpvb21wYW4ub3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgem9vbXBhbkVmZmVjdCA9IGAke3pvb21wYW5FZmZlY3R9OiR7em9vbXBhbi5vcHRpb25zfWA7XG4gICAgfVxuICAgIGNsZEFzc2V0LmVmZmVjdCh6b29tcGFuRWZmZWN0KTtcbiAgICBsZXQgbG9vcEVmZmVjdDtcbiAgICBpZiAoem9vbXBhbi5sb29wID09PSB0cnVlKSB7XG4gICAgICBsb29wRWZmZWN0ID0gXCJlX2xvb3BcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB6b29tcGFuLmxvb3AgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHpvb21wYW4ubG9vcCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgbG9vcEVmZmVjdCA9IGBlX2xvb3A6JHt6b29tcGFuLmxvb3B9YDtcbiAgICB9XG4gICAgaWYgKGxvb3BFZmZlY3QpIHtcbiAgICAgIGNsZEFzc2V0LmVmZmVjdChsb29wRWZmZWN0KTtcbiAgICB9XG4gIH1cbiAgaWYgKHpvb21wYW4gIT09IGZhbHNlKSB7XG4gICAgb3ZlcnJpZGVzLmZvcm1hdCA9IFwiYXV0bzphbmltYXRlZFwiO1xuICB9XG4gIHJldHVybiB7XG4gICAgb3B0aW9uczogb3ZlcnJpZGVzXG4gIH07XG59XG5cbi8vIHNyYy90eXBlcy9pbWFnZS50c1xudmFyIGltYWdlT3B0aW9uc1NjaGVtYSA9IGFzc2V0T3B0aW9uc1NjaGVtYS5tZXJnZSh6MjIub2JqZWN0KHtcbiAgLy8gU3ByZWFkaW5nIHBsdWdpbnMgaW5zdGVhZCBvZiBleHRlbmQgb3IgbWVyZ2UgdG8gYXZvaWQgZXhjZXNzaXZlIHNjaGVtYSB3YXJuaW5nXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzQ5MzMjaXNzdWVjb21tZW50LTE3NzI3ODc3ODVcbiAgLi4ucHJvcHMxMixcbiAgLi4ucHJvcHMxNixcbiAgLi4ucHJvcHMxMyxcbiAgLi4ucHJvcHMxNCxcbiAgLi4ucHJvcHMxNSxcbiAgLi4ucHJvcHMxOCxcbiAgLi4ucHJvcHMxNyxcbiAgLi4ucHJvcHMxOVxufSkpO1xuXG4vLyBzcmMvdHlwZXMvdmlkZW8udHNcbmltcG9ydCB7IHogYXMgejI0IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBzcmMvcGx1Z2lucy9hYnIudHNcbnZhciBhYnJfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoYWJyX2V4cG9ydHMsIHtcbiAgYXNzZXRUeXBlczogKCkgPT4gYXNzZXRUeXBlczIwLFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjIwLFxuICBwcm9wczogKCkgPT4gcHJvcHMyMFxufSk7XG5pbXBvcnQgeyB6IGFzIHoyMyB9IGZyb20gXCJ6b2RcIjtcbnZhciBwcm9wczIwID0ge1xuICBzdHJlYW1pbmdQcm9maWxlOiB6MjMuc3RyaW5nKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiVGhlIHN0cmVhbWluZyBwcm9maWxlIHRvIGFwcGx5IHdoZW4gZGVsaXZlcmluZyBhIHZpZGVvIHVzaW5nIGFkYXB0aXZlIGJpdHJhdGUgc3RyZWFtaW5nLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI3NwX3N0cmVhbWluZ19wcm9maWxlXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczIwID0gW1widmlkZW9cIiwgXCJ2aWRlb3NcIl07XG5mdW5jdGlvbiBwbHVnaW4yMChwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgc3RyZWFtaW5nUHJvZmlsZSB9ID0gb3B0aW9ucztcbiAgaWYgKHR5cGVvZiBzdHJlYW1pbmdQcm9maWxlID09PSBcInN0cmluZ1wiKSB7XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYHNwXyR7c3RyZWFtaW5nUHJvZmlsZX1gKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy90eXBlcy92aWRlby50c1xudmFyIHZpZGVvT3B0aW9uc1NjaGVtYSA9IGFzc2V0T3B0aW9uc1NjaGVtYS5tZXJnZSh6MjQub2JqZWN0KHtcbiAgLy8gU3ByZWFkaW5nIHBsdWdpbnMgaW5zdGVhZCBvZiBleHRlbmQgb3IgbWVyZ2UgdG8gYXZvaWQgZXhjZXNzaXZlIHNjaGVtYSB3YXJuaW5nXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzQ5MzMjaXNzdWVjb21tZW50LTE3NzI3ODc3ODVcbiAgLi4ucHJvcHMyMFxufSkpO1xuXG4vLyBzcmMvbGliL2Nsb3VkaW5hcnkudHNcbmltcG9ydCB7IHogYXMgejI3IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgQ2xvdWRpbmFyeSB9IGZyb20gXCJAY2xvdWRpbmFyeS91cmwtZ2VuXCI7XG5pbXBvcnQgeyBwYXJzZVVybCwgb2JqZWN0SGFzS2V5IGFzIG9iamVjdEhhc0tleTMgfSBmcm9tIFwiQGNsb3VkaW5hcnktdXRpbC91dGlsXCI7XG5cbi8vIHNyYy90eXBlcy9hbmFseXRpY3MudHNcbmltcG9ydCB7IHogYXMgejI1IH0gZnJvbSBcInpvZFwiO1xudmFyIGFuYWx5dGljc09wdGlvbnNTY2hlbWEgPSB6MjUuYW55KCk7XG5cbi8vIHNyYy90eXBlcy9jb25maWcudHNcbmltcG9ydCB7IHogYXMgejI2IH0gZnJvbSBcInpvZFwiO1xudmFyIGNvbmZpZ09wdGlvbnNTY2hlbWEgPSB6MjYuYW55KCk7XG5cbi8vIHNyYy9saWIvY2xvdWRpbmFyeS50c1xudmFyIHRyYW5zZm9ybWF0aW9uUGx1Z2lucyA9IFtcbiAgLy8gU29tZSBmZWF0dXJlcyAqbXVzdCogYmUgdGhlIGZpcnN0IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWRcbiAgLy8gdGh1cyB0aGVpciBwbHVnaW5zICptdXN0KiBjb21lIGZpcnN0IGluIHRoZSBjaGFpblxuICBlbmhhbmNlX2V4cG9ydHMsXG4gIHJlY29sb3JfZXhwb3J0cyxcbiAgcmVtb3ZlX2JhY2tncm91bmRfZXhwb3J0cyxcbiAgcmVtb3ZlX2V4cG9ydHMsXG4gIHJlcGxhY2VfZXhwb3J0cyxcbiAgcmVzdG9yZV9leHBvcnRzLFxuICAvLyBDcm9wcGluZyBuZWVkcyB0byBiZSBiZWZvcmUgYW55IG90aGVyIGdlbmVyYWwgdHJhbnNmb3JtYXRpb25zXG4gIC8vIGFzIGl0IHByb3ZpZGVzIHRoZSBvcHRpb24gb2YgMi1zdGVwIHJlc2l6aW5nIHdoZXJlIHNvbWVvbmVcbiAgLy8gY2FuIHJlc2l6ZSB0aGUgXCJiYXNlXCIgY2FudmFzIGFzIHdlbGwgYXMgdGhlIGZpbmFsIHJlc2l6ZVxuICAvLyBtZWNoYW5pc20gY29tbW9ubHkgdXNlZCBmb3IgcmVzcG9uc2l2ZSByZXNpemluZ1xuICBjcm9wcGluZ19leHBvcnRzLFxuICAvLyBSYXcgdHJhbnNmb3JtYXRpb25zIHNob3VsZCBhbHdheXMgY29tZSBiZWZvcmVcbiAgLy8gb3RoZXIgYXJndW1lbnRzIHRvIGF2b2lkIGNvbmZsaWN0aW5nIHdpdGhcbiAgLy8gYWRkZWQgb3B0aW9ucyB2aWEgdGhlIGNvbXBvbmVudFxuICByYXdfdHJhbnNmb3JtYXRpb25zX2V4cG9ydHMsXG4gIGFicl9leHBvcnRzLFxuICBkZWZhdWx0X2ltYWdlX2V4cG9ydHMsXG4gIGVmZmVjdHNfZXhwb3J0cyxcbiAgZmlsbF9iYWNrZ3JvdW5kX2V4cG9ydHMsXG4gIGZsYWdzX2V4cG9ydHMsXG4gIG92ZXJsYXlzX2V4cG9ydHMsXG4gIHNhbml0aXplX2V4cG9ydHMsXG4gIG5hbWVkX3RyYW5zZm9ybWF0aW9uc19leHBvcnRzLFxuICBzZW9fZXhwb3J0cyxcbiAgdW5kZXJsYXlzX2V4cG9ydHMsXG4gIHZlcnNpb25fZXhwb3J0cyxcbiAgem9vbXBhbl9leHBvcnRzXG5dO1xudmFyIGNvbnN0cnVjdFVybFByb3BzU2NoZW1hID0gejI3Lm9iamVjdCh7XG4gIGFuYWx5dGljczogejI3LnVuaW9uKFtcbiAgICBhbmFseXRpY3NPcHRpb25zU2NoZW1hLFxuICAgIHoyNy5ib29sZWFuKClcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiVGVjaCwgZGVwZW5kZW5jeSwgYW5kIGZlYXR1cmUgaWRlbnRpZmllcnMgZm9yIHRyYWNraW5nIFNESyB1c2FnZSByZWxhdGVkIHRvIENsb3VkaW5hcnkuXCIsXG4gICAgcGF0aDogXCIvdXJsLWxvYWRlci9hbmFseXRpY3NvcHRpb25zXCJcbiAgfSkpLm9wdGlvbmFsKCksXG4gIGNvbmZpZzogY29uZmlnT3B0aW9uc1NjaGVtYS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJDb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgZm9yIGVudmlyb25tZW50IGFuZCBDbG91ZGluYXJ5IGFjY291bnQuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi9jbG91ZGluYXJ5X3Nka3MjY29uZmlndXJhdGlvbl9wYXJhbWV0ZXJzXCIsXG4gICAgcGF0aDogXCIvdXJsLWxvYWRlci9hbmFseXRpY3NvcHRpb25zXCJcbiAgfSkpLm9wdGlvbmFsKCksXG4gIG9wdGlvbnM6IHoyNy51bmlvbihbXG4gICAgYXNzZXRPcHRpb25zU2NoZW1hLFxuICAgIGltYWdlT3B0aW9uc1NjaGVtYSxcbiAgICB2aWRlb09wdGlvbnNTY2hlbWFcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQXNzZXQgb3B0aW9ucyAoSW1hZ2Ugb3IgVmlkZW8pIHRoYXQgZGVmaW5lIGRlbGl2ZXJ5IFVSTCBpbmNsdWRpbmcgcHVibGljIElEIGFuZCB0cmFuc2Zvcm1hdGlvbnMuXCIsXG4gICAgcGF0aDogXCIvdXJsLWxvYWRlci9hc3NldG9wdGlvbnNcIlxuICB9KSlcbn0pO1xuZnVuY3Rpb24gY29uc3RydWN0Q2xvdWRpbmFyeVVybCh7IG9wdGlvbnMsIGNvbmZpZyA9IHt9LCBhbmFseXRpY3MgfSkge1xuICBpZiAoYW5hbHl0aWNzID09PSBmYWxzZSkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnPy51cmwgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGNvbmZpZy51cmwgPSB7fTtcbiAgICB9XG4gICAgY29uZmlnLnVybC5hbmFseXRpY3MgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBjbGQgPSBuZXcgQ2xvdWRpbmFyeShjb25maWcpO1xuICBpZiAodHlwZW9mIG9wdGlvbnM/LnNyYyAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IEVycm9yKGBGYWlsZWQgdG8gY29uc3RydWN0IENsb3VkaW5hcnkgVVJMOiBNaXNzaW5nIHNvdXJjZSAoc3JjKSBpbiBvcHRpb25zLmApO1xuICB9XG4gIGlmICghb3B0aW9ucz8uYXNzZXRUeXBlKSB7XG4gICAgb3B0aW9ucy5hc3NldFR5cGUgPSBcImltYWdlXCI7XG4gIH1cbiAgY29uc3QgcHJvcHNDaGVjayA9IFtdO1xuICB0cmFuc2Zvcm1hdGlvblBsdWdpbnMuZm9yRWFjaCgoeyBwcm9wczogcHJvcHMyMSB9KSA9PiB7XG4gICAgY29uc3QgcGx1Z2luUHJvcHMgPSBPYmplY3Qua2V5cyhwcm9wczIxKTtcbiAgICBwbHVnaW5Qcm9wcy5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgICBpZiAocHJvcHNDaGVjay5pbmNsdWRlcyhwcm9wKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9wdGlvbiAke3Byb3B9IGFscmVhZHkgZXhpc3RzIWApO1xuICAgICAgfVxuICAgICAgcHJvcHNDaGVjay5wdXNoKHByb3ApO1xuICAgIH0pO1xuICB9KTtcbiAgY29uc3QgcGFyc2VkT3B0aW9ucyA9IHt9O1xuICBsZXQgcHVibGljSWQ7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5zcmMgPT09IFwic3RyaW5nXCIgJiYgL15odHRwcz86XFwvXFwvLy50ZXN0KG9wdGlvbnMuc3JjKSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHBhcnNlVXJsKG9wdGlvbnMuc3JjKTtcbiAgICAgIHB1YmxpY0lkID0gcGFydHM/LnB1YmxpY0lkO1xuICAgICAgcGFyc2VkT3B0aW9ucy5zZW9TdWZmaXggPSBwYXJ0cz8uc2VvU3VmZml4O1xuICAgICAgcGFyc2VkT3B0aW9ucy52ZXJzaW9uID0gcGFydHM/LnZlcnNpb247XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgfVxuICBpZiAoIXB1YmxpY0lkKSB7XG4gICAgcHVibGljSWQgPSBvcHRpb25zLnNyYztcbiAgfVxuICBPYmplY3Qua2V5cyhwYXJzZWRPcHRpb25zKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAob2JqZWN0SGFzS2V5MyhvcHRpb25zLCBrZXkpKVxuICAgICAgcmV0dXJuO1xuICAgIG9wdGlvbnNba2V5XSA9IHBhcnNlZE9wdGlvbnNba2V5XTtcbiAgfSk7XG4gIGxldCBjbGRBc3NldCA9IHZvaWQgMDtcbiAgaWYgKFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdLmluY2x1ZGVzKG9wdGlvbnMuYXNzZXRUeXBlKSkge1xuICAgIGNsZEFzc2V0ID0gY2xkLmltYWdlKHB1YmxpY0lkKTtcbiAgfSBlbHNlIGlmIChbXCJ2aWRlb1wiLCBcInZpZGVvc1wiXS5pbmNsdWRlcyhvcHRpb25zLmFzc2V0VHlwZSkpIHtcbiAgICBjbGRBc3NldCA9IGNsZC52aWRlbyhwdWJsaWNJZCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBjbGRBc3NldCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXNzZXQgdHlwZS5cIik7XG4gIH1cbiAgY29uc3QgcGx1Z2luRWZmZWN0cyA9IHt9O1xuICB0cmFuc2Zvcm1hdGlvblBsdWdpbnMuZm9yRWFjaCgoeyBwbHVnaW46IHBsdWdpbjIxLCBhc3NldFR5cGVzOiBhc3NldFR5cGVzMjEsIHByb3BzOiBwcm9wczIxLCBzdHJpY3Q6IHN0cmljdDIgfSkgPT4ge1xuICAgIGNvbnN0IHN1cHBvcnRlZEFzc2V0VHlwZSA9IHR5cGVvZiBvcHRpb25zPy5hc3NldFR5cGUgIT09IFwidW5kZWZpbmVkXCIgJiYgYXNzZXRUeXBlczIxLmluY2x1ZGVzKG9wdGlvbnM/LmFzc2V0VHlwZSk7XG4gICAgY29uc3QgcGx1Z2luUHJvcHMgPSBPYmplY3Qua2V5cyhwcm9wczIxKTtcbiAgICBjb25zdCBvcHRpb25zS2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICAgIGNvbnN0IGF0dGVtcHRlZFVzZSA9IHBsdWdpblByb3BzLm1hcCgocHJvcCkgPT4gb3B0aW9uc0tleXMuaW5jbHVkZXMocHJvcCkpLmZpbHRlcigoaXNVc2VkKSA9PiAhIWlzVXNlZCkubGVuZ3RoID4gMDtcbiAgICBpZiAoIXN1cHBvcnRlZEFzc2V0VHlwZSkge1xuICAgICAgaWYgKGF0dGVtcHRlZFVzZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYE9uZSBvZiB0aGUgZm9sbG93aW5nIHByb3BzIFske3BsdWdpblByb3BzLmpvaW4oXCIsIFwiKX1dIHdhcyB1c2VkIHdpdGggYW4gdW5zdXBwb3J0ZWQgYXNzZXQgdHlwZSBbJHtvcHRpb25zPy5hc3NldFR5cGV9XWApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zdHJpY3RUcmFuc2Zvcm1hdGlvbnMgJiYgIXN0cmljdDIpIHtcbiAgICAgIGlmIChhdHRlbXB0ZWRVc2UpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBPbmUgb2YgdGhlIGZvbGxvd2luZyBwcm9wcyBbJHtwbHVnaW5Qcm9wcy5qb2luKFwiLCBcIil9XSB3YXMgdXNlZCB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCBTdHJpY3QgVHJhbnNmb3JtYXRpb25zLmApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gcGx1Z2luMjEoe1xuICAgICAgY2xkQXNzZXQsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gICAgY29uc3QgeyBvcHRpb25zOiBwbHVnaW5PcHRpb25zIH0gPSByZXN1bHRzIHx8IHsgb3B0aW9uczogdm9pZCAwIH07XG4gICAgT2JqZWN0LmFzc2lnbihwbHVnaW5FZmZlY3RzLCBwbHVnaW5PcHRpb25zKTtcbiAgfSk7XG4gIGlmICh0eXBlb2YgcGx1Z2luRWZmZWN0cy5yZXNpemUgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjbGRBc3NldC5hZGRUcmFuc2Zvcm1hdGlvbihwbHVnaW5FZmZlY3RzLnJlc2l6ZSk7XG4gIH1cbiAgY2xkQXNzZXQuc2V0RGVsaXZlcnlUeXBlKG9wdGlvbnM/LmRlbGl2ZXJ5VHlwZSB8fCBcInVwbG9hZFwiKTtcbiAgaWYgKCFvcHRpb25zLnN0cmljdFRyYW5zZm9ybWF0aW9ucykge1xuICAgIGlmIChvcHRpb25zPy5kcHIpIHtcbiAgICAgIGxldCBkcHIgPSBvcHRpb25zLmRwcjtcbiAgICAgIGlmICh0eXBlb2YgZHByID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGRwciA9IGRwci50b0ZpeGVkKDEpO1xuICAgICAgfVxuICAgICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYGRwcl8ke2Rwcn1gKTtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdEZvcm1hdCA9IG9wdGlvbnM/LmZvcm1hdCA9PT0gXCJkZWZhdWx0XCI7XG4gICAgY29uc3QgcmF3Q29udGFpbnNGb3JtYXQgPSBzZWFyY2hBc3NldFJhd1RyYW5zZm9ybWF0aW9ucyhcImZfXCIsIGNsZEFzc2V0LCB7IG1hdGNoVHlwZTogXCJzdGFydHNXaXRoXCIgfSk7XG4gICAgY29uc3QgcmF3Q29udGFpbnNGb3JtYXRBbmRFeHBsaWNpdCA9IHJhd0NvbnRhaW5zRm9ybWF0ICYmIHR5cGVvZiBvcHRpb25zPy5mb3JtYXQgIT09IFwidW5kZWZpbmVkXCI7XG4gICAgaWYgKHBsdWdpbkVmZmVjdHM/LmZvcm1hdCB8fCAhZGVmYXVsdEZvcm1hdCAmJiAoIXJhd0NvbnRhaW5zRm9ybWF0IHx8IHJhd0NvbnRhaW5zRm9ybWF0QW5kRXhwbGljaXQpKSB7XG4gICAgICBjbGRBc3NldC5mb3JtYXQob3B0aW9ucz8uZm9ybWF0IHx8IHBsdWdpbkVmZmVjdHM/LmZvcm1hdCB8fCBcImF1dG9cIik7XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRRdWFsaXR5ID0gb3B0aW9ucz8ucXVhbGl0eSA9PT0gXCJkZWZhdWx0XCI7XG4gICAgY29uc3QgcmF3Q29udGFpbnNRdWFsaXR5ID0gc2VhcmNoQXNzZXRSYXdUcmFuc2Zvcm1hdGlvbnMoXCJxX1wiLCBjbGRBc3NldCwgeyBtYXRjaFR5cGU6IFwic3RhcnRzV2l0aFwiIH0pO1xuICAgIGNvbnN0IHJhd0NvbnRhaW5zUXVhbGl0eUFuZEV4cGxpY2l0ID0gcmF3Q29udGFpbnNRdWFsaXR5ICYmIHR5cGVvZiBvcHRpb25zPy5xdWFsaXR5ICE9PSBcInVuZGVmaW5lZFwiO1xuICAgIGlmICghZGVmYXVsdFF1YWxpdHkgJiYgKCFyYXdDb250YWluc1F1YWxpdHkgfHwgcmF3Q29udGFpbnNRdWFsaXR5QW5kRXhwbGljaXQpKSB7XG4gICAgICBjbGRBc3NldC5xdWFsaXR5KG9wdGlvbnM/LnF1YWxpdHkgfHwgXCJhdXRvXCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2xkQXNzZXQudG9VUkwoe1xuICAgIHRyYWNrZWRBbmFseXRpY3M6IGFuYWx5dGljc1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNlYXJjaEFzc2V0UmF3VHJhbnNmb3JtYXRpb25zKHF1ZXJ5LCBhc3NldCwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIGFzc2V0LnRyYW5zZm9ybWF0aW9uID09PSBcInVuZGVmaW5lZFwiKVxuICAgIHJldHVybjtcbiAgY29uc3QgeyBtYXRjaFR5cGUgPSBcImluY2x1ZGVzXCIgfSA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHRyYW5zZm9ybWF0aW9ucyA9IGFzc2V0LnRyYW5zZm9ybWF0aW9uLmFjdGlvbnMuZmxhdE1hcCgodHJhbnNmb3JtYXRpb24pID0+IHtcbiAgICByZXR1cm4gdHJhbnNmb3JtYXRpb24udG9TdHJpbmcoKS5zcGxpdChcIi9cIikuZmxhdE1hcCgoc2VnKSA9PiBzZWcuc3BsaXQoXCIsXCIpKTtcbiAgfSk7XG4gIGNvbnN0IG1hdGNoZXMgPSB0cmFuc2Zvcm1hdGlvbnMuZmlsdGVyKCh0cmFuc2Zvcm1hdGlvbikgPT4ge1xuICAgIGlmIChtYXRjaFR5cGUgPT09IFwic3RhcnRzV2l0aFwiKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtYXRpb24uc3RhcnRzV2l0aChxdWVyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1hdGlvbi5pbmNsdWRlcyhxdWVyeSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG1hdGNoZXMubGVuZ3RoID4gMDtcbn1cblxuZXhwb3J0IHtcbiAgcHJpbWFyeSxcbiAgcG9zaXRpb24sXG4gIHRleHQsXG4gIGVmZmVjdHMsXG4gIGFzc2V0T3B0aW9uc1NjaGVtYSxcbiAgaW1hZ2VPcHRpb25zU2NoZW1hLFxuICB2aWRlb09wdGlvbnNTY2hlbWEsXG4gIHRyYW5zZm9ybWF0aW9uUGx1Z2lucyxcbiAgY29uc3RydWN0VXJsUHJvcHNTY2hlbWEsXG4gIGNvbnN0cnVjdENsb3VkaW5hcnlVcmxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cloudinary-util/url-loader/dist/chunk-5DLOH2LF.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cloudinary-util/url-loader/dist/index.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@cloudinary-util/url-loader/dist/index.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   constructCloudinaryUrl: () => (/* reexport safe */ _chunk_5DLOH2LF_mjs__WEBPACK_IMPORTED_MODULE_1__.constructCloudinaryUrl),\n/* harmony export */   effects: () => (/* reexport safe */ _chunk_5DLOH2LF_mjs__WEBPACK_IMPORTED_MODULE_1__.effects),\n/* harmony export */   getVideoPlayerOptions: () => (/* binding */ getVideoPlayerOptions),\n/* harmony export */   position: () => (/* reexport safe */ _chunk_5DLOH2LF_mjs__WEBPACK_IMPORTED_MODULE_1__.position),\n/* harmony export */   primary: () => (/* reexport safe */ _chunk_5DLOH2LF_mjs__WEBPACK_IMPORTED_MODULE_1__.primary),\n/* harmony export */   text: () => (/* reexport safe */ _chunk_5DLOH2LF_mjs__WEBPACK_IMPORTED_MODULE_1__.text),\n/* harmony export */   transformationPlugins: () => (/* reexport safe */ _chunk_5DLOH2LF_mjs__WEBPACK_IMPORTED_MODULE_1__.transformationPlugins)\n/* harmony export */ });\n/* harmony import */ var _chunk_5DLOH2LF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-5DLOH2LF.mjs */ \"(ssr)/./node_modules/@cloudinary-util/url-loader/dist/chunk-5DLOH2LF.mjs\");\n/* harmony import */ var _cloudinary_util_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cloudinary-util/util */ \"(ssr)/./node_modules/@cloudinary-util/util/dist/index.mjs\");\n\n\n// src/lib/video-player.ts\n\nfunction getVideoPlayerOptions(options, config) {\n  const {\n    autoplay,\n    controls = true,\n    height,\n    language,\n    languages,\n    logo = true,\n    loop = false,\n    muted = false,\n    poster,\n    src,\n    transformation,\n    quality = \"auto\",\n    width,\n    ...otherCldVidPlayerOptions\n  } = options;\n  const { cloudName } = config?.cloud || {};\n  const { secureDistribution, privateCdn } = config?.url || {};\n  if (!cloudName) {\n    throw new Error(\"A Cloudinary Cloud name is required, please make sure your environment variable is set and configured in your environment.\");\n  }\n  let publicId = src || \"\";\n  if (publicId.startsWith(\"http\")) {\n    try {\n      const parts = (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_0__.parseUrl)(src);\n      if (typeof parts?.publicId === \"string\") {\n        publicId = parts?.publicId;\n      }\n    } catch (e) {\n    }\n  }\n  if (!publicId) {\n    throw new Error(\"Video Player requires a src, please make sure to configure your src as a public ID or Cloudinary URL.\");\n  }\n  const playerTransformations = Array.isArray(transformation) ? transformation : [transformation];\n  playerTransformations.unshift({\n    quality\n  });\n  let logoOptions = {};\n  if (typeof logo === \"boolean\") {\n    logoOptions.showLogo = logo;\n  } else if (typeof logo === \"object\") {\n    logoOptions = {\n      ...logoOptions,\n      showLogo: true,\n      logoImageUrl: logo.imageUrl,\n      logoOnclickUrl: logo.onClickUrl\n    };\n  }\n  let autoplayValue = false;\n  let autoplayModeValue = void 0;\n  if (typeof autoplay === \"boolean\" || autoplay === \"true\" || autoplay === \"false\") {\n    autoplayValue = autoplay;\n  }\n  if (typeof autoplay === \"string\" && autoplay !== \"true\" && autoplay !== \"false\") {\n    autoplayModeValue = autoplay;\n  }\n  let playerOptions = {\n    cloud_name: cloudName,\n    privateCdn,\n    secureDistribution,\n    autoplayMode: autoplayModeValue,\n    autoplay: autoplayValue,\n    controls,\n    language,\n    languages,\n    loop,\n    muted,\n    publicId,\n    width,\n    height,\n    aspectRatio: `${width}:${height}`,\n    transformation: playerTransformations,\n    ...logoOptions,\n    ...otherCldVidPlayerOptions\n  };\n  if (typeof poster === \"string\") {\n    playerOptions.posterOptions = {\n      publicId: poster\n    };\n  } else if (typeof poster === \"object\") {\n    if (typeof poster.src !== \"string\") {\n      playerOptions.posterOptions = {\n        publicId: (0,_chunk_5DLOH2LF_mjs__WEBPACK_IMPORTED_MODULE_1__.constructCloudinaryUrl)({\n          options: {\n            ...poster,\n            src: publicId,\n            assetType: \"video\",\n            format: \"auto:image\"\n          },\n          config\n        })\n      };\n    } else {\n      playerOptions.posterOptions = {\n        publicId: (0,_chunk_5DLOH2LF_mjs__WEBPACK_IMPORTED_MODULE_1__.constructCloudinaryUrl)({\n          options: poster,\n          config\n        })\n      };\n    }\n  }\n  return playerOptions;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91cmwtbG9hZGVyL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQU84Qjs7QUFFOUI7QUFDaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osVUFBVSxZQUFZO0FBQ3RCLFVBQVUsaUNBQWlDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrREFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNLEdBQUcsT0FBTztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxrQkFBa0IsMkVBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQSxrQkFBa0IsMkVBQXNCO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWRldi1lY29tLy4vbm9kZV9tb2R1bGVzL0BjbG91ZGluYXJ5LXV0aWwvdXJsLWxvYWRlci9kaXN0L2luZGV4Lm1qcz9kODY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNvbnN0cnVjdENsb3VkaW5hcnlVcmwsXG4gIGVmZmVjdHMsXG4gIHBvc2l0aW9uLFxuICBwcmltYXJ5LFxuICB0ZXh0LFxuICB0cmFuc2Zvcm1hdGlvblBsdWdpbnNcbn0gZnJvbSBcIi4vY2h1bmstNURMT0gyTEYubWpzXCI7XG5cbi8vIHNyYy9saWIvdmlkZW8tcGxheWVyLnRzXG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAY2xvdWRpbmFyeS11dGlsL3V0aWxcIjtcbmZ1bmN0aW9uIGdldFZpZGVvUGxheWVyT3B0aW9ucyhvcHRpb25zLCBjb25maWcpIHtcbiAgY29uc3Qge1xuICAgIGF1dG9wbGF5LFxuICAgIGNvbnRyb2xzID0gdHJ1ZSxcbiAgICBoZWlnaHQsXG4gICAgbGFuZ3VhZ2UsXG4gICAgbGFuZ3VhZ2VzLFxuICAgIGxvZ28gPSB0cnVlLFxuICAgIGxvb3AgPSBmYWxzZSxcbiAgICBtdXRlZCA9IGZhbHNlLFxuICAgIHBvc3RlcixcbiAgICBzcmMsXG4gICAgdHJhbnNmb3JtYXRpb24sXG4gICAgcXVhbGl0eSA9IFwiYXV0b1wiLFxuICAgIHdpZHRoLFxuICAgIC4uLm90aGVyQ2xkVmlkUGxheWVyT3B0aW9uc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgeyBjbG91ZE5hbWUgfSA9IGNvbmZpZz8uY2xvdWQgfHwge307XG4gIGNvbnN0IHsgc2VjdXJlRGlzdHJpYnV0aW9uLCBwcml2YXRlQ2RuIH0gPSBjb25maWc/LnVybCB8fCB7fTtcbiAgaWYgKCFjbG91ZE5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIENsb3VkaW5hcnkgQ2xvdWQgbmFtZSBpcyByZXF1aXJlZCwgcGxlYXNlIG1ha2Ugc3VyZSB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIHNldCBhbmQgY29uZmlndXJlZCBpbiB5b3VyIGVudmlyb25tZW50LlwiKTtcbiAgfVxuICBsZXQgcHVibGljSWQgPSBzcmMgfHwgXCJcIjtcbiAgaWYgKHB1YmxpY0lkLnN0YXJ0c1dpdGgoXCJodHRwXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnRzID0gcGFyc2VVcmwoc3JjKTtcbiAgICAgIGlmICh0eXBlb2YgcGFydHM/LnB1YmxpY0lkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHB1YmxpY0lkID0gcGFydHM/LnB1YmxpY0lkO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICB9XG4gIH1cbiAgaWYgKCFwdWJsaWNJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlZpZGVvIFBsYXllciByZXF1aXJlcyBhIHNyYywgcGxlYXNlIG1ha2Ugc3VyZSB0byBjb25maWd1cmUgeW91ciBzcmMgYXMgYSBwdWJsaWMgSUQgb3IgQ2xvdWRpbmFyeSBVUkwuXCIpO1xuICB9XG4gIGNvbnN0IHBsYXllclRyYW5zZm9ybWF0aW9ucyA9IEFycmF5LmlzQXJyYXkodHJhbnNmb3JtYXRpb24pID8gdHJhbnNmb3JtYXRpb24gOiBbdHJhbnNmb3JtYXRpb25dO1xuICBwbGF5ZXJUcmFuc2Zvcm1hdGlvbnMudW5zaGlmdCh7XG4gICAgcXVhbGl0eVxuICB9KTtcbiAgbGV0IGxvZ29PcHRpb25zID0ge307XG4gIGlmICh0eXBlb2YgbG9nbyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICBsb2dvT3B0aW9ucy5zaG93TG9nbyA9IGxvZ287XG4gIH0gZWxzZSBpZiAodHlwZW9mIGxvZ28gPT09IFwib2JqZWN0XCIpIHtcbiAgICBsb2dvT3B0aW9ucyA9IHtcbiAgICAgIC4uLmxvZ29PcHRpb25zLFxuICAgICAgc2hvd0xvZ286IHRydWUsXG4gICAgICBsb2dvSW1hZ2VVcmw6IGxvZ28uaW1hZ2VVcmwsXG4gICAgICBsb2dvT25jbGlja1VybDogbG9nby5vbkNsaWNrVXJsXG4gICAgfTtcbiAgfVxuICBsZXQgYXV0b3BsYXlWYWx1ZSA9IGZhbHNlO1xuICBsZXQgYXV0b3BsYXlNb2RlVmFsdWUgPSB2b2lkIDA7XG4gIGlmICh0eXBlb2YgYXV0b3BsYXkgPT09IFwiYm9vbGVhblwiIHx8IGF1dG9wbGF5ID09PSBcInRydWVcIiB8fCBhdXRvcGxheSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgYXV0b3BsYXlWYWx1ZSA9IGF1dG9wbGF5O1xuICB9XG4gIGlmICh0eXBlb2YgYXV0b3BsYXkgPT09IFwic3RyaW5nXCIgJiYgYXV0b3BsYXkgIT09IFwidHJ1ZVwiICYmIGF1dG9wbGF5ICE9PSBcImZhbHNlXCIpIHtcbiAgICBhdXRvcGxheU1vZGVWYWx1ZSA9IGF1dG9wbGF5O1xuICB9XG4gIGxldCBwbGF5ZXJPcHRpb25zID0ge1xuICAgIGNsb3VkX25hbWU6IGNsb3VkTmFtZSxcbiAgICBwcml2YXRlQ2RuLFxuICAgIHNlY3VyZURpc3RyaWJ1dGlvbixcbiAgICBhdXRvcGxheU1vZGU6IGF1dG9wbGF5TW9kZVZhbHVlLFxuICAgIGF1dG9wbGF5OiBhdXRvcGxheVZhbHVlLFxuICAgIGNvbnRyb2xzLFxuICAgIGxhbmd1YWdlLFxuICAgIGxhbmd1YWdlcyxcbiAgICBsb29wLFxuICAgIG11dGVkLFxuICAgIHB1YmxpY0lkLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBhc3BlY3RSYXRpbzogYCR7d2lkdGh9OiR7aGVpZ2h0fWAsXG4gICAgdHJhbnNmb3JtYXRpb246IHBsYXllclRyYW5zZm9ybWF0aW9ucyxcbiAgICAuLi5sb2dvT3B0aW9ucyxcbiAgICAuLi5vdGhlckNsZFZpZFBsYXllck9wdGlvbnNcbiAgfTtcbiAgaWYgKHR5cGVvZiBwb3N0ZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICBwbGF5ZXJPcHRpb25zLnBvc3Rlck9wdGlvbnMgPSB7XG4gICAgICBwdWJsaWNJZDogcG9zdGVyXG4gICAgfTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcG9zdGVyID09PSBcIm9iamVjdFwiKSB7XG4gICAgaWYgKHR5cGVvZiBwb3N0ZXIuc3JjICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICBwbGF5ZXJPcHRpb25zLnBvc3Rlck9wdGlvbnMgPSB7XG4gICAgICAgIHB1YmxpY0lkOiBjb25zdHJ1Y3RDbG91ZGluYXJ5VXJsKHtcbiAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAuLi5wb3N0ZXIsXG4gICAgICAgICAgICBzcmM6IHB1YmxpY0lkLFxuICAgICAgICAgICAgYXNzZXRUeXBlOiBcInZpZGVvXCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiYXV0bzppbWFnZVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb25maWdcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYXllck9wdGlvbnMucG9zdGVyT3B0aW9ucyA9IHtcbiAgICAgICAgcHVibGljSWQ6IGNvbnN0cnVjdENsb3VkaW5hcnlVcmwoe1xuICAgICAgICAgIG9wdGlvbnM6IHBvc3RlcixcbiAgICAgICAgICBjb25maWdcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBwbGF5ZXJPcHRpb25zO1xufVxuZXhwb3J0IHtcbiAgY29uc3RydWN0Q2xvdWRpbmFyeVVybCxcbiAgZWZmZWN0cyxcbiAgZ2V0VmlkZW9QbGF5ZXJPcHRpb25zLFxuICBwb3NpdGlvbixcbiAgcHJpbWFyeSxcbiAgdGV4dCxcbiAgdHJhbnNmb3JtYXRpb25QbHVnaW5zXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cloudinary-util/url-loader/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cloudinary-util/util/dist/index.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@cloudinary-util/util/dist/index.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertColorHexToRgb: () => (/* binding */ convertColorHexToRgb),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64),\n/* harmony export */   getFormat: () => (/* binding */ getFormat),\n/* harmony export */   getPublicId: () => (/* binding */ getPublicId),\n/* harmony export */   getTransformations: () => (/* binding */ getTransformations),\n/* harmony export */   objectHasKey: () => (/* binding */ objectHasKey),\n/* harmony export */   parseUrl: () => (/* binding */ parseUrl),\n/* harmony export */   sortByKey: () => (/* binding */ sortByKey),\n/* harmony export */   testColorIsHex: () => (/* binding */ testColorIsHex)\n/* harmony export */ });\n// src/lib/cloudinary.ts\nvar REGEX_VERSION = /\\/v\\d+\\//;\nvar REGEX_FORMAT = /\\.(ai|avif|gif|png|webp|bmp|bw|djvu|dng|ps|ept|eps|eps3|fbx|flif|gif|glb|gltf|heif|heic|ico|indd|jpg|jpe|jpeg|jp2|wdp|jxr|hdp|obj|pdf|ply|png|psd|arw|cr2|svg|tga|tif|tiff|u3ma|usdz|webp|3g2|3gp|avi|flv|m3u8|ts|m2ts|mts|mov|mkv|mp4|mpeg|mpd|mxf|ogv|webm|wmv)$/i;\nvar REGEX_URL = /https?:\\/\\/(?<host>[^\\/]+)\\/(?<cloudName>[^\\/]+)?\\/?(?<assetType>image|images|video|videos|raw|files)\\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)?\\/?(?<signature>s--([a-zA-Z0-9\\_\\-]{8}|[a-zA-Z0-9\\_\\-]{32})--)?\\/?(?<transformations>(?:[^_\\/]+_[^,\\/]+,?\\/?)*\\/)*(?<version>v\\d+|\\w{1,2})\\/(?<publicId>[^\\s]+)$/;\nvar ASSET_TYPES_SEO = [\"images\", \"videos\", \"files\"];\nvar CLOUDINARY_DEFAULT_HOST = \"res.cloudinary.com\";\nfunction parseUrl(src) {\n  var _a, _b, _c, _d;\n  if (typeof src !== \"string\") {\n    throw new Error(`Failed to parse URL - Invalid src: Is not a string`);\n  }\n  const hasVersion = REGEX_VERSION.test(src);\n  if (!hasVersion) {\n    throw new Error(`Failed to parse URL - Invalid src: Does not include version (Ex: /v1234/)`);\n  }\n  const [baseUrlWithExtension, queryString] = src.split(\"?\");\n  const format = getFormat(baseUrlWithExtension);\n  let baseUrl = baseUrlWithExtension;\n  if (format) {\n    baseUrl = baseUrlWithExtension.replace(new RegExp(`${format}$`), \"\");\n  }\n  const results = baseUrl.match(REGEX_URL);\n  const transformations = (_b = (_a = results == null ? void 0 : results.groups) == null ? void 0 : _a.transformations) == null ? void 0 : _b.split(\"/\").filter((t) => !!t);\n  const parts = {\n    ...results == null ? void 0 : results.groups,\n    format,\n    seoSuffix: void 0,\n    transformations: transformations || [],\n    queryParams: {},\n    version: ((_c = results == null ? void 0 : results.groups) == null ? void 0 : _c.version) ? parseInt(results.groups.version.replace(\"v\", \"\")) : void 0\n  };\n  if (parts.host === CLOUDINARY_DEFAULT_HOST && !parts.cloudName) {\n    throw new Error(\"Failed to parse URL - Invalid src: Cloudinary URL delivered from res.cloudinary.com must include Cloud Name (ex: res.cloudinary.com/<Cloud Name>/image/...)\");\n  }\n  if (queryString) {\n    parts.queryParams = queryString.split(\"&\").reduce((prev, curr) => {\n      const [key, value] = curr.split(\"=\");\n      prev[key] = value;\n      return prev;\n    }, {});\n  }\n  if (parts.assetType && ASSET_TYPES_SEO.includes(parts.assetType)) {\n    const publicIdParts = ((_d = parts.publicId) == null ? void 0 : _d.split(\"/\")) || [];\n    parts.seoSuffix = publicIdParts.pop();\n    parts.publicId = publicIdParts.join(\"/\");\n  }\n  if (parts.publicId) {\n    parts.publicId = decodeURIComponent(parts.publicId);\n  }\n  return parts;\n}\nfunction getPublicId(src) {\n  const { publicId } = parseUrl(src) || {};\n  return publicId;\n}\nfunction getTransformations(src) {\n  const { transformations = [] } = parseUrl(src) || {};\n  return transformations.map((t) => t.split(\",\"));\n}\nfunction getFormat(src) {\n  const matches = src.match(REGEX_FORMAT);\n  if (matches === null)\n    return;\n  return matches[0];\n}\n\n// src/lib/colors.ts\nfunction testColorIsHex(value) {\n  if (typeof value !== \"string\")\n    return false;\n  return !!value.startsWith(\"#\");\n}\nfunction convertColorHexToRgb(value) {\n  return `rgb:${value.replace(\"#\", \"\")}`;\n}\n\n// src/lib/util.ts\nfunction encodeBase64(value) {\n  if (typeof btoa === \"function\") {\n    return btoa(value);\n  }\n  if (typeof Buffer !== \"undefined\") {\n    return Buffer.from(value).toString(\"base64\");\n  }\n}\nfunction objectHasKey(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\nfunction sortByKey(array = [], key, type = \"asc\") {\n  function compare(a, b) {\n    let keyA = a[key];\n    let keyB = b[key];\n    if (typeof keyA === \"string\") {\n      keyA = keyA.toLowerCase();\n    }\n    if (typeof keyB === \"string\") {\n      keyB = keyB.toLowerCase();\n    }\n    if (keyA < keyB) {\n      return -1;\n    }\n    if (keyA > keyB) {\n      return 1;\n    }\n    return 0;\n  }\n  let newArray = [...array];\n  if (typeof key !== \"string\")\n    return newArray;\n  newArray = newArray.sort(compare);\n  if (type === \"desc\") {\n    return newArray.reverse();\n  }\n  return newArray;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91dGlsL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLHNQQUFzUCxFQUFFLGlCQUFpQixHQUFHLDJFQUEyRSxJQUFJO0FBQzNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxPQUFPO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFdBQVc7QUFDckI7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1QkFBdUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1QkFBdUI7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItZGV2LWVjb20vLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91dGlsL2Rpc3QvaW5kZXgubWpzP2U3YWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9jbG91ZGluYXJ5LnRzXG52YXIgUkVHRVhfVkVSU0lPTiA9IC9cXC92XFxkK1xcLy87XG52YXIgUkVHRVhfRk9STUFUID0gL1xcLihhaXxhdmlmfGdpZnxwbmd8d2VicHxibXB8Ynd8ZGp2dXxkbmd8cHN8ZXB0fGVwc3xlcHMzfGZieHxmbGlmfGdpZnxnbGJ8Z2x0ZnxoZWlmfGhlaWN8aWNvfGluZGR8anBnfGpwZXxqcGVnfGpwMnx3ZHB8anhyfGhkcHxvYmp8cGRmfHBseXxwbmd8cHNkfGFyd3xjcjJ8c3ZnfHRnYXx0aWZ8dGlmZnx1M21hfHVzZHp8d2VicHwzZzJ8M2dwfGF2aXxmbHZ8bTN1OHx0c3xtMnRzfG10c3xtb3Z8bWt2fG1wNHxtcGVnfG1wZHxteGZ8b2d2fHdlYm18d212KSQvaTtcbnZhciBSRUdFWF9VUkwgPSAvaHR0cHM/OlxcL1xcLyg/PGhvc3Q+W15cXC9dKylcXC8oPzxjbG91ZE5hbWU+W15cXC9dKyk/XFwvPyg/PGFzc2V0VHlwZT5pbWFnZXxpbWFnZXN8dmlkZW98dmlkZW9zfHJhd3xmaWxlcylcXC8oPzxkZWxpdmVyeVR5cGU+dXBsb2FkfGZldGNofHByaXZhdGV8YXV0aGVudGljYXRlZHxzcHJpdGV8ZmFjZWJvb2t8dHdpdHRlcnx5b3V0dWJlfHZpbWVvKT9cXC8/KD88c2lnbmF0dXJlPnMtLShbYS16QS1aMC05XFxfXFwtXXs4fXxbYS16QS1aMC05XFxfXFwtXXszMn0pLS0pP1xcLz8oPzx0cmFuc2Zvcm1hdGlvbnM+KD86W15fXFwvXStfW14sXFwvXSssP1xcLz8pKlxcLykqKD88dmVyc2lvbj52XFxkK3xcXHd7MSwyfSlcXC8oPzxwdWJsaWNJZD5bXlxcc10rKSQvO1xudmFyIEFTU0VUX1RZUEVTX1NFTyA9IFtcImltYWdlc1wiLCBcInZpZGVvc1wiLCBcImZpbGVzXCJdO1xudmFyIENMT1VESU5BUllfREVGQVVMVF9IT1NUID0gXCJyZXMuY2xvdWRpbmFyeS5jb21cIjtcbmZ1bmN0aW9uIHBhcnNlVXJsKHNyYykge1xuICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gIGlmICh0eXBlb2Ygc3JjICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2UgVVJMIC0gSW52YWxpZCBzcmM6IElzIG5vdCBhIHN0cmluZ2ApO1xuICB9XG4gIGNvbnN0IGhhc1ZlcnNpb24gPSBSRUdFWF9WRVJTSU9OLnRlc3Qoc3JjKTtcbiAgaWYgKCFoYXNWZXJzaW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2UgVVJMIC0gSW52YWxpZCBzcmM6IERvZXMgbm90IGluY2x1ZGUgdmVyc2lvbiAoRXg6IC92MTIzNC8pYCk7XG4gIH1cbiAgY29uc3QgW2Jhc2VVcmxXaXRoRXh0ZW5zaW9uLCBxdWVyeVN0cmluZ10gPSBzcmMuc3BsaXQoXCI/XCIpO1xuICBjb25zdCBmb3JtYXQgPSBnZXRGb3JtYXQoYmFzZVVybFdpdGhFeHRlbnNpb24pO1xuICBsZXQgYmFzZVVybCA9IGJhc2VVcmxXaXRoRXh0ZW5zaW9uO1xuICBpZiAoZm9ybWF0KSB7XG4gICAgYmFzZVVybCA9IGJhc2VVcmxXaXRoRXh0ZW5zaW9uLnJlcGxhY2UobmV3IFJlZ0V4cChgJHtmb3JtYXR9JGApLCBcIlwiKTtcbiAgfVxuICBjb25zdCByZXN1bHRzID0gYmFzZVVybC5tYXRjaChSRUdFWF9VUkwpO1xuICBjb25zdCB0cmFuc2Zvcm1hdGlvbnMgPSAoX2IgPSAoX2EgPSByZXN1bHRzID09IG51bGwgPyB2b2lkIDAgOiByZXN1bHRzLmdyb3VwcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRyYW5zZm9ybWF0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnNwbGl0KFwiL1wiKS5maWx0ZXIoKHQpID0+ICEhdCk7XG4gIGNvbnN0IHBhcnRzID0ge1xuICAgIC4uLnJlc3VsdHMgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3VsdHMuZ3JvdXBzLFxuICAgIGZvcm1hdCxcbiAgICBzZW9TdWZmaXg6IHZvaWQgMCxcbiAgICB0cmFuc2Zvcm1hdGlvbnM6IHRyYW5zZm9ybWF0aW9ucyB8fCBbXSxcbiAgICBxdWVyeVBhcmFtczoge30sXG4gICAgdmVyc2lvbjogKChfYyA9IHJlc3VsdHMgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3VsdHMuZ3JvdXBzKSA9PSBudWxsID8gdm9pZCAwIDogX2MudmVyc2lvbikgPyBwYXJzZUludChyZXN1bHRzLmdyb3Vwcy52ZXJzaW9uLnJlcGxhY2UoXCJ2XCIsIFwiXCIpKSA6IHZvaWQgMFxuICB9O1xuICBpZiAocGFydHMuaG9zdCA9PT0gQ0xPVURJTkFSWV9ERUZBVUxUX0hPU1QgJiYgIXBhcnRzLmNsb3VkTmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBVUkwgLSBJbnZhbGlkIHNyYzogQ2xvdWRpbmFyeSBVUkwgZGVsaXZlcmVkIGZyb20gcmVzLmNsb3VkaW5hcnkuY29tIG11c3QgaW5jbHVkZSBDbG91ZCBOYW1lIChleDogcmVzLmNsb3VkaW5hcnkuY29tLzxDbG91ZCBOYW1lPi9pbWFnZS8uLi4pXCIpO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZykge1xuICAgIHBhcnRzLnF1ZXJ5UGFyYW1zID0gcXVlcnlTdHJpbmcuc3BsaXQoXCImXCIpLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gY3Vyci5zcGxpdChcIj1cIik7XG4gICAgICBwcmV2W2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH0sIHt9KTtcbiAgfVxuICBpZiAocGFydHMuYXNzZXRUeXBlICYmIEFTU0VUX1RZUEVTX1NFTy5pbmNsdWRlcyhwYXJ0cy5hc3NldFR5cGUpKSB7XG4gICAgY29uc3QgcHVibGljSWRQYXJ0cyA9ICgoX2QgPSBwYXJ0cy5wdWJsaWNJZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLnNwbGl0KFwiL1wiKSkgfHwgW107XG4gICAgcGFydHMuc2VvU3VmZml4ID0gcHVibGljSWRQYXJ0cy5wb3AoKTtcbiAgICBwYXJ0cy5wdWJsaWNJZCA9IHB1YmxpY0lkUGFydHMuam9pbihcIi9cIik7XG4gIH1cbiAgaWYgKHBhcnRzLnB1YmxpY0lkKSB7XG4gICAgcGFydHMucHVibGljSWQgPSBkZWNvZGVVUklDb21wb25lbnQocGFydHMucHVibGljSWQpO1xuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIGdldFB1YmxpY0lkKHNyYykge1xuICBjb25zdCB7IHB1YmxpY0lkIH0gPSBwYXJzZVVybChzcmMpIHx8IHt9O1xuICByZXR1cm4gcHVibGljSWQ7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1hdGlvbnMoc3JjKSB7XG4gIGNvbnN0IHsgdHJhbnNmb3JtYXRpb25zID0gW10gfSA9IHBhcnNlVXJsKHNyYykgfHwge307XG4gIHJldHVybiB0cmFuc2Zvcm1hdGlvbnMubWFwKCh0KSA9PiB0LnNwbGl0KFwiLFwiKSk7XG59XG5mdW5jdGlvbiBnZXRGb3JtYXQoc3JjKSB7XG4gIGNvbnN0IG1hdGNoZXMgPSBzcmMubWF0Y2goUkVHRVhfRk9STUFUKTtcbiAgaWYgKG1hdGNoZXMgPT09IG51bGwpXG4gICAgcmV0dXJuO1xuICByZXR1cm4gbWF0Y2hlc1swXTtcbn1cblxuLy8gc3JjL2xpYi9jb2xvcnMudHNcbmZ1bmN0aW9uIHRlc3RDb2xvcklzSGV4KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gISF2YWx1ZS5zdGFydHNXaXRoKFwiI1wiKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRDb2xvckhleFRvUmdiKHZhbHVlKSB7XG4gIHJldHVybiBgcmdiOiR7dmFsdWUucmVwbGFjZShcIiNcIiwgXCJcIil9YDtcbn1cblxuLy8gc3JjL2xpYi91dGlsLnRzXG5mdW5jdGlvbiBlbmNvZGVCYXNlNjQodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gYnRvYSh2YWx1ZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWUpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICB9XG59XG5mdW5jdGlvbiBvYmplY3RIYXNLZXkob2JqLCBrZXkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG5mdW5jdGlvbiBzb3J0QnlLZXkoYXJyYXkgPSBbXSwga2V5LCB0eXBlID0gXCJhc2NcIikge1xuICBmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgICBsZXQga2V5QSA9IGFba2V5XTtcbiAgICBsZXQga2V5QiA9IGJba2V5XTtcbiAgICBpZiAodHlwZW9mIGtleUEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGtleUEgPSBrZXlBLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Yga2V5QiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAga2V5QiA9IGtleUIudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKGtleUEgPCBrZXlCKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChrZXlBID4ga2V5Qikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCBuZXdBcnJheSA9IFsuLi5hcnJheV07XG4gIGlmICh0eXBlb2Yga2V5ICE9PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiBuZXdBcnJheTtcbiAgbmV3QXJyYXkgPSBuZXdBcnJheS5zb3J0KGNvbXBhcmUpO1xuICBpZiAodHlwZSA9PT0gXCJkZXNjXCIpIHtcbiAgICByZXR1cm4gbmV3QXJyYXkucmV2ZXJzZSgpO1xuICB9XG4gIHJldHVybiBuZXdBcnJheTtcbn1cbmV4cG9ydCB7XG4gIGNvbnZlcnRDb2xvckhleFRvUmdiLFxuICBlbmNvZGVCYXNlNjQsXG4gIGdldEZvcm1hdCxcbiAgZ2V0UHVibGljSWQsXG4gIGdldFRyYW5zZm9ybWF0aW9ucyxcbiAgb2JqZWN0SGFzS2V5LFxuICBwYXJzZVVybCxcbiAgc29ydEJ5S2V5LFxuICB0ZXN0Q29sb3JJc0hleFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cloudinary-util/util/dist/index.mjs\n");

/***/ })

};
;